<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Atlas of Extractive Complexity</title>
  <meta name="description" content="">

  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="canonical" href="http://localhost:4000/chart">
  <link rel="alternate" type="application/rss+xml" title="Atlas of Extractive Complexity" href="/feed.xml">

  

  
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
  

</head>


  
  
  
  <body class="">
  
    <header><div class="nav">
  <a href="/"><div class="nav-icon home-icon"><svg enable-background="new 0 0 100 100" viewBox="0 0 100 125" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><clipPath id="a"><path d="m0 0h100v100h-100z"/></clipPath><path clip-path="url(#a)" d="m76.958 46.427-23.957-20.879c-1.178-1.026-2.932-1.024-4.106.004l-23.855 20.88c-2.168 1.898-.825 5.469 2.056 5.469 1.723 0 3.12 1.397 3.12 3.121v18.23c0 1.724 1.398 3.12 3.121 3.12h10.935v-15.977c0-.975.789-1.764 1.763-1.764h9.933c.974 0 1.764.789 1.764 1.764v15.978h10.385c1.724 0 3.121-1.396 3.121-3.12v-18.23c0-1.724 1.397-3.121 3.12-3.121h.55c2.884-.002 4.225-3.58 2.05-5.475"/><g font-family="'Helvetica Neue', Helvetica, Arial-Unicode, Arial, Sans-serif" font-size="5" font-weight="bold"></svg>
</div></a>
  <div class="nav-search"><form>
	<input type="search" placeholder="Search goes here" class="nav-search-input">
</form>
</div>
  <div class="nav-icon search-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 18 22.5" version="1.1" x="0px" y="0px"><title>ic_search</title><desc>Created with Sketch.</desc><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="#FFFFFF"><rect transform="translate(14.126524, 14.139980) rotate(-405.000000) translate(-14.126524, -14.139980) " x="13.3765242" y="10.1399801" width="1.5" height="8" rx="0.75"/><path d="M7,14 C10.8659932,14 14,10.8659932 14,7 C14,3.13400675 10.8659932,1.77635684e-15 7,1.77635684e-15 C3.13400675,1.77635684e-15 -1.67155179e-12,3.13400675 -1.67155179e-12,7 C-1.67155179e-12,10.8659932 3.13400675,14 7,14 Z M7,12.5 C10.0375661,12.5 12.5,10.0375661 12.5,7 C12.5,3.96243388 10.0375661,1.5 7,1.5 C3.96243388,1.5 1.5,3.96243388 1.5,7 C1.5,10.0375661 3.96243388,12.5 7,12.5 Z" transform="translate(7.000000, 7.000000) rotate(-90.000000) translate(-7.000000, -7.000000) "/></g></g></svg>
</div>
</div>
</header>
    <div class="wrapper">
      <main><article class="post">

  <header class="post-header">
    <h1 class="post-title"></h1>
  </header>

  <div class="post-content">
    <script>window.Flourish = {"static_prefix":".","environment":"live","is_read_only":true};</script>
<script>var template=function(t){"use strict";var r="http://www.w3.org/1999/xhtml",a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function i(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),a.hasOwnProperty(e)?{space:a[e],local:t}:t}function o(t){var e=i(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===r&&t.documentElement.namespaceURI===r?t.createElement(n):t.createElementNS(e,n)}})(e)}function e(){}function h(t){return null==t?e:function(){return this.querySelector(t)}}function n(){return[]}function b(t){return null==t?n:function(){return this.querySelectorAll(t)}}function u(t){return function(){return this.matches(t)}}function l(t){return new Array(t.length)}function p(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}p.prototype={constructor:p,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var _="$";function x(t,e,n,r,a,i){for(var o,l=0,s=e.length,c=i.length;l<c;++l)(o=e[l])?(o.__data__=i[l],r[l]=o):n[l]=new p(t,i[l]);for(;l<s;++l)(o=e[l])&&(a[l]=o)}function w(t,e,n,r,a,i,o){var l,s,c,u={},f=e.length,d=i.length,h=new Array(f);for(l=0;l<f;++l)(s=e[l])&&(h[l]=c=_+o.call(s,s.__data__,l,e),c in u?a[l]=s:u[c]=s);for(l=0;l<d;++l)(s=u[c=_+o.call(t,i[l],l,i)])?((r[l]=s).__data__=i[l],u[c]=null):n[l]=new p(t,i[l]);for(l=0;l<f;++l)(s=e[l])&&u[h[l]]===s&&(a[l]=s)}function f(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function s(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function c(t,e){return t.style.getPropertyValue(e)||s(t).getComputedStyle(t,null).getPropertyValue(e)}function d(t){return t.trim().split(/^|\s+/)}function y(t){return t.classList||new g(t)}function g(t){this._node=t,this._names=d(t.getAttribute("class")||"")}function m(t,e){for(var n=y(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function v(t,e){for(var n=y(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function M(){this.textContent=""}function k(){this.innerHTML=""}function z(){this.nextSibling&&this.parentNode.appendChild(this)}function C(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function A(){return null}function T(){var t=this.parentNode;t&&t.removeChild(this)}function S(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function E(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}g.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var L={},N=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(L={mouseenter:"mouseover",mouseleave:"mouseout"}));function F(n,t,e){return n=P(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function P(n,r,a){return function(t){var e=N;N=t;try{n.call(this,this.__data__,r,a)}finally{N=e}}}function O(i){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,a=t.length;n<a;++n)e=t[n],i.type&&e.type!==i.type||e.name!==i.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function D(s,c,u){var f=L.hasOwnProperty(s.type)?F:P;return function(t,e,n){var r,a=this.__on,i=f(c,e,n);if(a)for(var o=0,l=a.length;o<l;++o)if((r=a[o]).type===s.type&&r.name===s.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=i,r.capture=u),void(r.value=c);this.addEventListener(s.type,i,u),r={type:s.type,name:s.name,value:c,listener:i,capture:u},a?a.push(r):this.__on=[r]}}function U(t,e,n){var r=s(t),a=r.CustomEvent;"function"==typeof a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}var H=[null];function B(t,e){this._groups=t,this._parents=e}function j(){return new B([[document.documentElement]],H)}function q(t){return"string"==typeof t?new B([[document.querySelector(t)]],[document.documentElement]):new B([[t]],H)}function R(t){var e=function(){for(var t,e=N;t=e.sourceEvent;)e=t;return e}();return e.changedTouches&&(e=e.changedTouches[0]),function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}(t,e)}function Y(){return parseFloat}function I(){return function(t){return t.toString()}}B.prototype=j.prototype={constructor:B,select:function(t){"function"!=typeof t&&(t=h(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o,l=e[a],s=l.length,c=r[a]=new Array(s),u=0;u<s;++u)(i=l[u])&&(o=t.call(i,i.__data__,u,l))&&("__data__"in i&&(o.__data__=i.__data__),c[u]=o);return new B(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=b(t));for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var o,l=e[i],s=l.length,c=0;c<s;++c)(o=l[c])&&(r.push(t.call(o,o.__data__,c,l)),a.push(o));return new B(r,a)},filter:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],l=o.length,s=r[a]=[],c=0;c<l;++c)(i=o[c])&&t.call(i,i.__data__,c,o)&&s.push(i);return new B(r,this._parents)},data:function(t,e){if(!t)return h=new Array(this.size()),c=-1,this.each(function(t){h[++c]=t}),h;var n=e?w:x,r=this._parents,a=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var i=a.length,o=new Array(i),l=new Array(i),s=new Array(i),c=0;c<i;++c){var u=r[c],f=a[c],d=f.length,h=t.call(u,u&&u.__data__,c,r),p=h.length,_=l[c]=new Array(p),y=o[c]=new Array(p);n(u,f,_,y,s[c]=new Array(d),h,e);for(var b,g,m=0,v=0;m<p;++m)if(b=_[m]){for(v<=m&&(v=m+1);!(g=y[v])&&++v<p;);b._next=g||null}}return(o=new B(o,r))._enter=l,o._exit=s,o},enter:function(){return new B(this._enter||this._groups.map(l),this._parents)},exit:function(){return new B(this._exit||this._groups.map(l),this._parents)},join:function(t,e,n){var r=this.enter(),a=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(a=e(a)),null==n?i.remove():n(i),r&&a?r.merge(a).order():a},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var s,c=e[l],u=n[l],f=c.length,d=o[l]=new Array(f),h=0;h<f;++h)(s=c[h]||u[h])&&(d[h]=s);for(;l<r;++l)o[l]=e[l];return new B(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,a=t[e],i=a.length-1,o=a[i];0<=--i;)(r=a[i])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||f;for(var e=this._groups,r=e.length,a=new Array(r),i=0;i<r;++i){for(var o,l=e[i],s=l.length,c=a[i]=new Array(s),u=0;u<s;++u)(o=l[u])&&(c[u]=o);c.sort(t)}return new B(a,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a,i=e[n],o=0,l=i.length;o<l;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this},attr:function(t,e){var n=i(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):c(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=d(t+"");if(arguments.length<2){for(var r=y(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?m:v)(this,t)}}:e?function(t){return function(){m(this,t)}}:function(t){return function(){v(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?M:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?k:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(z)},lower:function(){return this.each(C)},append:function(t){var e="function"==typeof t?t:o(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:o(t),r=null==e?A:"function"==typeof e?e:h(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(T)},clone:function(t){return this.select(t?E:S)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,a,i=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),o=i.length;if(!(arguments.length<2)){for(l=e?D:O,null==n&&(n=!1),r=0;r<o;++r)this.each(l(i[r],e,n));return this}var l=this.node().__on;if(l)for(var s,c=0,u=l.length;c<u;++c)for(r=0,s=l[c];r<o;++r)if((a=i[r]).type===s.type&&a.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return U(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return U(this,t,e)}})(t,e))}};var W=new Date,V=new Date;function X(i,o,n,r){function l(t){return i(t=new Date(+t)),t}return(l.floor=l).ceil=function(t){return i(t=new Date(t-1)),o(t,1),i(t),t},l.round=function(t){var e=l(t),n=l.ceil(t);return t-e<n-t?e:n},l.offset=function(t,e){return o(t=new Date(+t),null==e?1:Math.floor(e)),t},l.range=function(t,e,n){var r,a=[];if(t=l.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return a;for(;a.push(r=new Date(+t)),o(t,n),i(t),r<t&&t<e;);return a},l.filter=function(n){return X(function(t){if(t<=t)for(;i(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;o(t,-1),!n(t););else for(;0<=--e;)for(;o(t,1),!n(t););})},n&&(l.count=function(t,e){return W.setTime(+t),V.setTime(+e),i(W),i(V),Math.floor(n(W,V))},l.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?l.filter(r?function(t){return r(t)%e==0}:function(t){return l.count(0,t)%e==0}):l:null}),l}var $=X(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});$.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?X(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):$:null};var Z=6e4,G=36e5,J=(X(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),X(function(t){t.setTime(Math.floor(t/Z)*Z)},function(t,e){t.setTime(+t+e*Z)},function(t,e){return(e-t)/Z},function(t){return t.getMinutes()}),X(function(t){var e=t.getTimezoneOffset()*Z%G;e<0&&(e+=G),t.setTime(Math.floor((+t-e)/G)*G+e)},function(t,e){t.setTime(+t+e*G)},function(t,e){return(e-t)/G},function(t){return t.getHours()}),X(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Z)/864e5},function(t){return t.getDate()-1}));function Q(e){return X(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Z)/6048e5})}var K=Q(0),tt=Q(1),et=(Q(2),Q(3),Q(4)),nt=(Q(5),Q(6),X(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),X(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));nt.every=function(n){return isFinite(n=Math.floor(n))&&0<n?X(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};X(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Z)},function(t,e){return(e-t)/Z},function(t){return t.getUTCMinutes()}),X(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*G)},function(t,e){return(e-t)/G},function(t){return t.getUTCHours()});var rt=X(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});function at(e){return X(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var it=at(0),ot=at(1),lt=(at(2),at(3),at(4)),st=(at(5),at(6),X(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),X(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));function ct(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ut(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ft(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}st.every=function(n){return isFinite(n=Math.floor(n))&&0<n?X(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var dt,ht,pt,_t,yt,bt,gt,mt,vt,xt,wt,Mt,kt,zt,Ct,At,Tt,St,Et,Lt,Nt,Ft,Pt,Ot,Dt={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,Ht=/^%/,Bt=/[\\^$*+?|[\]().{}]/g;function jt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function qt(t){return t.replace(Bt,"\\$&")}function Rt(t){return new RegExp("^(?:"+t.map(qt).join("|")+")","i")}function Yt(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function It(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Wt(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Vt(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Xt(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function $t(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Zt(t,e,n){var r=Ut.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Gt(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function Jt(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Qt(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Kt(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function te(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ee(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ne(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function re(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ae(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ie(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oe(t,e,n){var r=Ut.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function le(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function se(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ce(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ue(t,e){return jt(t.getDate(),e,2)}function fe(t,e){return jt(t.getHours(),e,2)}function de(t,e){return jt(t.getHours()%12||12,e,2)}function he(t,e){return jt(1+J.count(nt(t),t),e,3)}function pe(t,e){return jt(t.getMilliseconds(),e,3)}function _e(t,e){return pe(t,e)+"000"}function ye(t,e){return jt(t.getMonth()+1,e,2)}function be(t,e){return jt(t.getMinutes(),e,2)}function ge(t,e){return jt(t.getSeconds(),e,2)}function me(t){var e=t.getDay();return 0===e?7:e}function ve(t,e){return jt(K.count(nt(t)-1,t),e,2)}function xe(t){var e=t.getDay();return 4<=e||0===e?et(t):et.ceil(t)}function we(t,e){return t=xe(t),jt(et.count(nt(t),t)+(4===nt(t).getDay()),e,2)}function Me(t){return t.getDay()}function ke(t,e){return jt(tt.count(nt(t)-1,t),e,2)}function ze(t,e){return jt(t.getFullYear()%100,e,2)}function Ce(t,e){return jt((t=xe(t)).getFullYear()%100,e,2)}function Ae(t,e){return jt(t.getFullYear()%1e4,e,4)}function Te(t,e){var n=t.getDay();return jt((t=4<=n||0===n?et(t):et.ceil(t)).getFullYear()%1e4,e,4)}function Se(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+jt(e/60|0,"0",2)+jt(e%60,"0",2)}function Ee(t,e){return jt(t.getUTCDate(),e,2)}function Le(t,e){return jt(t.getUTCHours(),e,2)}function Ne(t,e){return jt(t.getUTCHours()%12||12,e,2)}function Fe(t,e){return jt(1+rt.count(st(t),t),e,3)}function Pe(t,e){return jt(t.getUTCMilliseconds(),e,3)}function Oe(t,e){return Pe(t,e)+"000"}function De(t,e){return jt(t.getUTCMonth()+1,e,2)}function Ue(t,e){return jt(t.getUTCMinutes(),e,2)}function He(t,e){return jt(t.getUTCSeconds(),e,2)}function Be(t){var e=t.getUTCDay();return 0===e?7:e}function je(t,e){return jt(it.count(st(t)-1,t),e,2)}function qe(t){var e=t.getUTCDay();return 4<=e||0===e?lt(t):lt.ceil(t)}function Re(t,e){return t=qe(t),jt(lt.count(st(t),t)+(4===st(t).getUTCDay()),e,2)}function Ye(t){return t.getUTCDay()}function Ie(t,e){return jt(ot.count(st(t)-1,t),e,2)}function We(t,e){return jt(t.getUTCFullYear()%100,e,2)}function Ve(t,e){return jt((t=qe(t)).getUTCFullYear()%100,e,2)}function Xe(t,e){return jt(t.getUTCFullYear()%1e4,e,4)}function $e(t,e){var n=t.getUTCDay();return jt((t=4<=n||0===n?lt(t):lt.ceil(t)).getUTCFullYear()%1e4,e,4)}function Ze(){return"+0000"}function Ge(){return"%"}function Je(t){return+t}function Qe(t){return Math.floor(+t/1e3)}function Ke(s,c){return function(t){var e,n,r,a=[],i=-1,o=0,l=s.length;for(t instanceof Date||(t=new Date(+t));++i<l;)37===s.charCodeAt(i)&&(a.push(s.slice(o,i)),null!=(n=Dt[e=s.charAt(++i)])?e=s.charAt(++i):n="e"===e?" ":"0",(r=c[e])&&(e=r(t,n)),a.push(e),o=i+1);return a.push(s.slice(o,i)),a.join("")}}function tn(a,i){return function(t){var e,n,r=ft(1900,void 0,1);if(en(r,a,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(!i||"Z"in r||(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=ut(ft(r.y,0,1))).getUTCDay())||0===n?ot.ceil(e):ot(e),e=rt.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=ct(ft(r.y,0,1))).getDay())||0===n?tt.ceil(e):tt(e),e=J.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?ut(ft(r.y,0,1)).getUTCDay():ct(ft(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,ut(r)):ct(r)}}function en(t,e,n,r){for(var a,i,o=0,l=e.length,s=n.length;o<l;){if(s<=r)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(i=Ot[a in Dt?e.charAt(o++):a])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}function nn(t){return t.toLowerCase()}function rn(){return this.declarations=[],this}function an(t){return this.selector=t,this.styles=[],this}_t=(pt={dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}).dateTime,yt=pt.date,bt=pt.time,gt=pt.periods,mt=pt.days,vt=pt.shortDays,xt=pt.months,wt=pt.shortMonths,Mt=Rt(gt),kt=Yt(gt),zt=Rt(mt),Ct=Yt(mt),At=Rt(vt),Tt=Yt(vt),St=Rt(xt),Et=Yt(xt),Lt=Rt(wt),Nt=Yt(wt),Pt={a:function(t){return vt[t.getUTCDay()]},A:function(t){return mt[t.getUTCDay()]},b:function(t){return wt[t.getUTCMonth()]},B:function(t){return xt[t.getUTCMonth()]},c:null,d:Ee,e:Ee,f:Oe,g:Ve,G:$e,H:Le,I:Ne,j:Fe,L:Pe,m:De,M:Ue,p:function(t){return gt[+(12<=t.getUTCHours())]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Je,s:Qe,S:He,u:Be,U:je,V:Re,w:Ye,W:Ie,x:null,X:null,y:We,Y:Xe,Z:Ze,"%":Ge},Ot={a:function(t,e,n){var r=At.exec(e.slice(n));return r?(t.w=Tt[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=zt.exec(e.slice(n));return r?(t.w=Ct[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.m=Nt[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=St.exec(e.slice(n));return r?(t.m=Et[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return en(t,_t,e,n)},d:te,e:te,f:oe,g:Gt,G:Zt,H:ne,I:ne,j:ee,L:ie,m:Kt,M:re,p:function(t,e,n){var r=Mt.exec(e.slice(n));return r?(t.p=kt[r[0].toLowerCase()],n+r[0].length):-1},q:Qt,Q:se,s:ce,S:ae,u:Wt,U:Vt,V:Xt,w:It,W:$t,x:function(t,e,n){return en(t,yt,e,n)},X:function(t,e,n){return en(t,bt,e,n)},y:Gt,Y:Zt,Z:Jt,"%":le},(Ft={a:function(t){return vt[t.getDay()]},A:function(t){return mt[t.getDay()]},b:function(t){return wt[t.getMonth()]},B:function(t){return xt[t.getMonth()]},c:null,d:ue,e:ue,f:_e,g:Ce,G:Te,H:fe,I:de,j:he,L:pe,m:ye,M:be,p:function(t){return gt[+(12<=t.getHours())]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Je,s:Qe,S:ge,u:me,U:ve,V:we,w:Me,W:ke,x:null,X:null,y:ze,Y:Ae,Z:Se,"%":Ge}).x=Ke(yt,Ft),Ft.X=Ke(bt,Ft),Ft.c=Ke(_t,Ft),Pt.x=Ke(yt,Pt),Pt.X=Ke(bt,Pt),Pt.c=Ke(_t,Pt),dt={format:function(t){var e=Ke(t+="",Ft);return e.toString=function(){return t},e},parse:function(t){var e=tn(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=Ke(t+="",Pt);return e.toString=function(){return t},e},utcParse:function(t){var e=tn(t+="",!0);return e.toString=function(){return t},e}},ht=dt.parse,dt.utcFormat,dt.utcParse,rn.prototype.select=function(t){if(!t)return this;var e=new an(t,this);return(e.parent=this).addDeclaration(e),e},rn.prototype.addDeclaration=function(t){return this.declarations.push(t),this},rn.prototype.print=function(){var e="";return this.declarations.forEach(function(t){e+=t.selector+" {\n",t.styles.forEach(function(t){e+="\t"+t[0]+": "+t[1]+";\n"}),e+="}\n\n"}),e},rn.prototype.clear=function(){return this.declarations=[],this},an.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this};var on=!(an.prototype.select=function(t){return this.parent.select(this.selector+" "+t)});function ln(){if(!on&&"undefined"!=typeof document){var t=function(){var t=new rn;return t.select(".fl-controls-container").style("display","inline-block").style("line-height","1em"),t.select(".fl-controls-title").style("display","inline-block").style("margin","0px 0.5em 0px 0px"),t.select(".fl-controls-container, .fl-controls-container *").style("box-sizing","border-box"),t.select(".slider-holder").style("margin-bottom","20px"),t.select(".fl-controls-slider, .slider-play").style("pointer-events","all").style("display","inline-block").style("vertical-align","middle"),t.select(".slider-play svg").style("height","100%").style("width","100%").style("cursor"," pointer",""),t.select(".slider-play:hover").style("opacity","0.6"),t.select(".fl-control-slider").style("width","100%").style("bottom","0"),t.select(".fl-control").style("position","relative"),t.select(".fl-control.hidden").style("display","none"),t.select(".fl-control .button").style("display","inline-block").style("background","#eee").style("padding","0.5em").style("margin-right","0.25em").style("margin-bottom","0.25em").style("line-height","1em"),t.select(".fl-control.grouped:not(.hidden)").style("display","inline-table").style("table-layout","fixed").select(".button").style("display","table-cell").style("margin","0").style("text-align","center"),t.select(".fl-control .button.selected").style("background","#ddd"),t.select(".fl-control-dropdown").style("line-height","1em").select(".list").style("display","none").style("position","absolute").style("background-color","white").style("z-index","100").style("border","1px solid #eee").select(".list-item").style("cursor","pointer").style("padding","0.5rem"),t.select(".fl-control-dropdown.open .list").style("display","block"),t.select(".fl-control-dropdown .main").style("position","relative"),t.select(".fl-control-dropdown .symbol").style("float","right").select("div").style("border-top-color","#333333"),t.print()}(),e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.className="flourish-controls",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),on=!0}}var sn,cn,un=(sn=document.createElement("canvas").getContext("2d"),function(t,e){return sn.font=e||"10px sans-serif",sn.measureText(t).width});var fn=90;function dn(i,o,n){var l={},r=document.body,s=q(n).append("div").attr("class","fl-control fl-control-dropdown"),a=s.node(),t=s.append("div").attr("class","main"),c=t.append("span").attr("class","current");t.append("span").attr("class","symbol").style("width","10px").append("div").style("border-left","5px solid transparent").style("border-right","5px solid transparent").style("border-bottom","5px solid transparent").style("border-top-style","solid").style("border-top-width","5px").style("top","50%").style("position","absolute").style("margin-top","-2.5px");function u(){s.classed("open",!1),f.style("right",null),f.style("max-height",null),f.style("display","none")}function e(){s.classed("open")?u():function(){s.classed("open",!0),f.style("top","100%"),f.style("bottom",null),f.style("display",null),f.style("overflow","auto");var t=r.getBoundingClientRect(),e=f.node().getBoundingClientRect();if(0<e.bottom-t.bottom){var n=t.bottom-e.top-30;fn<n?f.style("max-height",n+"px"):f.style("top","auto").style("bottom","100%")}e.right>window.innerWidth&&f.style("right",0)}()}var f=s.append("div").attr("class","list");t.on("click",function(){e()});function d(){if(s.classed("open")){for(var t=event.target,e=t.parentElement;e;){if(t===a)return;e=(t=e).parentElement}u()}}function h(t){var e="100%";"auto"==o.dropdown_width_mode?e=Math.min(t+40,cn(20))+"px":"fixed"==o.dropdown_width_mode&&(e=cn(o.dropdown_width_fixed)+"px"),n.style.width="full"==o.dropdown_width_mode?e:"",s.style("width",e).style("display","full"!==o.dropdown_width_mode?"inline-table":null),s.select(".main").style("width",e)}function p(){u(),s.style("display","none")}return l.appendedToDOM=function(t){return t&&(r=t),document.querySelector("body").addEventListener("click",d,!1),l},l.removedFromDOM=function(){return document.querySelector("body").removeEventListener("click",d),l},l.show=h,l.hide=p,l.update=function(t){f.text("");var e=window.getComputedStyle(s.node()).fontSize;if(!i.n_options||"dropdown"!==o.control_type)return p(),l;var n="";f.text("").selectAll(".list-item").data(t).enter().append("div").attr("class","list-item").text(function(t){return t.display.length>n.length&&(n=t.display),t.display}).on("click",function(t){u();var e=t.options_index;e!==i.index()&&(i.index(e),c.text(t.display).attr("title",t.display),i.trigger("change"))});var r=un(n,e+" sans-serif"),a=t[i.getSortedIndex()].display;return c.text(a).attr("title",a),h(r),l},l}var hn=Array.prototype.slice;function pn(t){return t}var _n=1,yn=2,bn=3,gn=4,mn=1e-6;function vn(t){return"translate("+(t+.5)+",0)"}function xn(t){return"translate(0,"+(t+.5)+")"}function wn(){return!this.__axis}function Mn(_,y){var b=[],g=null,m=null,v=6,x=6,w=3,M=_===_n||_===gn?-1:1,k=_===gn||_===yn?"x":"y",z=_===_n||_===bn?vn:xn;function e(t){var e=null==g?y.ticks?y.ticks.apply(y,b):y.domain():g,n=null==m?y.tickFormat?y.tickFormat.apply(y,b):pn:m,r=Math.max(v,0)+w,a=y.range(),i=+a[0]+.5,o=+a[a.length-1]+.5,l=(y.bandwidth?function(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}:function(e){return function(t){return+e(t)}})(y.copy()),s=t.selection?t.selection():t,c=s.selectAll(".domain").data([null]),u=s.selectAll(".tick").data(e,y).order(),f=u.exit(),d=u.enter().append("g").attr("class","tick"),h=u.select("line"),p=u.select("text");c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),u=u.merge(d),h=h.merge(d.append("line").attr("stroke","currentColor").attr(k+"2",M*v)),p=p.merge(d.append("text").attr("fill","currentColor").attr(k,M*r).attr("dy",_===_n?"0em":_===bn?"0.71em":"0.32em")),t!==s&&(c=c.transition(t),u=u.transition(t),h=h.transition(t),p=p.transition(t),f=f.transition(t).attr("opacity",mn).attr("transform",function(t){return isFinite(t=l(t))?z(t):this.getAttribute("transform")}),d.attr("opacity",mn).attr("transform",function(t){var e=this.parentNode.__axis;return z(e&&isFinite(e=e(t))?e:l(t))})),f.remove(),c.attr("d",_===gn||_==yn?x?"M"+M*x+","+i+"H0.5V"+o+"H"+M*x:"M0.5,"+i+"V"+o:x?"M"+i+","+M*x+"V0.5H"+o+"V"+M*x:"M"+i+",0.5H"+o),u.attr("opacity",1).attr("transform",function(t){return z(l(t))}),h.attr(k+"2",M*v),p.attr(k,M*r).text(n),s.filter(wn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",_===yn?"start":_===gn?"end":"middle"),s.each(function(){this.__axis=l})}return e.scale=function(t){return arguments.length?(y=t,e):y},e.ticks=function(){return b=hn.call(arguments),e},e.tickArguments=function(t){return arguments.length?(b=null==t?[]:hn.call(t),e):b.slice()},e.tickValues=function(t){return arguments.length?(g=null==t?null:hn.call(t),e):g&&g.slice()},e.tickFormat=function(t){return arguments.length?(m=t,e):m},e.tickSize=function(t){return arguments.length?(v=x=+t,e):v},e.tickSizeInner=function(t){return arguments.length?(v=+t,e):v},e.tickSizeOuter=function(t){return arguments.length?(x=+t,e):x},e.tickPadding=function(t){return arguments.length?(w=+t,e):w},e}function kn(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}var zn,Cn,An=(1===(Cn=kn).length&&(zn=Cn,Cn=function(t,e){return kn(zn(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var a=n+r>>>1;Cn(t[a],e)<0?n=1+a:r=a}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var a=n+r>>>1;0<Cn(t[a],e)?r=a:n=1+a}return n}}).right;function Tn(t){return null===t?NaN:+t}function Sn(t,e){var n,r,a,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=a=n;++o<i;)null!=(n=t[o])&&(n<r&&(r=n),a<n&&(a=n))}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=a=n;++o<i;)null!=(n=e(t[o],o,t))&&(n<r&&(r=n),a<n&&(a=n));return[r,a]}var En=Math.sqrt(50),Ln=Math.sqrt(10),Nn=Math.sqrt(2);function Fn(t,e,n){var r,a,i,o,l=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=Pn(t,e,n))||!isFinite(o))return[];if(0<o)for(t=Math.ceil(t/o),e=Math.floor(e/o),i=new Array(a=Math.ceil(e-t+1));++l<a;)i[l]=(t+l)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),i=new Array(a=Math.ceil(t-e+1));++l<a;)i[l]=(t-l)/o;return r&&i.reverse(),i}function Pn(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return 0<=a?(En<=i?10:Ln<=i?5:Nn<=i?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(En<=i?10:Ln<=i?5:Nn<=i?2:1)}function On(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return En<=i?a*=10:Ln<=i?a*=5:Nn<=i&&(a*=2),e<t?-a:a}function Dn(t,e,n){if(null==n&&(n=Tn),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(1<=e)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),o=+n(t[i],i,t);return o+(+n(t[i+1],i+1,t)-o)*(a-i)}}function Un(t,e){var n,r,a=t.length,i=-1;if(null==e){for(;++i<a;)if(null!=(n=t[i])&&n<=n)for(r=n;++i<a;)null!=(n=t[i])&&r<n&&(r=n)}else for(;++i<a;)if(null!=(n=e(t[i],i,t))&&n<=n)for(r=n;++i<a;)null!=(n=e(t[i],i,t))&&r<n&&(r=n);return r}function Hn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Bn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function jn(){}var qn=1/.7,Rn="\\s*([+-]?\\d+)\\s*",Yn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",In="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wn=/^#([0-9a-f]{3,8})$/,Vn=new RegExp("^rgb\\("+[Rn,Rn,Rn]+"\\)$"),Xn=new RegExp("^rgb\\("+[In,In,In]+"\\)$"),$n=new RegExp("^rgba\\("+[Rn,Rn,Rn,Yn]+"\\)$"),Zn=new RegExp("^rgba\\("+[In,In,In,Yn]+"\\)$"),Gn=new RegExp("^hsl\\("+[Yn,In,In]+"\\)$"),Jn=new RegExp("^hsla\\("+[Yn,In,In,Yn]+"\\)$"),Qn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Kn(){return this.rgb().formatHex()}function tr(){return this.rgb().formatRgb()}function er(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Wn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?nr(e):3===n?new or(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?rr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?rr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Vn.exec(t))?new or(e[1],e[2],e[3],1):(e=Xn.exec(t))?new or(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=$n.exec(t))?rr(e[1],e[2],e[3],e[4]):(e=Zn.exec(t))?rr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Gn.exec(t))?ur(e[1],e[2]/100,e[3]/100,1):(e=Jn.exec(t))?ur(e[1],e[2]/100,e[3]/100,e[4]):Qn.hasOwnProperty(t)?nr(Qn[t]):"transparent"===t?new or(NaN,NaN,NaN,0):null}function nr(t){return new or(t>>16&255,t>>8&255,255&t,1)}function rr(t,e,n,r){return r<=0&&(t=e=n=NaN),new or(t,e,n,r)}function ar(t){return t instanceof jn||(t=er(t)),t?new or((t=t.rgb()).r,t.g,t.b,t.opacity):new or}function ir(t,e,n,r){return 1===arguments.length?ar(t):new or(t,e,n,null==r?1:r)}function or(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function lr(){return"#"+cr(this.r)+cr(this.g)+cr(this.b)}function sr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function cr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ur(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new hr(t,e,n,r)}function fr(t){if(t instanceof hr)return new hr(t.h,t.s,t.l,t.opacity);if(t instanceof jn||(t=er(t)),!t)return new hr;if(t instanceof hr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,l=i-a,s=(i+a)/2;return l?(o=e===i?(n-r)/l+6*(n<r):n===i?(r-e)/l+2:(e-n)/l+4,l/=s<.5?i+a:2-i-a,o*=60):l=0<s&&s<1?0:o,new hr(o,l,s,t.opacity)}function dr(t,e,n,r){return 1===arguments.length?fr(t):new hr(t,e,n,null==r?1:r)}function hr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function pr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Hn(jn,er,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Kn,formatHex:Kn,formatHsl:function(){return fr(this).formatHsl()},formatRgb:tr,toString:tr}),Hn(or,ir,Bn(jn,{brighter:function(t){return t=null==t?qn:Math.pow(qn,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lr,formatHex:lr,formatRgb:sr,toString:sr})),Hn(hr,dr,Bn(jn,{brighter:function(t){return t=null==t?qn:Math.pow(qn,t),new hr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new hr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new or(pr(240<=t?t-240:120+t,a,r),pr(t,a,r),pr(t<120?240+t:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var _r=Math.PI/180,yr=180/Math.PI,br=.96422,gr=1,mr=.82521,vr=4/29,xr=6/29,wr=3*xr*xr,Mr=xr*xr*xr;function kr(t){if(t instanceof Cr)return new Cr(t.l,t.a,t.b,t.opacity);if(t instanceof Nr)return Fr(t);t instanceof or||(t=ar(t));var e,n,r=Er(t.r),a=Er(t.g),i=Er(t.b),o=Ar((.2225045*r+.7168786*a+.0606169*i)/gr);return r===a&&a===i?e=n=o:(e=Ar((.4360747*r+.3850649*a+.1430804*i)/br),n=Ar((.0139322*r+.0971045*a+.7141733*i)/mr)),new Cr(116*o-16,500*(e-o),200*(o-n),t.opacity)}function zr(t,e,n,r){return 1===arguments.length?kr(t):new Cr(t,e,n,null==r?1:r)}function Cr(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Ar(t){return Mr<t?Math.pow(t,1/3):t/wr+vr}function Tr(t){return xr<t?t*t*t:wr*(t-vr)}function Sr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Er(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Lr(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Nr)return new Nr(t.h,t.c,t.l,t.opacity);if(t instanceof Cr||(t=kr(t)),0===t.a&&0===t.b)return new Nr(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*yr;return new Nr(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Nr(t,e,n,null==r?1:r)}function Nr(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Fr(t){if(isNaN(t.h))return new Cr(t.l,0,0,t.opacity);var e=t.h*_r;return new Cr(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Hn(Cr,zr,Bn(jn,{brighter:function(t){return new Cr(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Cr(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new or(Sr(3.1338561*(e=br*Tr(e))-1.6168667*(t=gr*Tr(t))-.4906146*(n=mr*Tr(n))),Sr(-.9787684*e+1.9161415*t+.033454*n),Sr(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Hn(Nr,Lr,Bn(jn,{brighter:function(t){return new Nr(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Nr(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Fr(this).rgb()}}));var Pr=1.78277,Or=-.29227,Dr=-.90649,Ur=1.97294,Hr=Ur*Dr,Br=Ur*Pr,jr=Pr*Or- -.14861*Dr;function qr(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Rr)return new Rr(t.h,t.s,t.l,t.opacity);t instanceof or||(t=ar(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(jr*r+Hr*e-Br*n)/(jr+Hr-Br),i=r-a,o=(Ur*(n-a)-Or*i)/Dr,l=Math.sqrt(o*o+i*i)/(Ur*a*(1-a)),s=l?Math.atan2(o,i)*yr-120:NaN;return new Rr(s<0?s+360:s,l,a,t.opacity)}(t):new Rr(t,e,n,null==r?1:r)}function Rr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Yr(t){return function(){return t}}function Ir(e,n){return function(t){return e+t*n}}function Wr(t,e){var n=e-t;return n?Ir(t,180<n||n<-180?n-360*Math.round(n/360):n):Yr(isNaN(t)?e:t)}function Vr(n){return 1==(n=+n)?Xr:function(t,e){return e-t?function(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(t){return Math.pow(e+t*n,r)}}(t,e,n):Yr(isNaN(t)?e:t)}}function Xr(t,e){var n=e-t;return n?Ir(t,n):Yr(isNaN(t)?e:t)}Hn(Rr,qr,Bn(jn,{brighter:function(t){return t=null==t?qn:Math.pow(qn,t),new Rr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*_r,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),a=Math.sin(t);return new or(255*(e+n*(-.14861*r+Pr*a)),255*(e+n*(Or*r+Dr*a)),255*(e+Ur*r*n),this.opacity)}}));var $r=function t(e){var o=Vr(e);function n(e,t){var n=o((e=ir(e)).r,(t=ir(t)).r),r=o(e.g,t.g),a=o(e.b,t.b),i=Xr(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=a(t),e.opacity=i(t),e+""}}return n.gamma=t,n}(1);var Zr,Gr=(Zr=function(o){var l=o.length-1;return function(t){var e=t<=0?t=0:1<=t?l-(t=1):Math.floor(t*l),n=o[e],r=o[e+1],a=0<e?o[e-1]:2*n-r,i=e<l-1?o[e+2]:2*r-n;return function(t,e,n,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*e+(4-6*i+3*o)*n+(1+3*t+3*i-3*o)*r+o*a)/6}((t-e/l)*l,a,n,r,i)}},function(t){var e,n,r=t.length,a=new Array(r),i=new Array(r),o=new Array(r);for(e=0;e<r;++e)n=ir(t[e]),a[e]=n.r||0,i[e]=n.g||0,o[e]=n.b||0;return a=Zr(a),i=Zr(i),o=Zr(o),n.opacity=1,function(t){return n.r=a(t),n.g=i(t),n.b=o(t),n+""}});function Jr(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}var Qr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kr=new RegExp(Qr.source,"g");function ta(t,r){var e,n,a,i=Qr.lastIndex=Kr.lastIndex=0,o=-1,l=[],s=[];for(t+="",r+="";(e=Qr.exec(t))&&(n=Kr.exec(r));)(a=n.index)>i&&(a=r.slice(i,a),l[o]?l[o]+=a:l[++o]=a),(e=e[0])===(n=n[0])?l[o]?l[o]+=n:l[++o]=n:(l[++o]=null,s.push({i:o,x:Jr(e,n)})),i=Kr.lastIndex;return i<r.length&&(a=r.slice(i),l[o]?l[o]+=a:l[++o]=a),l.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(t){return function(){return t}}(r):(r=s.length,function(t){for(var e,n=0;n<r;++n)l[(e=s[n]).i]=e.x(t);return l.join("")})}function ea(t,e){var n,r=typeof e;return null==e||"boolean"==r?Yr(e):("number"==r?Jr:"string"==r?(n=er(e))?(e=n,$r):ta:e instanceof er?$r:e instanceof Date?function(e,n){var r=new Date;return e=+e,n=+n,function(t){return r.setTime(e*(1-t)+n*t),r}}:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?function(e,n){n=n||[];var r,a=e?Math.min(n.length,e.length):0,i=n.slice();return function(t){for(r=0;r<a;++r)i[r]=e[r]*(1-t)+n[r]*t;return i}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,a=t?Math.min(r,t.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=ea(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<a;++n)o[n]=i[n](t);return o}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},a={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=ea(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}}:Jr)(t,e)}function na(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}var ra,aa,ia,oa,la=180/Math.PI,sa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ca(t,e,n,r,a,i){var o,l,s;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),t*r<e*n&&(t=-t,e=-e,s=-s,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*la,skewX:Math.atan(s)*la,scaleX:o,scaleY:l}}function ua(n,l,s,o){function c(t){return t.length?t.pop()+" ":""}return function(t,e){var a=[],i=[];return t=n(t),e=n(e),function(t,e,n,r,a,i){if(t!==n||e!==r){var o=a.push("translate(",null,l,null,s);i.push({i:o-4,x:Jr(t,n)},{i:o-2,x:Jr(e,r)})}else(n||r)&&a.push("translate("+n+l+r+s)}(t.translateX,t.translateY,e.translateX,e.translateY,a,i),function(t,e,n,r){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),r.push({i:n.push(c(n)+"rotate(",null,o)-2,x:Jr(t,e)})):e&&n.push(c(n)+"rotate("+e+o)}(t.rotate,e.rotate,a,i),function(t,e,n,r){t!==e?r.push({i:n.push(c(n)+"skewX(",null,o)-2,x:Jr(t,e)}):e&&n.push(c(n)+"skewX("+e+o)}(t.skewX,e.skewX,a,i),function(t,e,n,r,a,i){if(t!==n||e!==r){var o=a.push(c(a)+"scale(",null,",",null,")");i.push({i:o-4,x:Jr(t,n)},{i:o-2,x:Jr(e,r)})}else 1===n&&1===r||a.push(c(a)+"scale("+n+","+r+")")}(t.scaleX,t.scaleY,e.scaleX,e.scaleY,a,i),t=e=null,function(t){for(var e,n=-1,r=i.length;++n<r;)a[(e=i[n]).i]=e.x(t);return a.join("")}}}var fa=ua(function(t){return"none"===t?sa:(ra||(ra=document.createElement("DIV"),aa=document.documentElement,ia=document.defaultView),ra.style.transform=t,t=ia.getComputedStyle(aa.appendChild(ra),null).getPropertyValue("transform"),aa.removeChild(ra),ca(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),da=ua(function(t){return null==t?sa:((oa=oa||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=oa.transform.baseVal.consolidate())?ca((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):sa)},", ",")",")");var ha,pa=(ha=Wr,function(e,t){var n=ha((e=dr(e)).h,(t=dr(t)).h),r=Xr(e.s,t.s),a=Xr(e.l,t.l),i=Xr(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=a(t),e.opacity=i(t),e+""}});function _a(e,t){var n=Xr((e=zr(e)).l,(t=zr(t)).l),r=Xr(e.a,t.a),a=Xr(e.b,t.b),i=Xr(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=a(t),e.opacity=i(t),e+""}}var ya,ba=(ya=Wr,function(e,t){var n=ya((e=Lr(e)).h,(t=Lr(t)).h),r=Xr(e.c,t.c),a=Xr(e.l,t.l),i=Xr(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=a(t),e.opacity=i(t),e+""}});function ga(l){return function t(o){function e(e,t){var n=l((e=qr(e)).h,(t=qr(t)).h),r=Xr(e.s,t.s),a=Xr(e.l,t.l),i=Xr(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=a(Math.pow(t,o)),e.opacity=i(t),e+""}}return o=+o,e.gamma=t,e}(1)}ga(Wr);var ma=ga(Xr);var va=Array.prototype,xa=va.map,wa=va.slice;function Ma(t){return+t}var ka=[0,1];function za(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:function(t){return function(){return t}}(n)}function Ca(t,e,n,r){var a=t[0],i=t[1],o=e[0],l=e[1];return o=i<a?(a=n(i,a),r(l,o)):(a=n(a,i),r(o,l)),function(t){return o(a(t))}}function Aa(n,t,e,r){var a=Math.min(n.length,t.length)-1,i=new Array(a),o=new Array(a),l=-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++l<a;)i[l]=e(n[l],n[l+1]),o[l]=r(t[l],t[l+1]);return function(t){var e=An(n,t,1,a)-1;return o[e](i[e](t))}}function Ta(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[1<r.length?r[0]+r.slice(2):r,+t.slice(n+1)]}function Sa(t){return(t=Ta(Math.abs(t)))?t[1]:NaN}var Ea,La=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Na(t){return new Fa(t)}function Fa(t){if(!(e=La.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function Pa(t,e){var n=Ta(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}Na.prototype=Fa.prototype,Fa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Oa={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Pa(100*t,e)},r:Pa,s:function(t,e){var n=Ta(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(Ea=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:o<i?r+new Array(i-o+1).join("0"):0<i?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ta(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Da(t){return t}var Ua,Ha,Ba,ja=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qa(t){var w=t.grouping&&t.thousands?function(l,s){return function(t,e){for(var n=t.length,r=[],a=0,i=l[0],o=0;0<n&&0<i&&(e<o+i+1&&(i=Math.max(1,e-o)),r.push(t.substring(n-=i,n+i)),!((o+=i+1)>e));)i=l[a=(a+1)%l.length];return r.reverse().join(s)}}(t.grouping,t.thousands):Da,r=t.currency,M=t.decimal,k=t.numerals?function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(t.numerals):Da,a=t.percent||"%";function o(t){var c=(t=Na(t)).fill,u=t.align,f=t.sign,e=t.symbol,d=t.zero,h=t.width,p=t.comma,_=t.precision,y=t.trim,b=t.type;"n"===b?(p=!0,b="g"):Oa[b]||(null==_&&(_=12),y=!0,b="g"),(d||"0"===c&&"="===u)&&(d=!0,c="0",u="=");var g="$"===e?r[0]:"#"===e&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",m="$"===e?r[1]:/[%p]/.test(b)?a:"",v=Oa[b],x=/[defgprs%]/.test(b);function n(t){var e,n,r,a=g,i=m;if("c"===b)i=v(t)+i,t="";else{var o=(t=+t)<0;if(t=v(Math.abs(t),_),y&&(t=function(t){t:for(var e,n=t.length,r=1,a=-1;r<n;++r)switch(t[r]){case".":a=e=r;break;case"0":0===a&&(a=r),e=r;break;default:if(0<a){if(!+t[r])break t;a=0}}return 0<a?t.slice(0,a)+t.slice(e+1):t}(t)),o&&0==+t&&(o=!1),a=(o?"("===f?f:"-":"-"===f||"("===f?"":f)+a,i=("s"===b?ja[8+Ea/3]:"")+i+(o&&"("===f?")":""),x)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){i=(46===r?M+t.slice(e+1):t.slice(e))+i,t=t.slice(0,e);break}}p&&!d&&(t=w(t,1/0));var l=a.length+t.length+i.length,s=l<h?new Array(h-l+1).join(c):"";switch(p&&d&&(t=w(s+t,s.length?h-i.length:1/0),s=""),u){case"<":t=a+t+i+s;break;case"=":t=a+s+t+i;break;case"^":t=s.slice(0,l=s.length>>1)+a+t+i+s.slice(l);break;default:t=s+a+t+i}return k(t)}return _=null==_?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),n.toString=function(){return t+""},n}return{format:o,formatPrefix:function(t,e){var n=o(((t=Na(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Sa(e)/3))),a=Math.pow(10,-r),i=ja[8+r/3];return function(t){return n(a*t)+i}}}}function Ra(t){return Math.max(0,-Sa(Math.abs(t)))}function Ya(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Sa(e)/3)))-Sa(Math.abs(t)))}function Ia(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sa(e)-Sa(t))+1}function Wa(l){var s=l.domain;return l.ticks=function(t){var e=s();return Fn(e[0],e[e.length-1],null==t?10:t)},l.tickFormat=function(t,e){return function(t,e,n){var r,a=t[0],i=t[t.length-1],o=On(a,i,null==e?10:e);switch((n=Na(null==n?",f":n)).type){case"s":var l=Math.max(Math.abs(a),Math.abs(i));return null!=n.precision||isNaN(r=Ya(o,l))||(n.precision=r),Ba(n,l);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=Ia(o,Math.max(Math.abs(a),Math.abs(i))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=Ra(o))||(n.precision=r-2*("%"===n.type))}return Ha(n)}(s(),t,e)},l.nice=function(t){null==t&&(t=10);var e,n=s(),r=0,a=n.length-1,i=n[r],o=n[a];return o<i&&(e=i,i=o,o=e,e=r,r=a,a=e),0<(e=Pn(i,o,t))?e=Pn(i=Math.floor(i/e)*e,o=Math.ceil(o/e)*e,t):e<0&&(e=Pn(i=Math.ceil(i*e)/e,o=Math.floor(o*e)/e,t)),0<e?(n[r]=Math.floor(i/e)*e,n[a]=Math.ceil(o/e)*e,s(n)):e<0&&(n[r]=Math.ceil(i*e)/e,n[a]=Math.floor(o*e)/e,s(n)),l},l}function Va(){var t=function(e,n){var r,a,i,o=ka,l=ka,s=ea,c=!1;function u(){return r=2<Math.min(o.length,l.length)?Aa:Ca,a=i=null,t}function t(t){return(a=a||r(o,l,c?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:r(t)}}}(e):e,s))(+t)}return t.invert=function(t){return(i=i||r(l,o,za,c?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:r(t)}}}(n):n))(+t)},t.domain=function(t){return arguments.length?(o=xa.call(t,Ma),u()):o.slice()},t.range=function(t){return arguments.length?(l=wa.call(t),u()):l.slice()},t.rangeRound=function(t){return l=wa.call(t),s=na,u()},t.clamp=function(t){return arguments.length?(c=!!t,u()):c},t.interpolate=function(t){return arguments.length?(s=t,u()):s},u()}(za,Jr);return t.copy=function(){return function(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}(t,Va())},Wa(t)}Ua=qa({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Ha=Ua.format,Ba=Ua.formatPrefix;function Xa(t){this.container=q(t),this._width=null,this._height=null,this._handleRadius=15,this._channelHeight=5,this._channelRadius=null,this._handleFill="black",this._channelFill="#eee",this._margin={top:null,left:null,right:null},this._domain=[0,1],this._value=null,this._snap=!1,this._scale=null,this._axis=!1,this._ticks=null,this._tickFormat=null,this._tickSize=null,this._label=null,this._labelSize=18,this._startLabel=null,this._startLabelBelow=!1,this._endLabel=null,this._endLabelBelow=!1,this._startEndLabelSize=16,this.handlers={change:[]}}function $a(e){0<e.length&&"_"==e.charAt(0)&&(Xa.prototype[e.substr(1)]=function(t){return void 0===t?this[e]:(this[e]=t,this)})}var Za=new Xa;for(var Ga in Za)$a(Ga);function Ja(t,e){return"boolean"==typeof t?t?Math.round(e):e:function t(e,n,r,a){if(void 0===r&&(r=0),void 0===a&&(a=e.length),a-r==0)return n;if(a-r==1)return e[r];if(a-r==2)return Math.abs(e[r]-n)<=Math.abs(e[r+1]-n)?e[r]:e[r+1];var i=r+Math.floor((a-r)/2),o=e[i],l=e[i-1];return l<=n&&n<=o?Math.abs(l-n)<=Math.abs(o-n)?l:o:o<=n?t(e,n,i,a):t(e,n,r,i)}(t,e)}function Qa(t){return new Xa(t)}function Ka(i,o,t){function n(){clearTimeout(g),g=null}function a(t){var e=u[t];e.options_index!==i.index()&&(i.index(e.options_index),i.trigger("change"))}function l(){n(),_.classed("playing",!1),y.html(e),i._isPlaying_(!1),h=!1}function s(){_.classed("playing",!0),y.html(r),v(),i._isPlaying_(!0),h=!0}var e,r,c,u,f,d,h,p={},_=q(t).append("div").attr("class","fl-control fl-control-slider animatable"),y=_.append("div").attr("class","slider-play"),b=_.append("div").attr("class","fl-controls-slider"),g=null,m=Qa(b.node()).snap(!0).on("change",function(t){var e=null!==g;e&&n(),a(t),e&&v()}),v=function(){var t=i.getSortedIndex(),e=f[t],n=i.n_options-1,r=t<n?t+1:0;g=setTimeout(function(){a(r),o.slider_loop||r<n?v():l()},e)};y.on("click",function(){null===g?s():l()});function x(){return _.style("display","inline-block"),function(){var t=Math.round(cn(o.slider_handle_height)/2);_.style("width",Math.round(cn(o.slider_width))+"px"),y.style("height",2*t+"px").style("width",2*t+"px").style("display",o.slider_play_button?null:"none");var e=_.node().getBoundingClientRect().width,n=y.node().getBoundingClientRect().width;b.style("width",Math.max(e-n,1)+"px").style("height",2*t+"px"),m.handleRadius(t).margin({left:t+5,right:t+cn(o.slider_margin),top:t})}(),o.slider_play_button?_.classed("animatable",!0):(l(),_.classed("animatable",!1)),c!==o.slider_handle_color&&(m.update(),c=o.slider_handle_color||"currentColor",_.select(".slider-handle").style("fill",c),e=function(t){return'<svg width="25px" height="30px" viewBox="0 0 25 30"> <polygon fill="'+t+'" stroke="none" points="25 15 0 30 0 0"></polygon> </svg>'}(c),r=function(t){return'<svg width="26px" height="30px" viewBox="0 0 26 30"> <g stroke="none" stroke-width="1" fill="'+t+'"><rect x="2" y="2" width="9" height="26"></rect> <rect x="15" y="2" width="9" height="26"></rect> </g> </svg>'}(c),y.html(g?r:e)),p}function w(){return l(),_.style("display","none"),p}return p.show=x,p.hide=w,p.update=function(t){if(u=t,!i.n_options||"slider"!==o.control_type)return w(),p;x();var n=i.n_options,r=o.slider_loop;f=u.map(function(t,e){return 1e3*(o.slider_step_time+(r&&e===n-1?o.slider_restart_pause:0))});var e=i.getSortedIndex(),a=u[e];return m.domain([0,n-1]).value(e).endLabel(a.display).channelHeight(Math.round(cn(o.slider_track_height))).channelFill(o.slider_background_color).update(),m.container.select("svg").attr("fill","currentColor"),(d=d||b.select("text.slider-end-labels")).style("fill",o.slider_font_color).attr("y","0").attr("dy","0.25em"),i._isPlaying_()&&!h?s():!i._isPlaying_()&&h&&l(),p},p}Xa.prototype.margin=function(t){if(!t)return this._margin;for(Ga in t){if(!(Ga in this._margin))throw"Slider.margin: unrecognised option "+Ga;this._margin[Ga]=t[Ga]}return this},Xa.prototype.on=function(t,e){if(!(t in this.handlers))throw"Slider.on: No such event: "+t;return this.handlers[t].push(e),this},Xa.prototype.fire=function(t,e){if(!(t in this.handlers))throw"Slider.fire: No such event: "+t;for(var n=this.handlers[t],r=0;r<n.length;r++)n[r].call(this,e);return this},Xa.prototype.update=Xa.prototype.draw=function(){var a=this,t=this._width,e=this._height,n=this.container.node();if(!t){var r=n.getBoundingClientRect();if(!r||0==r.width)return this;t=r.width,e=r.height}var i,o=null==this._channelRadius?this._channelHeight/2:this._channelRadius,l=null==this._margin.left?Math.max(this._handleRadius,o):this._margin.left,s=null==this._margin.right?Math.max(this._handleRadius,o):this._margin.right,c=null==this._margin.top?Math.max(this._handleRadius,this._channelHeight/2):this._margin.top,u=t-l-s,f=u+2*o,d=1.5*this._labelSize;null!=this._label&&null==this._margin.top&&(c+=d),"http://www.w3.org/2000/svg"==n.namespaceURI?i=this.container:((i=this.container.selectAll("svg").data([{width:t,height:e}])).exit().remove(),(i=i.enter().append("svg").merge(i)).attr("width",function(t){return t.width}).attr("height",function(t){return t.height}));var h=i.selectAll("g.slider-container").data([{left:l,top:c,id:this._id}]);h.exit().remove(),(h=h.enter().append("g").attr("class","slider-container").merge(h)).attr("transform",function(t){return"translate("+t.left+","+t.top+")"}).attr("id",function(t){return t.id}),this.scale=(this._scale?this._scale():Va()).domain(this._domain).range([0,u]),null==this._value||this._value<this._domain[0]?this._value=this._domain[0]:this._value>this._domain[1]&&(this._value=this._domain[1]),this._snap&&(this._value=Ja(this._snap,this._value));var p,_=[];this._axis&&(p="boolean"!=typeof this._axis?this._axis(this.scale):function(t){return Mn(bn,t)}().scale(this.scale).tickPadding(6),this._ticks&&p.ticks(this._ticks),this._tickFormat&&p.tickFormat(this._tickFormat),this._tickSize?p.tickSize(this._tickSize):p.tickSize(Math.max(5,this._handleRadius-this._channelHeight-2)),_.push(p));var y,b,g,m,v=h.selectAll(".slider-axis").data(_).enter();function x(){document.removeEventListener("mouseup",x,!1),document.removeEventListener("mousemove",w,!1)}function w(t){z(t.clientX-g)}function M(){document.removeEventListener("touchend",M,!1),document.removeEventListener("touchmove",k,!1)}function k(t){1==t.touches.length&&z(t.touches[0].clientX-g)}function z(t){var e=m+t,n=Math.max(0,Math.min(u,e)),r=a.scale.invert(n);a._snap&&(r=Ja(a._snap,r)),b.attr("cx",a.scale(r)),r!=a._value&&(a._value=r,a.fire("change",a._value))}v.append("g").attr("class","slider-axis").attr("transform","translate(0,"+this._channelHeight/2+")").each(function(t){t(q(this))}),v.select(".domain").attr("fill","none"),v.selectAll(".tick line").attr("stroke","black"),v.exit().remove(),(y=h.selectAll(".slider-channel").data([{width:f,height:this._channelHeight,channel_r:o}])).exit().remove(),(y=y.enter().append("rect").attr("class","slider-channel").attr("cursor","pointer").on("click",function(){var t=Math.max(0,Math.min(u,R(this)[0]));a._value=a.scale.invert(t),a._snap&&(a._value=Ja(a._snap,a._value)),b.attr("cx",a.scale(a._value)),a.fire("change",a._value)}).merge(y)).attr("width",function(t){return t.width}).attr("fill",this._channelFill).attr("height",function(t){return t.height}).attr("y",function(t){return-t.height/2}).attr("x",function(t){return-t.channel_r}).attr("rx",function(t){return t.channel_r}),(b=(b=h.selectAll(".slider-handle").data([{v:this._value,x:this.scale(this._value)}])).enter().append("circle").attr("class","slider-handle").attr("cursor","col-resize").merge(b)).attr("cx",function(t){return t.x}).attr("r",this._handleRadius).attr("fill",this._handleFill).on("mousedown",function(){N.preventDefault(),function(t){document.addEventListener("mouseup",x,!1),document.addEventListener("mousemove",w,!1),g=t.clientX,m=a.scale(a._value)}(N)}).on("touchstart",function(){N.preventDefault(),function(t){1==t.touches.length&&(document.addEventListener("touchend",M,!1),document.addEventListener("touchmove",k,!1),g=t.touches[0].clientX,m=a.scale(a._value))}(N)});var C=[];this._label&&C.push({label:this._label,x:u/2,y:-d,font_size:this._labelSize});var A=h.selectAll(".slider-label").data(C);A.exit().remove(),(A=A.enter().append("text").attr("class","slider-label").attr("text-anchor","middle").attr("cursor","default").merge(A)).text(function(t){return t.label}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("font-size",this._labelSize);var T=[];this._startLabel&&T.push({label:this._startLabel,x:this._startLabelBelow?0:-(o+5+Math.max(0,this._handleRadius-o)),y:this._startLabelBelow?o+15:this._startEndLabelSize/1.75-o/2,anchor:this._startLabelBelow?"middle":"end",font_size:this._startEndLabelSize}),this._endLabel&&T.push({label:this._endLabel,x:this._endLabelBelow?u:u+(o+Math.max(0,this._handleRadius-o)+5),y:this._startLabelBelow?o+15:this._startEndLabelSize/1.75-o/2,anchor:this._endLabelBelow?"middle":"start",font_size:this._startEndLabelSize});var S=h.selectAll(".slider-end-labels").data(T);return S.exit().remove(),(S=S.enter().append("text").attr("class","slider-end-labels").attr("pointer-events","none").merge(S)).text(function(t){return t.label}).attr("font-size",function(t){return t.font_size}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("text-anchor",function(t){return t.anchor}),this},Qa.version="1.4.2";var ti=Object.freeze({control_type:"dropdown",control_title:"",dropdown_width_mode:"auto",dropdown_width_fixed:20,button_group:!0,button_group_width_mode:"fixed",button_group_width_fixed:20,slider_width:15,slider_handle_color:null,slider_font_color:null,slider_background_color:"#dddddd",slider_handle_height:1,slider_track_height:.2,slider_margin:4.5,slider_play_button:!0,slider_step_time:2,slider_loop:!0,slider_restart_pause:0,sort:"unsorted",sort_temporal_format:"%Y",_index_:null,_is_playing_:!1});function ei(e,t,n){var r={};t=t||Y,n=n||I;var a=[],i=[],o=[],l=document.createElement("div");l.setAttribute("class","fl-controls-container");var s=q(l).append("div").attr("class","fl-controls-title"),c=dn(r,e,l),u=function(r,a,t){function i(){s.classed("hidden",!1)}function o(){s.classed("hidden",!0)}var l={},s=q(t).append("div").attr("class","fl-control fl-control-buttons");return l.show=i,l.hide=o,l.update=function(t){if(s.text(""),!r.n_options||"buttons"!==a.control_type)return o(),l;var e=r.index();s.classed("grouped",a.button_group),s.classed("fixed-width","fixed"==a.button_group_width_mode||"full"==a.button_group_width_mode),s.style("width",a.button_group&&"fixed"==a.button_group_width_mode?cn(a.button_group_width_fixed)+"px":"full"==a.button_group_width_mode?"100%":null);var n=s.selectAll(".button").data(t).enter().append("div");n.attr("class","button").style("cursor","pointer").classed("selected",function(t){return t.options_index===e}).on("click",function(t){var e=t.options_index;e!==r.index()&&(r.index(e),n.classed("selected",function(t){return t.options_index===e}),r.trigger("change"))}).append("span").text(function(t){return t.display}),i()},l}(r,e,l),f=Ka(r,e,l);for(var d in ti)void 0===e[d]&&(e[d]=ti[d]);var h=e._index_;r.appendTo=function(t,e){return ln(),q(t).node().appendChild(l),c.appendedToDOM(e),r};r.remove=function(){return l.parentElement&&l.parentElement.removeChild(l),c.removedFromDOM(),r},r.options=function(t){if(void 0===t)return a.slice();if(!Array.isArray(t))return r;var e=(a=t.slice()).length,n=p();return e?(null===n||e<=n)&&p(0):p(null),r},Object.defineProperty(r,"n_options",{get:function(){return a.length}});var p=function(t){return void 0===t?(e._is_playing_||(h=e._index_),h):(null===t||function(t){return a.length&&0<=t&&t<a.length}(t)?(h=t,e._is_playing_||(e._index_=h)):console.warn("Invalid index, ignoring update call"),r)};r.index=p,r.getSortedIndex=function(){var n,r=p();return"unsorted"==e.sort?r:(i.some(function(t,e){if(t.options_index===r)return n=e,!0}),n)},r.value=function(t){if(void 0===t)return a[p()];var e=a.indexOf(t);return-1!==e&&p(e),r},r.on=function(t,e){return"change"===t&&o.push(e.bind(r)),r},r.update=function(){return function(){var e=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;cn=function(t){return t*e}}(),function(t){l.style.display=1<t.length?null:"none",l.style.width="",s.node().innerHTML=e.control_title,s.node().style.display=""===e.control_title?"none":"inline-block",f.update(t),c.update(t),u.update(t)}(i=function(t,e,n,r){var a="numeric"===e.sort,i="temporal"===e.sort,o=nn;a?o=n:i&&(o=ht(e.sort_temporal_format));var l=t.map(function(t,e){var n=o(t);return{value:t,options_index:e,parsed:n,display:a&&!isNaN(n)?r(n):t}});return"unsorted"==e.sort?l:l.sort(function(t,e){return function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}(t.parsed,e.parsed)})}(a,e,t(),n())),r},r.trigger=function(t){return"change"===t&&function(){var e=p(),n=a[e];o.forEach(function(t){t(n,e)})}(),r},r.getNode=function(){return l};return r._isPlaying_=function(t){if(void 0===t)return e._is_playing_;e._is_playing_=!!t,t||p(h)},r}function ni(){return this.declarations=[],this}function ri(t){return this.selector=t,this.styles=[],this}ni.prototype.select=function(t){if(!t)return this;var e=new ri(t,this);return(e.parent=this).addDeclaration(e),e},ni.prototype.addDeclaration=function(t){return this.declarations.push(t),this},ni.prototype.print=function(){var e="";return this.declarations.forEach(function(t){e+=t.selector+" {\n",t.styles.forEach(function(t){e+="\t"+t[0]+": "+t[1]+";\n"}),e+="}\n\n"}),e},ni.prototype.clear=function(){return this.declarations=[],this},ri.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},ri.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var ai=Object.freeze({font_size:1,font_weight:"bold",padding:.4});function ii(t,e,n){for(var r in this._state=t,ai)void 0===this._state[r]&&(this._state[r]=ai[r]);return this._layout=n||{},this._styles=new ni,this._selector=e,this._createStylesheet(),this}ii.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-controls",document.head.appendChild(this._stylesheet)},ii.prototype.update=function(){this._styles.clear(),this._styles.select(this._selector+".hidden").style("display","none"),this._styles.select(this._selector).style("vertical-align","middle").style("position","relative").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(".fl-controls-title").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("vertical-align","middle"),this._styles.select(this._selector+".fl-control .button").style("padding",this._state.padding+"rem "+2*this._state.padding+"rem"),this._styles.select(this._selector+" .list-item").style("padding",Math.max(this._state.padding,.5)+"rem"),this._styles.select(this._selector+"-dropdown .main").style("padding",this._state.padding+"rem "+1.5*this._state.padding+"rem"),this._styles.select(this._selector+"-slider .slider-end-labels").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(this._selector+"-slider").style("padding",this._state.padding+"rem 0"),this._stylesheet.innerHTML=this._styles.print()};var oi;oi=document.createElement("canvas").getContext("2d");function li(t,e){var n=function(t,e){if("string"!=typeof t)return!1;var n=er(t);return n.opacity=void 0!==e?e:1,n}(t,e);return!!n&&n.toString()}var si=Object.freeze({background:null,font_color:null,background_selected:"#2886b2",font_color_selected:"#ffffff",background_hover:null,font_color_hover:null,border_width:1,border_transparency:.25,border_color:null,border_radius:3});function ci(t,e,n){for(var r in this._state=t,si)void 0===this._state[r]&&(this._state[r]=si[r]);return this._layout=n||{},this._styles=new ni,this._selector=e,this._createStylesheet(),this}ci.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-button",document.head.appendChild(this._stylesheet)},ci.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=li(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+".fl-control.hidden").style("display","none"),this._styles.select(this._selector+".fl-control .button").style("overflow","hidden").style("white-space","nowrap").style("box-sizing","content-box").style("margin","0 2px 0 0 !important").style("background-color",t).style("color",e).style("border",this._state.border_width+"px solid "+n).style("border-radius",this._state.border_radius+"px"),this._styles.select(this._selector+".fl-control .button:hover").style("background-color",this._state.background_hover||t).style("color",this._state.font_color_hover||e),this._styles.select(this._selector+".fl-control .button.selected").style("background-color",this._state.background_selected).style("color",this._state.font_color_selected),this._styles.select(this._selector+".grouped.fl-control .button").style("border-right","none").style("border-radius","0").style("margin","0"),this._styles.select(this._selector+".grouped.fl-control .button:first-child").style("border-radius",this._state.border_radius+"px 0 0 "+this._state.border_radius+"px"),this._styles.select(this._selector+".grouped.fl-control .button:last-child").style("border-radius","0 "+this._state.border_radius+"px "+this._state.border_radius+"px 0").style("border-right",this._state.border_width+"px solid "+n),this._styles.select(this._selector+".grouped.fl-control.fixed-width:not(.hidden)").style("width",this._state.grouped_width+"%"),this._stylesheet.innerHTML=this._styles.print()};var ui=Object.freeze({background:null,font_color:null,border_style:"bottom",border_width:1,border_color:null,border_transparency:.25,border_radius:3});function fi(t,e,n){for(var r in this._state=t,ui)void 0===this._state[r]&&(this._state[r]=ui[r]);return this._layout=n||{},this._styles=new ni,this._selector=e,this._createStylesheet(),this}function di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}fi.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-dropdown",document.head.appendChild(this._stylesheet)},fi.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=li(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+" .heading").style("margin-bottom","0.4em"),this._styles.select(this._selector).style("pointer-events","all"),this._styles.select(this._selector+" .main").style("display","inline-block").style("cursor","pointer").style("overflow","hidden").style("white-space","nowrap").style("position","relative").style("background-color",t).style("color",e).style("border","bottom"==this._state.border_style?this._state.border_width+"px solid transparent":this._state.border_width+"px solid "+n).style("border-bottom","bottom"==this._state.border_style?this._state.border_width+"px solid "+n:null).style("border-radius","bottom"==this._state.border_style?null:this._state.border_radius+"px"),this._styles.select(this._selector+" .main .symbol").style("float","right").select("div").style("border-top-color",e+" !important"),this._styles.select(this._selector+" .main .current").style("line-height","1em").style("height","100%").style("max-width","88%").style("display","inline-block").style("overflow","hidden").style("vertical-align","top"),this._styles.select(this._selector+" .list").style("top","2px").style("min-width","100%").style("padding","2px").style("display","none").style("max-height","200px").style("overflow-y","auto").style("box-shadow","0 1px 4px rgba(0, 0, 0, .1)").style("margin-top","2px").select(".list-item").style("line-height","1em").style("cursor","pointer").style("font-weight","normal").style("color",e),this._styles.select(this._selector+".open .list").style("display","block").style("border",this._state.border_width+"px solid "+n).style("background-color",t).style("z-index","1").style("animation","dropdown-out 200ms"),this._styles.select(this._selector+" .list-item:hover").style("opacity","0.6"),this._styles.select(this._selector+" .list-item.selected, "+this._selector+" .list-item.selected:hover").style("opacity","1").style("cursor","default"),"bottom"==this._state.border_style&&this._styles.select(this._selector+" .main").style("padding-left",0).style("padding-right","0.1rem"),this._stylesheet.innerHTML=this._styles.print()},"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])}return e});var hi,pi,_i={},yi=25,bi={};function gi(t,e,n,r,a,i,o){var l=n-t/2-10,s=n+t/2+10,c=t/2+Math.min(0,l-a.left)+Math.max(0,s-a.right);return{pos:[c,o],shape:c-10<5?[-c,-15*i,Math.max(10,5-c),-10*i]:t-5<c+10?[Math.min(-10,t-c-5),-10*i,Math.min(10,t-c),-15*i]:[-10,-10*i,10,-10*i]}}function mi(t,e,n,r,a,i,o){var l=r-e/2-10,s=r+e/2+10,c=e/2+Math.min(0,l-a.top)+Math.max(0,s-a.bottom);return{pos:[o,c],shape:c-10<5?[-15*i,-c,-10*i,Math.max(10,5-c)]:e-5<c+10?[-10*i,Math.min(-10,e-c-5),-15*i,Math.min(10,e-c)]:[-10*i,-10,-10*i,10]}}function vi(t,e,n){var r,a=document.createElementNS("http://www.w3.org/2000/svg",t);if(e)for(r in e)a.setAttribute(r,e[r]);var i=a.style;if(n)for(r in n)i[r]=n[r];return a}function xi(){return hi||((hi=document.createElement("div")).id="flourish-popup-constrainer",(pi=hi.style).overflow="hidden",pi.pointerEvents="none",pi.position="absolute",pi.left="0",pi.top="0",pi.margin="0",pi.padding="0",document.body.appendChild(hi),this._resizeConstrainer(),hi)}bi.bottom=function(t,e){return{shape:[-10,-10,10,-10],pos:[t/2,e+10]}},bi.top=function(t,e){return{shape:[-10,10,10,10],pos:[t/2,-10]}},bi.left=function(t,e){return{shape:[10,10,10,-10],pos:[-10,e/2]}},bi.right=function(t,e){return{shape:[-10,10,-10,-10],pos:[t+10,e/2]}},bi.topLeft=function(t,e){return{shape:[15,10,10,15],pos:[-10,-10]}},bi.bottomLeft=function(t,e){return{shape:[15,-10,10,-15],pos:[-10,e+10]}},bi.topRight=function(t,e){return{shape:[-15,10,-10,15],pos:[t+10,-10]}},bi.bottomRight=function(t,e){return{shape:[-15,-10,-10,-15],pos:[t+10,e+10]}},bi.bottomFlexible=function(t,e,n,r,a){return gi(t,0,n,0,a,1,e+10)},bi.topFlexible=function(t,e,n,r,a){return gi(t,0,n,0,a,-1,-10)},bi.rightFlexible=function(t,e,n,r,a){return mi(0,e,0,r,a,1,t+10)},bi.leftFlexible=function(t,e,n,r,a){return mi(0,e,0,r,a,-1,-10)};var wi=1,Mi={container:document.body,maxWidth:"70%",point:null,html:null,directions:["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"],fallbackFit:"horizontal"};function ki(){for(var t in this.unique_id=wi++,this.is_visible=!0,Mi)this["_"+t]=Mi[t];this.handlers={click:[]}}function zi(e){ki.prototype[e]=function(t){return void 0===t?this["_"+e]:(this["_"+e]=t,this)}}for(var Ci in Mi)zi(Ci);function Ai(){return new ki}ki.prototype.point=function(t,e){if(void 0===t)return this._point;if(Array.isArray(t))this._point=[t[0],t[1]];else if(void 0!==e)this._point=[t,e];else if(t instanceof HTMLElement||t instanceof SVGElement){var n=t.getBoundingClientRect();this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]}else console.error("Popup: could not understand argument");return this},ki.prototype.directions=function(t){return void 0===t?this._directions:("string"==typeof t&&(t=[t]),this._directions=t.slice(),this)},ki.prototype.text=function(t){return this._html=function(t){return t.replace(/[&<>]/g,function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[t]})}(t),this},ki.prototype.on=function(t,e){if(!(t in this.handlers))throw new Error("Popup.on: No such event: "+t);return this.handlers[t].push(e),this},ki.prototype.fire=function(t,e){if(!(t in this.handlers))throw new Error("Popup.fire: No such event: "+t);for(var n=this.handlers[t],r=0;r<n.length;r++)n[r].call(this,e);return this},ki.prototype._getElement=function(){var e=this,t="flourish-popup-"+e.unique_id,n=document.getElementById(t);if(!n){(n=document.createElement("div")).className="flourish-popup",n.id=t;var r=n.style;r.display="none",r.margin=r.padding=0,r.position="absolute",r.width="80px",r.height="40px",r.boxSizing="border-box",n.addEventListener("click",function(t){e.fire("click",t)},!1);var a=vi("svg",{class:"flourish-popup-svg"},{position:"absolute",top:0,left:0,bottom:0,right:0}),i=vi("filter",{id:"dropshadow-"+e.unique_id,height:"130%"});i.appendChild(vi("feGaussianBlur",{in:"SourceAlpha",stdDeviation:5})),i.appendChild(vi("feOffset",{dx:0,dy:2,result:"offsetblur"}));var o=vi("feComponentTransfer");o.appendChild(vi("feFuncA",{type:"linear",slope:.2})),i.appendChild(o);var l=vi("feMerge");i.appendChild(l),l.appendChild(vi("feMergeNode")),l.appendChild(vi("feMergeNode",{in:"SourceGraphic"})),a.appendChild(i);var s=vi("g",{filter:"url(#dropshadow-"+e.unique_id+")",fill:"white",stroke:"none"});s.appendChild(vi("rect",{x:yi,y:yi,rx:5})),s.appendChild(vi("path")),a.appendChild(s),n.appendChild(a);var c=document.createElement("div");c.className="flourish-popup-content",(r=c.style).position="absolute",r.top=r.left=yi+"px",r.padding="10px",n.appendChild(c),e._getConstrainer().appendChild(n)}return e._resizeConstrainer(),n},ki.prototype._getConstrainer=xi,ki.prototype._resizeConstrainer=function(){hi||xi.call(this);var t=pi.display;pi.display="none",pi.width=document.documentElement.scrollWidth+"px",pi.height=document.documentElement.scrollHeight+"px",pi.display=t},ki.prototype.draw=function(){var t=this;if(t.is_visible=!0,t._point){var e=document.documentElement.getBoundingClientRect(),n=t._point[0],r=t._point[1],a=t._container.getBoundingClientRect();n<a.left?n=a.left:n>a.right&&(n=a.right),r<a.top?r=a.top:r>a.bottom&&(r=a.bottom);var i,o=n-e.left,l=r-e.top,s=t._getElement(),c=s.style,u=s.querySelector(".flourish-popup-svg"),f=u.querySelector("g"),d=f.querySelector("rect"),h=f.querySelector("path"),p=s.querySelector(".flourish-popup-content");c.display="block",p.style.maxWidth=(i=a,(t._maxWidth.match(/^\d+(?:\.\d+)?%$/)?i.width*parseFloat(t._maxWidth)/100:t._maxWidth.match(/^\d+(?:\.\d+)?(?:px)?$/)?parseFloat(t._maxWidth):(null!=t._maxWidth&&console.error("Popup: Unknown value for maxWidth: "+t._maxWidth),i.width))+"px"),t._inner_html!=t._html&&(p.innerHTML=t._inner_html=t._html);for(var _,y,b=p.getBoundingClientRect();_=Math.ceil(b.width),y=Math.ceil(b.height),c.width=_+2*yi+"px",c.height=y+2*yi+"px",b=p.getBoundingClientRect(),_!=Math.ceil(b.width)||y!=Math.ceil(b.height););d.setAttribute("width",_),d.setAttribute("height",y),u.setAttribute("width",_+2*yi),u.setAttribute("height",y+2*yi);for(var g,m,v,x,w,M,k,z,C,A,T=yi-10,S=null,E=null,L=null,N=1/0,F=1/0,P=0;P<t._directions.length;P++){var O=t._directions[P],D=(v=_,x=y,w=n,M=r,k=a,void 0,z=bi[O](v,x,w,M,k),C=w-yi-z.pos[0],A=M-yi-z.pos[1],{left:C,top:A,right:C+v+2*yi,bottom:A+x+2*yi}),U=Math.max(0,Math.floor(a.left)-D.left-T)+Math.max(0,D.right-Math.ceil(a.right)-T),H=Math.max(0,Math.floor(a.top)-D.top-T)+Math.max(0,D.bottom-Math.ceil(a.bottom)-T);if(0==U&&0==H){S=O;break}(U<N||U==N&&H<g)&&(N=U,g=H,E=O),(H<F||H==F&&U<m)&&(F=H,m=U,L=O)}return function(t,e,n,r,a,i,o,l,s,c){var u=bi[t](r,a,l,s,c);e.left=i-yi-u.pos[0]+"px",e.top=o-yi-u.pos[1]+"px",n.setAttribute("d","M0,0L"+u.shape.join(",")+"Z"),n.setAttribute("transform","translate("+(u.pos[0]+yi)+","+(u.pos[1]+yi)+")")}(O=S||("horizontal"==t._fallbackFit?E:"vertical"==t._fallbackFit?L:(console.warn("Popup: failed to point box of size ("+_+", "+y+") at ("+n+", "+r+") within ("+a.left+", "+a.top+", "+a.right+", "+a.bottom+")"),t._directions[0])),c,h,_,y,o,l,n,r,a),t}console.error("Popup: cannot draw popup till point() has been specified")},ki.prototype.hide=function(){return this.is_visible&&(this.is_visible=!1,this._getElement().style.display="none"),this},Ai.version="2.1.5";var Ti={value:function(){}};function Si(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Ei(r)}function Ei(t){this._=t}function Li(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function Ni(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=Ti,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Ei.prototype=Si.prototype={constructor:Ei,on:function(t,e){var n,r=this._,a=function(t,r){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(t+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<o;)if(n=(t=a[i]).type)r[n]=Ni(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Ni(r[n],t.name,null);return this}for(;++i<o;)if((n=(t=a[i]).type)&&(n=Li(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ei(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};var Fi,Pi,Oi=0,Di=0,Ui=0,Hi=1e3,Bi=0,ji=0,qi=0,Ri="object"==typeof performance&&performance.now?performance:Date,Yi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ii(){return ji||(Yi(Wi),ji=Ri.now()+qi)}function Wi(){ji=0}function Vi(){this._call=this._time=this._next=null}function Xi(t,e,n){var r=new Vi;return r.restart(t,e,n),r}function $i(){ji=(Bi=Ri.now())+qi,Oi=Di=0;try{!function(){Ii(),++Oi;for(var t,e=Fi;e;)0<=(t=ji-e._time)&&e._call.call(null,t),e=e._next;--Oi}()}finally{Oi=0,function(){var t,e,n=Fi,r=1/0;for(;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:Fi=e);Pi=t,Gi(r)}(),ji=0}}function Zi(){var t=Ri.now(),e=t-Bi;Hi<e&&(qi-=e,Bi=t)}function Gi(t){Oi||(Di=Di&&clearTimeout(Di),24<t-ji?(t<1/0&&(Di=setTimeout($i,t-Ri.now()-qi)),Ui=Ui&&clearInterval(Ui)):(Ui||(Bi=Ri.now(),Ui=setInterval(Zi,Hi)),Oi=1,Yi($i)))}function Ji(e,n,t){var r=new Vi;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r}Vi.prototype=Xi.prototype={constructor:Vi,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ii():+n)+(null==e?0:+e),this._next||Pi===this||(Pi?Pi._next=this:Fi=this,Pi=this),this._call=t,this._time=n,Gi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gi())}};var Qi=Si("start","end","cancel","interrupt"),Ki=[],to=0,eo=1,no=2,ro=3,ao=4,io=5,oo=6;function lo(t,e,n,r,a,i){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(i,o,l){var s,c=i.__transition;function u(t){var e,n,r,a;if(l.state!==eo)return d();for(e in c)if((a=c[e]).name===l.name){if(a.state===ro)return Ji(u);a.state===ao?(a.state=oo,a.timer.stop(),a.on.call("interrupt",i,i.__data__,a.index,a.group),delete c[e]):+e<o&&(a.state=oo,a.timer.stop(),a.on.call("cancel",i,i.__data__,a.index,a.group),delete c[e])}if(Ji(function(){l.state===ro&&(l.state=ao,l.timer.restart(f,l.delay,l.time),f(t))}),l.state=no,l.on.call("start",i,i.__data__,l.index,l.group),l.state===no){for(l.state=ro,s=new Array(r=l.tween.length),e=0,n=-1;e<r;++e)(a=l.tween[e].value.call(i,i.__data__,l.index,l.group))&&(s[++n]=a);s.length=n+1}}function f(t){for(var e=t<l.duration?l.ease.call(null,t/l.duration):(l.timer.restart(d),l.state=io,1),n=-1,r=s.length;++n<r;)s[n].call(i,e);l.state===io&&(l.on.call("end",i,i.__data__,l.index,l.group),d())}function d(){for(var t in l.state=oo,l.timer.stop(),delete c[o],c)return;delete i.__transition}(c[o]=l).timer=Xi(function(t){l.state=eo,l.timer.restart(u,l.delay,l.time),l.delay<=t&&u(t-l.delay)},0,l.time)}(t,n,{name:e,index:r,group:a,on:Qi,tween:Ki,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:to})}function so(t,e){var n=uo(t,e);if(n.state>to)throw new Error("too late; already scheduled");return n}function co(t,e){var n=uo(t,e);if(n.state>ro)throw new Error("too late; already running");return n}function uo(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function fo(t,e,n){var r=t._id;return t.each(function(){var t=co(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return uo(t,r).value[e]}}function ho(t,e){var n;return("number"==typeof e?Jr:e instanceof er?$r:(n=er(e))?(e=n,$r):ta)(t,e)}var po=j.prototype.constructor;function _o(t){return function(){this.style.removeProperty(t)}}var yo=0;function bo(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function go(){return++yo}var mo=j.prototype;bo.prototype=function(t){return j().transition(t)}.prototype={constructor:bo,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=h(t));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var l,s,c=r[o],u=c.length,f=i[o]=new Array(u),d=0;d<u;++d)(l=c[d])&&(s=t.call(l,l.__data__,d,c))&&("__data__"in l&&(s.__data__=l.__data__),f[d]=s,lo(f[d],e,n,d,f,uo(l,n)));return new bo(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=b(t));for(var r=this._groups,a=r.length,i=[],o=[],l=0;l<a;++l)for(var s,c=r[l],u=c.length,f=0;f<u;++f)if(s=c[f]){for(var d,h=t.call(s,s.__data__,f,c),p=uo(s,n),_=0,y=h.length;_<y;++_)(d=h[_])&&lo(d,e,n,_,h,p);i.push(h),o.push(s)}return new bo(i,o,e,n)},filter:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],l=o.length,s=r[a]=[],c=0;c<l;++c)(i=o[c])&&t.call(i,i.__data__,c,o)&&s.push(i);return new bo(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var s,c=e[l],u=n[l],f=c.length,d=o[l]=new Array(f),h=0;h<f;++h)(s=c[h]||u[h])&&(d[h]=s);for(;l<r;++l)o[l]=e[l];return new bo(o,this._parents,this._name,this._id)},selection:function(){return new po(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=go(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o,l=r[i],s=l.length,c=0;c<s;++c)if(o=l[c]){var u=uo(o,e);lo(o,t,n,c,l,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new bo(r,this._parents,t,n)},call:mo.call,nodes:mo.nodes,node:mo.node,size:mo.size,empty:mo.empty,each:mo.each,on:function(t,e){var n=this._id;return arguments.length<2?uo(this.node(),n).on.on(t):this.each(function(n,r,a){var i,o,l=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})}(r)?so:co;return function(){var t=l(this,n),e=t.on;e!==i&&(o=(i=e).copy()).on(r,a),t.on=o}}(n,t,e))},attr:function(t,e){var n=i(t),r="transform"===n?da:ho;return this.attrTween(t,"function"==typeof e?(n.local?function(r,a,i){var o,l,s;return function(){var t,e,n=i(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===o&&e===l?s:(l=e,s=a(o=t,n));this.removeAttributeNS(r.space,r.local)}}:function(r,a,i){var o,l,s;return function(){var t,e,n=i(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===o&&e===l?s:(l=e,s=a(o=t,n));this.removeAttribute(r)}})(n,r,fo(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var a,i,o=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===o?null:t===a?i:i=n(a=t,r)}}:function(e,n,r){var a,i,o=r+"";return function(){var t=this.getAttribute(e);return t===o?null:t===a?i:i=n(a=t,r)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=i(t);return this.tween(n,(r.local?function(e,n){var r,a;function t(){var t=n.apply(this,arguments);return t!==a&&(r=(a=t)&&function(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}(e,t)),r}return t._value=n,t}:function(e,n){var r,a;function t(){var t=n.apply(this,arguments);return t!==a&&(r=(a=t)&&function(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}(e,t)),r}return t._value=n,t})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?fa:ho;return null==e?this.styleTween(t,function(n,r){var a,i,o;return function(){var t=c(this,n),e=(this.style.removeProperty(n),c(this,n));return t===e?null:t===a&&e===i?o:o=r(a=t,i=e)}}(t,r)).on("end.style."+t,_o(t)):"function"==typeof e?this.styleTween(t,function(r,a,i){var o,l,s;return function(){var t=c(this,r),e=i(this),n=e+"";return null==e&&(this.style.removeProperty(r),n=e=c(this,r)),t===n?null:t===o&&n===l?s:(l=n,s=a(o=t,e))}}(t,r,fo(this,"style."+t,e))).each(function(r,a){var i,o,l,s,c="style."+a,u="end."+c;return function(){var t=co(this,r),e=t.on,n=null==t.value[c]?s=s||_o(a):void 0;e===i&&l===n||(o=(i=e).copy()).on(u,l=n),t.on=o}}(this._id,t)):this.styleTween(t,function(e,n,r){var a,i,o=r+"";return function(){var t=c(this,e);return t===o?null:t===a?i:i=n(a=t,r)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(e,n,r){var a,i;function t(){var t=n.apply(this,arguments);return t!==i&&(a=(i=t)&&function(e,n,r){return function(t){this.style.setProperty(e,n.call(this,t),r)}}(e,t,r)),a}return t._value=n,t}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(fo(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(e){var n,r;function t(){var t=e.apply(this,arguments);return t!==r&&(n=(r=t)&&function(e){return function(t){this.textContent=e.call(this,t)}}(t)),n}return t._value=e,t}(t))},remove:function(){return this.on("end.remove",function(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,a=uo(this.node(),n).tween,i=0,o=a.length;i<o;++i)if((r=a[i]).name===t)return r.value;return null}return this.each((null==e?function(a,i){var o,l;return function(){var t=co(this,a),e=t.tween;if(e!==o)for(var n=0,r=(l=o=e).length;n<r;++n)if(l[n].name===i){(l=l.slice()).splice(n,1);break}t.tween=l}}:function(i,o,l){var s,c;if("function"!=typeof l)throw new Error;return function(){var t=co(this,i),e=t.tween;if(e!==s){c=(s=e).slice();for(var n={name:o,value:l},r=0,a=c.length;r<a;++r)if(c[r].name===o){c[r]=n;break}r===a&&c.push(n)}t.tween=c}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){so(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){so(this,t).delay=e}})(e,t)):uo(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){co(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){co(this,t).duration=e}})(e,t)):uo(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){co(this,t).ease=e}}(e,t)):uo(this.node(),e).ease},end:function(){var a,i,o=this,l=o._id,s=o.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--s&&t()}};o.each(function(){var t=co(this,l),e=t.on;e!==a&&((i=(a=e).copy())._.cancel.push(n),i._.interrupt.push(n),i._.end.push(r)),t.on=i})})}};var vo={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function xo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return vo.time=Ii(),vo;return n}j.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,a,i=t.__transition,o=!0;if(i){for(a in e=null==e?null:e+"",i)(n=i[a]).name===e?(r=n.state>no&&n.state<io,n.state=oo,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[a]):o=!1;o&&delete t.__transition}}(this,t)})},j.prototype.transition=function(t){var e,n;t=t instanceof bo?(e=t._id,t._name):(e=go(),(n=vo).time=Ii(),null==t?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o,l=r[i],s=l.length,c=0;c<s;++c)(o=l[c])&&lo(o,t,e,c,l,n||xo(o,e));return new bo(r,this._parents,t,e)};var wo=1,Mo={container:document.body,point:[window.innerWidth/2,window.innerHeight/2],html:"",open_duration:250,close_duration:250,popup_custom_template:"",position:"overlay",shadow:!0,underlay_color:"rgba(255, 255, 255, 0.75)",width_side:35,height_side:35,width_overlay:80,height_overlay:80,vertical_position:"click",max_width:null,max_height:null,closeable:!0};function ko(){for(var t in this.unique_id=wo++,this._is_open=!1,this._onclose=null,Mo)this["_"+t]=Mo[t]}function zo(e){ko.prototype[e]=function(t){return void 0===t?this["_"+e]:(this["_"+e]=t,this)}}for(var Co in Mo)zo(Co);ko.prototype.point=function(t,e){if(void 0===t)return this._point;if(Array.isArray(t))this._point=[t[0],t[1]];else if(void 0!==e)this._point=[t,e];else if(t instanceof HTMLElement||t instanceof SVGElement){var n=t.getBoundingClientRect();this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]}else console.error("Panel: could not understand argument");return this},ko.prototype.container=function(t){return t&&(this._container=t),this},ko.prototype.close=ko.prototype.hide=function(){if(this._is_open)return function(t){t._getElement().style.pointerEvents="none",t._is_open=!1;var e=t._close_duration;q(t._getElement()).transition().duration(e).style("background","rgba(255, 255, 255, 0)").on("interrupt",function(){q(this).style("display",t._is_open?"block":"none")}).on("end",function(){q(this).style("display","none")}).select(".flourish-panel-close").style("opacity","0"),q(t._inner).transition().duration(e).style("opacity",0),q(t._content).transition().duration(e/2).style("opacity",0)}(this),this},ko.prototype.draw=function(){return this._content.innerHTML=this._html,function(t){var e=t._is_open||t._html==t._default?0:t._open_duration,n=window.innerWidth,r=window.innerHeight,a="overlay"==t._position,i="top"==t._position||"bottom"==t._position,o="left"==t._position||"right"==t._position,l=100*(t._max_width||1/0)/n,s=100*(t._max_height||1/0)/r,c=100*t._point[1]/r,u="click"==t._vertical_position&&!Flourish.fixed_height,f=a?Math.min(t._width_overlay,l):i?100:Math.min(t._width_side,l),d=a?Math.min(t._height_overlay,s):o?100:Math.min(t._height_side,s),h=a?(100-f)/2:"right"==t._position?100-f:0,p=u?Math.max(1,Math.min(c-d/2,99-d)):(100-d)/2,_=a?p:"bottom"==t._position?100-d:0,y=a?0:f,b=a?0:d,g=a?100*t._point[0]/n:"right"==t._position?100:"left"==t._position?-f:0,m=a?c:"bottom"==t._position?100:"top"==t._position?-d:0;q(t._getElement()).style("display","block").transition().duration(e).delay(.25*e).style("background",a?t._underlay_color:"rgba(255, 255, 255, 0)").style("pointer-events",a?null:"none"),q(t._inner).style("opacity",1).style("display","block").style("pointer-events","none").style("width",y+"%").style("height",b+"%").style("left",g+"%").style("top",m+"%").transition().duration(e).style("width",f+"%").style("height",d+"%").style("left",h+"%").style("top",_+"%").on("end",function(){q(t._inner).style("pointer-events","all").style("width",f+"%").style("height",d+"%").style("left",h+"%").style("top",_+"%")}).on("interrupt",function(){q(t._inner).style("pointer-events","all").style("width",f+"%").style("height",d+"%").style("left",h+"%").style("top",_+"%")});var v=o&&u;q(t._content).transition().duration(e/4).delay(e).style("opacity",1).on("interrupt",function(){q(this).style("opacity",1)}),q(t._content).select(".flourish-panel-content-inner").style("position",v?"absolute":null).style("top",v?c+"%":null).style("transform",v?"translateY(-50%)":null),q(t._inner).select(".flourish-panel-close").style("opacity",0).transition().duration(e/4).delay(e).style("opacity",t._closeable?1:0),t._is_open=!0}(this),this},ko.prototype.on=function(t,e){return"close"==t?e&&(this._onclose=e):console.error("Panel .on() method only supports 'close' events"),this},ko.prototype.margins=function(){var t={top:0,right:0,bottom:0,left:0};if(this._is_open&&"overlay"!=this._position){var e=this._getElement().getBoundingClientRect();"top"==this._position&&(t.top=e.top+e.height),"right"==this._position&&(t.right=e.left),"bottom"==this._position&&(t.bottom=e.top),"left"==this._position&&(t.left=e.left+e.width)}return t.css=t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px",t};var Ao={mode:"popup",locked_id:null,popup_is_custom:!(ko.prototype._getElement=function(){var e=this,t="flourish-panel-"+e.unique_id,n=document.getElementById(t);if(!n){(n=document.createElement("div")).className="flourish-panel",n.id=t,n.addEventListener("click",function(t){t.stopPropagation(),e.hide(),e._onclose&&e._onclose()});var r=n.style;r.position="absolute",r.zIndex="999999",r.pointerEvents="none",r.width="100%",r.height="100%",r.top="0",r.left="0",r.background="rgba(255, 255, 255, 0)";var a=document.createElement("div");a.className="flourish-panel-inner",n.appendChild(a),(r=(e._inner=a).style).width="0",r.height="0",r.position="absolute",r.boxSizing="border-box";var i=document.createElement("div");i.className="flourish-panel-shadow",a.appendChild(i);var o=document.createElement("div");o.className="flourish-panel-content",a.appendChild(o),(r=(e._content=o).style).opacity="0",r.overflowY="auto",r.height="100%",function(t){q(t._inner).append("svg").attr("class","flourish-panel-close").attr("viewBox","0 0 40 40").style("width","1.25rem").style("height","1.25rem").style("position","absolute").style("right","1rem").style("top","1rem").style("cursor","pointer").style("opacity",0).on("mouseover",function(){t._closeable&&(this.style.opacity=.66)}).on("mouseout",function(){t._closeable&&(this.style.opacity=1)}).on("click",function(){N.stopPropagation(),t.hide(),t._onclose&&t._onclose()}).on("touch",function(){N.stopPropagation(),t.hide(),t._onclose&&t._onclose()}).append("path").attr("stroke","#333333").attr("stroke-width","0.5rem").attr("stroke-linecap","round").attr("d","M 10,10 L 30,30 M 30,10 L 10,30")}(e),e._container.appendChild(n)}return n}),popup_custom_header:"Popup header",popup_custom_main:"Popup main content. Write your column names in between double curly brackets to display dynamic content.",popup_teaser_default:"Click to see more",popup_text_color:"#333333",popup_align:"start",popup_font_size:1,popup_width:12,popup_background:"#ffffff",popup_background_opacity:1,popup_padding:.5,popup_radius:.2,popup_shadow:!0,popup_pointer:!0,popup_header_background:"#333333",popup_header_text_color:"#ffffff",popup_header_type:"block",popup_list_type:"table",popup_list_label_weight:"normal",popup_list_separator:": ",panel_is_custom:!1,panel_custom_header:"Custom panel header",panel_custom_main:"Custom panel main content",panel_side_default_content:"<h1>Tap or click to explore</h1>",panel_side_fixed:!1,panel_position:"overlay",panel_width_overlay:80,panel_height_overlay:80,panel_vertical_position:"center",panel_width_side:35,panel_height_side:35,panel_max_width:null,panel_max_height:null,panel_text_color:"#333333",panel_align:"start",panel_font_size:1.25,panel_background:"#ffffff",panel_background_opacity:.9,panel_padding:1.2,panel_radius:.2,panel_shadow:!0,panel_open_duration:250,panel_close_duration:250,panel_list_type:"table",panel_list_label_weight:"normal",panel_list_separator:": "};function To(a,i,t){var e="<div class='flourish-panel-content-inner'>",n=a["_"+t+"_default_template"],r=a._state[t+"_list_type"],o=a._state[t+"_list_separator"],l="<br />"===o,s=l?"":o,c=l?o:"";if(n)e+=n.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,function(t,n){var r;if(Array.isArray(a._column_names[n])){var e=a._column_names[n];if(0==e.length)return"";r="<ul>",e.forEach(function(t,e){r+="<li>"+t+o+i[n][e]+"</li>"}),r+="</ul>"}else r=i[n];return void 0!==r?r:""});else{var u,f={};for(var d in(i[a._title_key]||i[a._subtitle_key])&&(e+="<header>",i[a._title_key]&&(e+="<h1>"+i[a._title_key]+"</h1>",f[u=a._column_names[a._title_key]]=!0),i[a._subtitle_key]&&(e+="<h2>"+i[a._subtitle_key]+"</h2>",f[u=a._column_names[a._subtitle_key]]=!0),e+="</header>"),e+="<div class='main-content'><"+r+">",a._column_names)if(d!=a._title_key&&d!=a._subtitle_key)if(Array.isArray(i[d]))for(var h=0;h<i[d].length;h++)f[u=a._column_names[d][h]]||(f[u]=!0,"table"==r?e+="<tr><td class='table-col-label'><span class='data-heading'>"+u+"</span></td><td class='table-col-value'>"+i[d][h]+"</td></tr>":"ul"==r&&(e+="<li><span class='data-heading'>"+u+s+" </span> "+c+i[d][h]+"</li>"));else{if(f[u=a._column_names[d]])continue;f[u]=!0,"table"==r?e+="<tr><td class='table-col-label'><span class='data-heading'>"+u+"</span></td><td class='table-col-value'>"+i[d]+"</td></tr>":"ul"==r&&(e+="<li><span class='data-heading'>"+u+s+" </span> "+c+i[d]+"</li>")}e+="</"+r+"></div></div>"}return e}function So(n,r,a){var i;return Object.keys(n._column_names).some(function(t){if(Array.isArray(n._column_names[t])){var e=n._column_names[t].indexOf(r);if(0<=e)return i=a[t][e],!0}else if(n._column_names[t]==r)return i=a[t],!0}),void 0!==i?i:""}function Eo(t,e,n,r){var a="",i=Lo(e,t,r),o=Lo(n,t,r);return i&&(a+="<header>"+i+"</header>"),o&&(a+="<div class='main-content'>"+o+"</div>"),a}function Lo(t,r,a){return t.replace(/\{\{#if ((?:[^}]|\}[^}])*)\}\}([\s\S]*?)\{\{\/if\}\}/g,function(t,e,n){return""==So(r,e,a)?"":n}).replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,function(t,e){return So(r,e,a)})}function No(t,e,n){var r="";return n&&!t._state.popup_is_custom?r+="<div class='main-content'>"+t._state.popup_teaser_default+"</div>":n||t._state.popup_is_custom?r+=Eo(t,t._state.popup_custom_header,t._state.popup_custom_main,e):r+=To(t,e,"popup"),r}function Fo(t,e){var n="";return t._state.panel_is_custom?n+=Eo(t,t._state.panel_custom_header,t._state.panel_custom_main,e):n+=To(t,e,"panel"),n}function Po(t){var e=t.popup._getElement(),n=e.querySelector(".flourish-popup-content");n.style.padding="0",n.style.textAlign=t._state.popup_align,n.style.color=t._state.popup_text_color,n.style.fontSize=t._state.popup_font_size+"rem",n.style.borderRadius=t._state.popup_radius+"rem",n.addEventListener("click",function(){event.stopPropagation()});var r=t.panel._getElement(),a=r.querySelector(".flourish-panel-inner"),i=r.querySelector(".flourish-panel-content"),o=er(t._state.panel_background);a.style.background="rgba("+o.r+","+o.g+","+o.b+","+t._state.panel_background_opacity+")",a.style.borderRadius=t._state.popup_radius+"rem",a.style.boxShadow="overlay"==t._state.panel_position&&t._state.panel_shadow?"0 0 1.5rem rgba(0,0,0,0.2)":"",a.addEventListener("click",function(){event.stopPropagation()}),i.style.padding=t._state.panel_padding+"rem",i.style.textAlign=t._state.panel_align,i.style.color=t._state.panel_text_color,i.style.fontSize=t._state.panel_font_size+"rem",i.style.boxSizing="border-box";var l=e.querySelector(".flourish-popup-svg g");l.style.fill=t._state.popup_background,l.style.opacity=t._state.popup_background_opacity;var s=r.querySelector(".flourish-panel-close path");s&&(s.style.stroke=t._state.panel_text_color),0==t._state.popup_shadow?l.removeAttribute("filter"):l.setAttribute("filter","url(#dropshadow-"+t.popup.unique_id+")"),l.querySelector("rect").setAttribute("rx",t._state.popup_radius+"rem"),l.querySelector("path").style.display=t._state.popup_pointer?"block":"none",function(t){if(!document.querySelector("#popup-styles")){var e=document.createElement("style");e.id="popup-styles",document.head.appendChild(e)}var n=new rn,r="block"==t._state.popup_header_type,a=er(t._state.popup_header_background||"transparent");a.opacity=t._state.popup_header_background?t._state.popup_background_opacity:0;var i=t._state.panel_position;n.select(".flourish-panel .flourish-panel-shadow").style("pointer-events","none").style("position","absolute").style("display","overlay"!=i&&t._state.panel_shadow?"block":"none").style("top","bottom"==i?"-3rem":"top"==i?"auto":0).style("right","left"==i?"-3rem":"right"==i?"auto":0).style("bottom","top"==i?"-3rem":"bottom"==i?"auto":0).style("left","right"==i?"-3rem":"left"==i?"auto":0).style("width","left"==i||"right"==i?"3rem":"100%").style("height","top"==i||"bottom"==i?"3rem":"100%").style("z-index","-1").style("overflow","hidden"),n.select(".flourish-panel .flourish-panel-shadow:before").style("content","''").style("display","block").style("position","absolute").style("width","left"==i||"right"==i?"1.5rem":"100%").style("height","top"==i||"bottom"==i?"1.5rem":"100%").style("border-radius","50%").style("background","rgba(0,0,0,0.3)").style("bottom","bottom"==i?"-50%":"top"==i?"auto":0).style("left","left"==i?"-50%":"right"==i?"auto":0).style("top","top"==i?"-50%":"bottom"==i?"auto":0).style("right","right"==i?"-50%":"left"==i?"auto":0).style("filter","blur(15px)"),n.select(".flourish-popup").style("pointer-events","none").select(".flourish-popup-content").style("pointer-events","auto").style("max-width",null==t._state.popup_width?null:t._state.popup_width+"rem !important"),n.select(".flourish-popup header, .flourish-panel header").style("margin","0"),n.select(".flourish-popup header").style("font-weight","bold").style("color",r?t._state.popup_header_text_color:null).style("background",r?a.rgb():null).style("padding",t._state.popup_padding+"rem").style("padding-bottom",r?null:"0").style("border-radius",t._state.popup_radius+"rem "+t._state.popup_radius+"rem 0 0"),n.select(".flourish-panel .flourish-panel-content-inner").style("overflow","auto"),n.select(".flourish-panel header").style("font-weight","bold").style("margin-bottom","0.5em").style("padding-right","1rem"),n.select(".flourish-popup .main-content").style("padding",t._state.popup_padding+"rem"),n.select(".flourish-popup header + .main-content").style("padding",t._state.popup_padding+"rem").style("padding-top",r?null:"0"),n.select(".flourish-popup h1, .flourish-panel h1").style("font-size","1em").style("margin","0"),n.select(".flourish-popup h1, .flourish-popup h2, .flourish-popup ul li").style("text-align",t._state.popup_align),n.select(".flourish-panel h1, .flourish-panel h2, .flourish-panel ul li").style("text-align",t._state.panel_align),n.select(".flourish-popup h2, .flourish-panel h2").style("font-size","1em").style("margin",r?"0":"0 0 0.25em").style("opacity","0.6").style("font-weight","normal"),n.select(".flourish-popup h2:empty, .flourish-panel h2:empty, .flourish-popup h1:empty, .flourish-panel h1:empty, .flourish-popup p:empty, .flourish-panel p:empty").style("display","none"),n.select(".flourish-popup p, .flourish-panel p").style("margin","0").style("font-size","inherit").style("font-weight","normal"),n.select(".flourish-popup table, .flourish-panel table").style("margin","0").style("width","100%").style("border-collapse","collapse").style("table-layout","auto"),n.select(".flourish-popup table tr, .flourish-panel table tr").style("border-top","1px solid #eee"),n.select(".flourish-popup table tr:first-child, .flourish-panel table tr:first-child").style("border-top","none"),n.select(".flourish-popup table tr td, .flourish-panel table tr td").style("padding","0.25em 0 0.25em 0").style("padding-inline-end","0.25em").style("vertical-align","top").style("font-size","inherit").style("text-align","start").style("font-weight","normal").style("overflow","hidden").style("word-break","break-word").style("text-overflow","ellipsis"),n.select(".flourish-popup table tr:last-child td, .flourish-panel table tr:last-child td").style("padding-bottom","0"),n.select(".flourish-popup .data-heading").style("font-weight",t._state.popup_list_label_weight).style("display","inline-block"),n.select(".flourish-panel .data-heading").style("font-weight",t._state.panel_list_label_weight).style("display","inline-block"),n.select(".flourish-popup table tr td.table-col-value, .flourish-panel table tr td.table-col-value").style("text-align","end").style("padding","0.25em 0 0.25em 0").style("padding-inline-end","0.25em"),n.select(".flourish-popup table tr:last-child td.table-col-value, .flourish-panel table tr:last-child td.table-col-value").style("padding-bottom","0"),n.select(".flourish-popup ul, .flourish-panel ul").style("padding","0").style("margin","0"),n.select(".flourish-popup ul li, .flourish-panel ul li").style("font-size","inherit").style("list-style","none"),document.head.querySelector("#popup-styles").innerHTML=n.print()}(t)}function Oo(t,e,n){var r=this;for(var a in this._state=t,this._popup_default_template=null,this._panel_default_template=null,this._title_key="name",this._subtitle_key=null,this._first_load=!0,this._on_panel_close=null,this._show_default_content_timer=null,this._panel_container=e||document.body,this._popup_container=n||document.body,this._popup_directions=["top","bottom","left","right"],this._getLockedPosition=function(){return null},Ao)null==t[a]&&(t[a]=Ao[a]);this.panel=(new ko).container(this._panel_container).on("close",function(){r._state.locked_id=null,r.popup.hide(),"function"==typeof r._on_panel_close&&r._on_panel_close()}),this.popup=Ai().container(this._popup_container).point(0,0).draw().hide()}function Do(t){t.popup._getElement().querySelector(".flourish-popup-content").style.pointerEvents="none"}function Uo(t){t.popup._getElement().querySelector(".flourish-popup-content").style.pointerEvents="auto"}Oo.prototype.getLockedPosition=function(t){return"function"!=typeof t?console.error("Invalid function passed to @flourish/info-popup getLockedPosition"):this._getLockedPosition=t,this},Oo.prototype.update=function(t){if(null!==this._state.locked_id&&"none"!=this._state.mode){var e=this._getLockedPosition(this._state.locked_id);e?this.click(e[0],e[1],this._state.locked_id,t):console.warn("@flourish/info-popup: failed to return value from getLockedPosition function")}else this.clickout()},Oo.prototype.click=function(t,e,n,r){if("none"!=this._state.mode){var a="popup"==this._state.mode?"popup":"panel";this._checkIfPopupIsEmpty(e,a)?"panel"==a?this.hidePanel():this.hidePopup():(this._point(t),null!=n?(this._state.locked_id=n,Uo(this)):this._state.locked_id=null,"panel"==a?(clearTimeout(this._show_default_content_timer),this.popup.hide(),this._drawPanel(e,r)):"popup"==a&&(this.panel.hide(),this._drawPopup(e,r)))}},Oo.prototype.clickout=function(){this._state.locked_id=null,"both"!=this._state.mode&&"panel"!=this._state.mode||(this.popup.draw(),this.popup.hide(),"overlay"!=this._state.panel_position&&this._state.panel_side_fixed?this._showDefaultPanelContent():this.panel.hide()),"popup"==this._state.mode&&(this.panel.hide(),this.popup.draw(),this.popup.hide())},Oo.prototype.touch=function(t,e,n,r){this.mouseover(t,e,r,!0,n)},Oo.prototype.mouseover=function(t,e,n,r,a){var i="panel"==this._state.mode?"panel":"popup";if(this._checkIfPopupIsEmpty(e,i,"both"==this._state.mode))"panel"==i?this.hidePanel():this.hidePopup();else{var o=this;if("both"==this._state.mode)if(this._point(t),this._drawPopup(e,n,!0),r?Uo(this):Do(this),r)o.popup._getElement().querySelector(".flourish-popup-content").onclick=function(){o.click(t,e,a,n)};if("popup"==this._state.mode){if(null!==this._state.locked_id)return;Do(this),this._point(t),this._drawPopup(e,n)}if("panel"==this._state.mode){if(null!==this._state.locked_id||"overlay"==this._state.panel_position)return;if(!this._state.panel_side_fixed)return;clearTimeout(this._show_default_content_timer),this._point(t),this._drawPanel(e,n)}}},Oo.prototype.mouseout=function(){if("both"==this._state.mode&&this.popup.hide(),"popup"==this._state.mode){if(null!==this._state.locked_id)return;this.popup.hide()}if("panel"==this._state.mode){if(null!==this._state.locked_id)return;if("overlay"==this._state.panel_position||!this._state.panel_side_fixed)return;this._showDefaultPanelContent()}},Oo.prototype.locked=function(){return this._state.locked_id},Oo.prototype.mode=function(){return this._state.mode},Oo.prototype.setColumnNames=function(t){return this._column_names=t,this},Oo.prototype._showDefaultPanelContent=function(){var t=this;clearTimeout(this._show_default_content_timer),this._show_default_content_timer=setTimeout(function(){t.panel.html(t._state.panel_side_default_content),t._drawPanel()},100),t._drawPanel()},Oo.prototype._checkIfPopupIsEmpty=function(t,e,n){return""==("panel"==e?Fo(this,t):No(this,t,n)).trim()},Oo.prototype.onPanelClose=function(t){return this._on_panel_close=t,this},Oo.prototype._drawPopup=function(t,e,n){return t&&this.popup.html(No(this,t,n)),Po(this),this.popup.draw(),e&&e(this.popup._getElement(),t),this},Oo.prototype._drawPanel=function(t,e){return Po(this),this.panel.open_duration(this._state.panel_open_duration).close_duration(this._state.panel_close_duration).width_overlay(this._state.panel_width_overlay).height_overlay(this._state.panel_height_overlay).vertical_position(this._state.panel_vertical_position).width_side(this._state.panel_width_side).height_side(this._state.panel_height_side).position(this._state.panel_position).max_width(this._state.panel_max_width).max_height(this._state.panel_max_height).closeable("overlay"==this._state.panel_position||!this._state.panel_side_fixed),void 0===t?this.panel.draw():this.panel.html(Fo(this,t)).draw(),e&&e(this.panel._getElement(),t),this},Oo.prototype.hidePanel=function(){return this.panel.hide(),this},Oo.prototype.hidePopup=function(){return this.popup.hide(),this},Oo.prototype.popupDirections=function(t){return this._popup_directions=t,this},Oo.prototype.margins=function(){return this.panel.margins()},Oo.prototype._getBiggestGap=function(t){var e,n,r=this._popup_container.getBoundingClientRect(),a=0,i={right:(r.width+r.left-(t.width+t.left))/r.width,bottom:(r.height+r.top-(t.height+t.top))/r.height,left:(t.left-r.left)/r.width,top:(t.top-r.top)/r.height},o={right:["left","leftFlexible","topLeft","bottomLeft","bottomFlexible","bottom","topFlexible","top","bottomRight","topRight","rightFlexible","right"],left:["right","rightFlexible","topRight","bottomRight","top","topFlexible","bottom","bottomFlexible","bottomLeft","topLeft","leftFlexible","left"],top:["bottom","bottomFlexible","bottomRight","bottomLeft","rightFlexible","leftFlexible","right","left","topRight","topLeft","topFlexible","top"],bottom:["top","topFlexible","topLeft","topRight","left","right","leftFlexible","rightFlexible","bottomLeft","bottomRight","bottomFlexible","bottom"]};for(var l in i)this._popup_directions.indexOf(l)<0||a<i[l]&&(a=i[l],n=o[e=l]);var s=t.left,c=t.top;return"left"==e||"right"==e?c+=.5*t.height:"bottom"==e&&(c+=t.height),"top"==e||"bottom"==e?s+=.5*t.width:"right"==e&&(s+=t.width),{side:e,arrow_directions:n,x:s,y:c}},Oo.prototype._point=function(t){var e,n,r=this._popup_directions;if(Array.isArray(t))e=t[0],n=t[1];else{if(!t||!t.getBoundingClientRect)return console.warn("@flourish/info-popup: Invalid positional value passed in point function, should be a coordinates array, or a node. Current value is",t),this;var a=t.getBoundingClientRect(),i=this._getBiggestGap(a);e=i.x,n=i.y,r=i.arrow_directions}return this.panel.point(t),this.popup.directions(r).point(e,n),this},Oo.prototype.popupDefaultTemplate=function(t){return null!=t?(this._popup_default_template=t,this):this._popup_default_template},Oo.prototype.panelDefaultTemplate=function(t){return null!=t?(this._panel_default_template=t,this):this._panel_default_template},Oo.prototype.titleKey=function(t){return null!=t?(this._title_key=t,this):this._title_key};var Ho,Bo={aggregation_type:"Sum",hierarchy_layout:"treemap",color:{},stroke_color:null,label_color:"#ffffff",axis_label_color:null,radial_tree_link_color:"#dddddd",cellPadding:"low",num_of_visible_levels:2,auto_set_height:!0,treemap_aspect_ratio_narrow:100,treemap_aspect_ratio_normal:66,responsive_narrow_breakpoint:500,label_size:1,min_label_size:.5,max_label_size:1.5,label_padding:.3,multi_line_labels:!0,label_case:"topUpperCase",label_weight:"topBold",value_labels_bold:!0,sort_by:"value",treemap_type:"treemapBinary",treemap_ratio:2,sunburst_inner_radius:33,sunburst_outer_radius:100,sunburst_show_zoomed_node_in_center:!0,sunburst_depth_fade:.75,sunburst_labelling:"auto",bar_min_bar_thickness:30,bar_max_bar_thickness:50,bar_bar_padding:10,bar_axis_label_size:1,bar_axis_labels_above:!0,bar_max_value:null,bar_axis_label_space:8,bar_show_value_label:!0,bar_value_label_space:6,radial_tree_outer_radius:60,radial_tree_bar_length:20,radial_tree_bar_width:40,radial_tree_rotation:0,radial_tree_show_values:!0,popup:{},popup_show_title:!(Oo.prototype.subtitleKey=function(t){return null!=t?(this._subtitle_key=t,this):this._subtitle_key}),popup_separator:">",popup_title:"",popup_hide_value:!1,popup_active_levels:"all_levels",filter:null,size_by:null,filter_control:{},filter_control_visibility:"always",size_by_control:{},size_by_control_visibility:"always",controls_padding:0,filter_include_all:!0,filter_all_label:"All",controls_style:{},dropdown_style:{},button_style:{},ascend_button_visibility:"always",animation_duration:1,zoom_out_button_color:"#f3f3f3",zoom_out_arrow_color:"#000000",zoomed_node_id:null,localization:{},number_formatter:{},layout:{}},jo={root:null};var qo,Ro,Yo,Io,Wo,Vo,Xo,$o,Zo,Go,Jo=Object.freeze({"stack-default":["header","controls","primary","footer"],"stack-2":["primary","header","controls","footer"],"stack-3":["header","primary","controls","footer"],"stack-4":["controls","primary","header","footer"]});qo=document.createElement("canvas").getContext("2d");function Qo(t){return"string"==typeof t&&null!=t.match(/^(https?:\/\/|data:)/i)}var Ko=!1;function tl(t){return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")?"http://"+t:t}function el(){return function(){var t=document.createElement("style");t.type="text/css",t.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(t)}(),(Xo=document.createElement("footer")).className="flourish-footer",($o=document.createElement("div")).className="flourish-footer-text",(Go=document.createElement("a")).target="_blank",(Zo=document.createElement("img")).className="flourish-footer-logo",Go.appendChild(Zo),Xo.appendChild($o),Xo.appendChild(Go),Xo}function nl(){return cl.background_color_enabled&&!function(t){if(t){var e=er(t);return 195<Math.round(299*e.r+587*e.g+114*e.b)/1e3}console.warn("No valid color",t)}(cl.background_color)}function rl(){var t=Qo(cl.footer_logo_src)?cl.footer_logo_src:"";return Qo(cl.footer_logo_src_light)&&nl()&&(t=cl.footer_logo_src_light),t}function al(){return cl.footer_logo_enabled&&rl()}function il(t){t||function(){var a="";["mobile_small","mobile_big","tablet","desktop","big_screen"].forEach(function(t,e){var n="@media(min-width: "+cl["breakpoint_"+t]+"px) {\n",r="html { font-size:"+cl["font_size_"+t]+"%; }";a+=(0==e?"":n)+r+(0==e?"":"\n}")+"\n\n"}),Ho.innerHTML=a;var t=[cl.body_font,cl.title_font,cl.subtitle_font,cl.footer_font];t.forEach(function(t){if(t){for(var e=!1,n=document.head.querySelectorAll("link.layout-font"),r=0;r<n.length;r++){n[r].href==t.url&&(e=!0)}if(!e){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("href",t.url),a.className="layout-font",document.head.appendChild(a)}}});for(var e=document.head.querySelectorAll("link.layout-font"),n=0;n<e.length;n++){var r=e[n],i=!1;t.forEach(function(t){t&&t.url==r.href&&(i=!0)}),i||r.parentElement.removeChild(r)}document.body.style.fontFamily=cl.body_font.name}(),Ro.style.textAlign=cl.header_align,Ro.style.margin=0,Ro.style.borderTop="top"==cl.header_border?cl.header_border_width+"px "+cl.header_border_style+" "+cl.header_border_color:null,Ro.style.borderBottom="bottom"==cl.header_border?cl.header_border_width+"px "+cl.header_border_style+" "+cl.header_border_color:null,Ro.style.paddingTop="top"==cl.header_border?cl.header_border_space+"rem":"",Ro.style.paddingBottom="bottom"==cl.header_border?cl.header_border_space+"rem":"",Yo.innerHTML=cl.title?cl.title:"",Yo.style.fontFamily=cl.title_font?cl.title_font.name:"inherit",Yo.style.fontSize=("custom"!=cl.title_size?cl.title_size:cl.title_size_custom)+"rem",Yo.style.lineHeight=cl.title_line_height,Yo.style.fontWeight=cl.title_weight,Yo.style.color=cl.title_color||cl.font_color,Yo.style.margin=0,Yo.style.paddingTop=cl.title?("custom"==cl.title_space_above?cl.title_space_above_custom:cl.title_space_above)+"rem":0,Io.innerHTML=cl.subtitle?cl.subtitle:"",Io.style.fontFamily=cl.subtitle_font?cl.subtitle_font.name:"inherit",Io.style.fontSize=("custom"!=cl.subtitle_size?cl.subtitle_size:cl.subtitle_size_custom)+"rem",Io.style.lineHeight=cl.subtitle_line_height,Io.style.fontWeight=cl.subtitle_weight,Io.style.color=cl.subtitle_color||cl.font_color,Io.style.margin=0,Io.style.paddingTop=cl.subtitle?("custom"==cl.subtitle_space_above?cl.subtitle_space_above_custom:cl.subtitle_space_above)+"rem":0,Wo.innerHTML=cl.header_text?cl.header_text:"",Wo.style.fontSize=("custom"!=cl.header_text_size?cl.header_text_size:cl.header_text_size_custom)+"rem",Wo.style.lineHeight=cl.header_text_line_height,Wo.style.fontWeight=cl.header_text_weight,Wo.style.margin=0,Wo.style.color=cl.header_text_color||cl.font_color,Wo.style.paddingTop=cl.header_text?("custom"==cl.header_text_space_above?cl.header_text_space_above_custom:cl.header_text_space_above)+"rem":0,Vo.style.display=cl.header_logo_enabled&&Qo(cl.header_logo_src)?"":"none",Vo.style.position="inside"==cl.header_logo_align?"":"fixed",Vo.style.height=cl.header_logo_height+"rem",Vo.style.top="outside"==cl.header_logo_align?0:"",Vo.style.left="outside"==cl.header_logo_align&&"left"==cl.header_logo_position_outside?0:"",Vo.style.right="outside"==cl.header_logo_align&&"right"==cl.header_logo_position_outside?0:"",Vo.style.marginTop=cl.header_logo_margin_top+"rem",Vo.style.marginBottom=cl.header_logo_margin_bottom+"rem",Vo.style.marginLeft=cl.header_logo_margin_left+"rem",Vo.style.marginRight=cl.header_logo_margin_right+"rem",Vo.style.float="top"==cl.header_logo_position_inside||"outside"==cl.header_logo_align?"":cl.header_logo_position_inside,Vo.style.width="auto",Vo.src=Qo(cl.header_logo_src)?cl.header_logo_src:"",function(){var t=[{name:cl.source_name,url:cl.source_url},{name:cl.multiple_sources?cl.source_name_2:"",url:cl.multiple_sources?cl.source_url_2:""},{name:cl.multiple_sources?cl.source_name_3:"",url:cl.multiple_sources?cl.source_url_3:""}].filter(function(t){return t.name||t.url});Ko=0<t.length||cl.footer_note||cl.footer_note_secondary||al(),Xo.style.display="flex",Xo.style.height=Ko?null:0,Xo.style.width="100%",Xo.style.paddingTop="top"==cl.footer_border?cl.footer_border_space+"rem":"",Xo.style.paddingBottom="bottom"==cl.footer_border?cl.footer_border_space+"rem":"",Xo.style.borderTop="top"==cl.footer_border?cl.footer_border_width+"px "+cl.footer_border_style+" "+cl.footer_border_color:"",Xo.style.borderBottom="bottom"==cl.footer_border?cl.footer_border_width+"px "+cl.footer_border_style+" "+cl.footer_border_color:"",Xo.style.fontFamily=cl.footer_font?cl.footer_font.name:"inherit",Xo.style.fontWeight=cl.footer_text_weight,"justify"==cl.footer_align?Xo.style.justifyContent="space-between":"left"==cl.footer_align?Xo.style.justifyContent="flex-start":"right"==cl.footer_align?Xo.style.justifyContent="flex-end":"center"==cl.footer_align&&(Xo.style.justifyContent="center"),Xo.style.fontSize=cl.footer_text_size+"rem",Xo.style.color=cl.footer_text_color||cl.font_color,Xo.style.alignItems=cl.footer_align_vertical;var a=document.createElement("span");t.forEach(function(t,e){var n=document.createElement("p");if(0<e&&(n.innerText=", "),t.url){var r=document.createElement("a");r.innerText=t.name||t.url,r.href=tl(t.url),r.target="_blank",n.appendChild(r)}else n.innerText+=t.name||t.url;a.innerHTML+=n.innerHTML}),$o.style.order="left"==cl.footer_logo_order?2:"",$o.style.textAlign="justify"==cl.footer_align?"":cl.footer_align;var e="<p>";e+=""!==a.innerHTML?cl.source_label+" "+a.innerHTML:"",e+=cl.footer_note?(""!==a.innerHTML?"  ":"")+cl.footer_note:"",e+="</p>",e+=cl.footer_note_secondary?"<br /><p>"+cl.footer_note_secondary+"</p>":"",$o.innerHTML=e,Zo.src=rl(),Zo.style.height=cl.footer_logo_height+"rem",Zo.style.marginLeft="right"==cl.footer_logo_order?cl.footer_logo_margin+"rem":"",Zo.style.marginRight="left"==cl.footer_logo_order?cl.footer_logo_margin+"rem":"",Zo.style.verticalAlign=cl.footer_align_vertical,Zo.style.display=al()?"":"none",Go.href=""==cl.footer_logo_link_url?"":tl(cl.footer_logo_link_url),Go.style.cursor=""==cl.footer_logo_link_url?"default":"pointer"}(),document.body.style.backgroundColor=cl.background_color_enabled?cl.background_color:"transparent",document.body.style.backgroundImage=cl.background_image_enabled?"url("+cl.background_image_src+")":"",document.body.style.backgroundSize=cl.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=cl.background_image_position;var e=pl.wrapper.style;e.height="100vh",e.color=cl.font_color,e.maxWidth="wrapper"==cl.max_width_target?cl.max_width+"px":"",e.marginLeft="wrapper"==cl.max_width_target&&"left"!=cl.max_width_align?"auto":"",e.marginRight="wrapper"==cl.max_width_target&&"right"!=cl.max_width_align?"auto":"",e.padding=cl.margin_top+"rem "+cl.margin_right+"rem "+cl.margin_bottom+"rem "+cl.margin_left+"rem",e.borderTop=cl.border.enabled?cl.border.top.width+"px "+cl.border.top.style+" "+cl.border.top.color:"",e.borderRight=cl.border.enabled?cl.border.right.width+"px "+cl.border.right.style+" "+cl.border.right.color:"",e.borderBottom=cl.border.enabled?cl.border.bottom.width+"px "+cl.border.bottom.style+" "+cl.border.bottom.color:"",e.borderLeft=cl.border.enabled?cl.border.left.width+"px "+cl.border.left.style+" "+cl.border.left.color:"";var n=pl.primary.outer.style,r=pl.legend.outer.style,a=parseFloat(n.order)>parseFloat(r.order)?"above":"below";Jo[cl.layout_order].forEach(function(t,e){pl[t].outer.style.order=10*e}),n.flex="1 1 auto",n.height=null,Nl(a),r.textAlign=cl.header_align,pl.controls.outer.style.textAlign=cl.header_align,pl.primary.outer.style.maxWidth="primary"==cl.max_width_target?cl.max_width+"px":"",pl.primary.outer.style.marginLeft="primary"==cl.max_width_target&&"left"!=cl.max_width_align?"auto":"",pl.primary.outer.style.marginRight="primary"==cl.max_width_target&&"right"!=cl.max_width_align?"auto":"";var i=cl.screenreader_hide_primary&&""!=cl.screenreader_text_primary;document.getElementById("fl-layout-primary-description").innerText=cl.screenreader_hide_primary?cl.screenreader_text_primary:"",i?pl.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):pl.primary.outer.removeAttribute("aria-describedBy"),cl.screenreader_hide_primary?pl.primary.inner.setAttribute("aria-hidden",!0):pl.primary.inner.removeAttribute("aria-hidden");var o=("custom"==cl.space_between_sections?cl.space_between_sections_custom:cl.space_between_sections)/2+"rem";hl.map(function(t){var e=pl[t],n=e.outer.style;return{name:t,height:yl(e.inner),order:parseFloat(n.order),style:n}}).sort(function(t,e){return t.order-e.order}).filter(function(t){if(t.height)return!0;t.style.paddingBottom="",t.style.paddingTop=""}).forEach(function(t,e,n){t.style.paddingTop=e?o:"",t.style.paddingBottom=e<n.length-1?o:""})}var ol=Object.freeze({body_font:{name:"Source Sans Pro",url:"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700"},title_font:null,subtitle_font:null,footer_font:null,border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:1.6,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.6,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:0,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_text_weight:"normal",footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",screenreader_hide_primary:!0,screenreader_text_primary:""});var ll,sl,cl,ul="Your web browser does not support the features used by this content. Consider updating to a modern browser.";function fl(t){return window.innerWidth!==ll&&(ll=window.innerWidth,sl=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*sl}var dl,hl=["header","controls","legend","primary","footer"],pl={};function _l(t){return t.getBoundingClientRect().width}function yl(t){return t.getBoundingClientRect().height}function bl(t,e){var n="fl-layout-"+t,r=document.createElement("section");r.className="fl-layout-container",r.id=n+"-container",r.style.width="100%",r.style.position="relative",r.style.order=e;var a=document.createElement("div");return a.className="fl-layout-inner",a.id=n,a.style.width="100%",a.style.position="relative","primary"==t&&(r.style.display="flex",function(t){var e=document.createElement("p");e.id="fl-layout-primary-description";var n=e.style;n.border="0",n.height="1px",n.width="1px",n.margin="-1px",n.overflow="hidden",n.padding="0",n.position="absolute",n.clip="rect(0 0 0 0)",t.appendChild(e)}(r)),"controls"!=t&&"legend"!=t||a.setAttribute("aria-hidden",!0),r.appendChild(a),pl.wrapper.appendChild(r),{outer:r,inner:a}}function gl(){return pl.wrapper}function ml(){return pl.sidebar}function vl(t){return-1!==hl.indexOf(t)?pl[t].inner:null}function xl(t){return pl[t]||void 0===t?_l("wrapper"==t||void 0===t?pl.wrapper:pl[t].outer):null}function wl(t){return pl[t]||void 0===t?"wrapper"==t||void 0===t?_l(pl.wrapper)-Sl("horizontal")-El("horizontal"):_l(pl[t].inner):null}function Ml(t){return pl[t]||void 0===t?yl("wrapper"==t||void 0===t?pl.wrapper:pl[t].outer):null}function kl(t){return pl[t]||void 0===t?"wrapper"==t||void 0===t?yl(pl.wrapper)-Sl("vertical")-El("vertical"):yl(pl[t].inner):null}function zl(){return yl(pl.primary.outer)-Al(pl.primary.outer)}function Cl(){return _l(pl.primary.inner)}function Al(t){return(parseFloat(getComputedStyle(t).paddingTop)||0)+(parseFloat(getComputedStyle(t).paddingBottom)||0)}function Tl(){return function(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return 999<t?650:599<t?575:400}()-Sl("vertical")-El("vertical")-["header","controls","legend","footer"].reduce(function(t,e){return t+Ml(e)},0)-Al(pl.primary.outer)}function Sl(t){var e;return"left"==t?e=cl.margin_left:"right"==t?e=cl.margin_right:"top"==t?e=cl.margin_top:"bottom"==t?e=cl.margin_bottom:"horizontal"==t?e=cl.margin_left+cl.margin_right:"vertical"==t&&(e=cl.margin_top+cl.margin_bottom),fl(e)}function El(t){return cl.border.enabled?"vertical"==t?cl.border.top.width+cl.border.bottom.width:"horizontal"==t?cl.border.left.width+cl.border.right.width:null:0}function Ll(t){var e=pl.primary;if(Flourish.fixed_height||void 0===Flourish.fixed_height)e.inner.style.height="";else{var n=null===t,r=n?Tl():t;r+Al(pl.primary.outer)!==parseFloat(e.outer.style.height)&&(pl.wrapper.style.height="",e.outer.style.flex="",e.inner.style.height=r+"px",Flourish.setHeight(n?null:Ml()))}}function Nl(t){var e=parseFloat(pl.primary.outer.style.order);pl.legend.outer.style.order=e+1*("below"===t.trim().toLowerCase()?1:-1)}function Fl(t){var e=dl.querySelector(".fl-layout-overlay-message");if(t){dl.style.display="block";var n="string"==typeof t?t:ul;e.innerHTML=n}else e.textContent="",dl.style.display="none"}function Pl(){return dl}var Ol,Dl,Ul,Hl,Bl,jl,ql,Rl,Yl,Il,Wl,Vl={x:10,y:10},Xl={x:10,y:10},$l=40,Zl=function(t){for(var e in cl=t,ol)void 0===cl[e]&&(cl[e]=ol[e]);return(Ho=document.createElement("style")).id="flourish-page-styles",Ho.type="text/css",document.head.appendChild(Ho),pl.wrapper=function(){var t=document.createElement("div");t.id="fl-layout-wrapper-outer",t.style.display="flex";var e=document.createElement("main");e.id="fl-layout-wrapper",e.style.display="flex",e.style.flexGrow="1",e.style.flexDirection="column",e.style.boxSizing="border-box",e.style.overflow="hidden";var n=document.createElement("aside");return n.id="fl-layout-sidebar",n.style.position="relative",pl.sidebar=n,t.appendChild(e),t.appendChild(n),document.body.appendChild(t),e}(),hl.forEach(function(t,e){pl[t]=bl(t,e)}),vl("header").appendChild(function(){(Ro=document.createElement("header")).className="flourish-header";var t=document.createElement("hgroup");return Yo=document.createElement("h1"),Io=document.createElement("h2"),Wo=document.createElement("p"),Vo=document.createElement("img"),Ro.appendChild(Vo),Ro.appendChild(t),t.appendChild(Yo),t.appendChild(Io),Ro.appendChild(Wo),Ro}()),vl("footer").appendChild(el()),pl.primary.outer.style.overflow="hidden",function(){var t=pl.primary.outer;t.style.position="relative",(dl=document.createElement("div")).id="fl-layout-overlay";var e=dl.style;e.position="absolute",e.display="none",e.width="100%",e.height="100%",e.top=0,e.left=0,e.backgroundColor="rgb(200,200,200)",e.zIndex=999999,e.pointerEvents="none";var n=document.createElement("p");n.className="fl-layout-overlay-message",(e=n.style).color="#333333",e.fontSize="1.5rem",e.paddingLeft="15%",e.paddingRight="15%",e.width="100%",e.boxSizing="border-box",e.position="absolute",e.top="50%",e.transform="translate(0, -50%)",e.margin="0",e.textAlign="center",dl.appendChild(n),t.appendChild(dl)}(),il(!0),{update:il,getWrapper:gl,getSidebar:ml,getSection:vl,getOuterWidth:xl,getInnerWidth:wl,getOuterHeight:Ml,getInnerHeight:kl,getPrimaryHeight:zl,getPrimaryWidth:Cl,getDefaultPrimaryHeight:Tl,setHeight:Ll,setLegendPosition:Nl,showOverlay:Fl,remToPx:fl,getOverlay:Pl}}(Bo.layout);var Gl="$";function Jl(){}function Ql(t,e){var n=new Jl;if(t instanceof Jl)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,a=-1,i=t.length;if(null==e)for(;++a<i;)n.set(a,t[a]);else for(;++a<i;)n.set(e(r=t[a],a,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function Kl(){var d,h,e,p=[],o=[];function _(t,n,r,a){if(n>=p.length)return null!=d&&t.sort(d),null!=h?h(t):t;for(var e,i,o,l=-1,s=t.length,c=p[n++],u=Ql(),f=r();++l<s;)(o=u.get(e=c(i=t[l])+""))?o.push(i):u.set(e,[i]);return u.each(function(t,e){a(f,e,_(t,n,r,a))}),f}return e={object:function(t){return _(t,0,ts,es)},map:function(t){return _(t,0,ns,rs)},entries:function(t){return function n(t,r){if(++r>p.length)return t;var a,i=o[r-1];return null!=h&&r>=p.length?a=t.entries():(a=[],t.each(function(t,e){a.push({key:e,values:n(t,r)})})),null!=i?a.sort(function(t,e){return i(t.key,e.key)}):a}(_(t,0,ns,rs),0)},key:function(t){return p.push(t),e},sortKeys:function(t){return o[p.length-1]=t,e},sortValues:function(t){return d=t,e},rollup:function(t){return h=t,e}}}function ts(){return{}}function es(t,e,n){t[e]=n}function ns(){return Ql()}function rs(t,e,n){t.set(e,n)}function as(){}Jl.prototype=Ql.prototype={constructor:Jl,has:function(t){return Gl+t in this},get:function(t){return this[Gl+t]},set:function(t,e){return this[Gl+t]=e,this},remove:function(t){var e=Gl+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Gl&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Gl&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Gl&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Gl&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Gl&&++t;return t},empty:function(){for(var t in this)if(t[0]===Gl)return!1;return!0},each:function(t){for(var e in this)e[0]===Gl&&t(this[e],e.slice(1),this)}};var is=Ql.prototype;function os(t,e){var n=new as;if(t instanceof as)t.each(function(t){n.add(t)});else if(t){var r=-1,a=t.length;if(null==e)for(;++r<a;)n.add(t[r]);else for(;++r<a;)n.add(e(t[r],r,t))}return n}as.prototype=os.prototype={constructor:as,has:is.has,add:function(t){return this[Gl+(t+="")]=t,this},remove:is.remove,clear:is.clear,values:is.keys,size:is.size,empty:is.empty,each:is.each};var ls,ss=(ls=document.createElement("canvas").getContext("2d"),function(t,e){return ls.font=e||"10px sans-serif",ls.measureText(t).width});function cs(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;0<=--r;)e+=n[r].value;else e=1;t.value=e}function us(t,e){var n,r,a,i,o,l=new ps(t),s=+t.value&&(l.value=t.value),c=[l];for(null==e&&(e=fs);n=c.pop();)if(s&&(n.value=+n.data.value),(a=e(n.data))&&(o=a.length))for(n.children=new Array(o),i=o-1;0<=i;--i)c.push(r=n.children[i]=new ps(a[i])),r.parent=n,r.depth=n.depth+1;return l.eachBefore(hs)}function fs(t){return t.children}function ds(t){t.data=t.data.data}function hs(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function ps(t){this.data=t,this.depth=this.height=0,this.parent=null}ps.prototype=us.prototype={constructor:ps,count:function(){return this.eachAfter(cs)},each:function(t){var e,n,r,a,i=this,o=[i];do{for(e=o.reverse(),o=[];i=e.pop();)if(t(i),n=i.children)for(r=0,a=n.length;r<a;++r)o.push(n[r])}while(o.length);return this},eachAfter:function(t){for(var e,n,r,a=this,i=[a],o=[];a=i.pop();)if(o.push(a),e=a.children)for(n=0,r=e.length;n<r;++n)i.push(e[n]);for(;a=o.pop();)t(a);return this},eachBefore:function(t){for(var e,n,r=this,a=[r];r=a.pop();)if(t(r),e=r.children)for(n=e.length-1;0<=n;--n)a.push(e[n]);return this},sum:function(a){return this.eachAfter(function(t){for(var e=+a(t.data)||0,n=t.children,r=n&&n.length;0<=--r;)e+=n[r].value;t.value=e})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),a=null;t=n.pop(),e=r.pop();for(;t===e;)a=t,t=n.pop(),e=r.pop();return a}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var a=r.length;t!==n;)r.splice(a,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function(){return us(this).eachBefore(ds)}};var _s=Array.prototype.slice;function ys(t){for(var e,n,r=0,a=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(_s.call(t))).length,i=[];r<a;)e=t[r],n&&ms(n,e)?++r:(n=xs(i=bs(i,e)),r=0);return n}function bs(t,e){var n,r;if(vs(e,t))return[e];for(n=0;n<t.length;++n)if(gs(e,t[n])&&vs(ws(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(gs(ws(t[n],t[r]),e)&&gs(ws(t[n],e),t[r])&&gs(ws(t[r],e),t[n])&&vs(Ms(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function gs(t,e){var n=t.r-e.r,r=e.x-t.x,a=e.y-t.y;return n<0||n*n<r*r+a*a}function ms(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,a=e.y-t.y;return 0<n&&r*r+a*a<n*n}function vs(t,e){for(var n=0;n<e.length;++n)if(!ms(t,e[n]))return!1;return!0}function xs(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return ws(t[0],t[1]);case 3:return Ms(t[0],t[1],t[2])}}function ws(t,e){var n=t.x,r=t.y,a=t.r,i=e.x,o=e.y,l=e.r,s=i-n,c=o-r,u=l-a,f=Math.sqrt(s*s+c*c);return{x:(n+i+s/f*u)/2,y:(r+o+c/f*u)/2,r:(f+a+l)/2}}function Ms(t,e,n){var r=t.x,a=t.y,i=t.r,o=e.x,l=e.y,s=e.r,c=n.x,u=n.y,f=n.r,d=r-o,h=r-c,p=a-l,_=a-u,y=s-i,b=f-i,g=r*r+a*a-i*i,m=g-o*o-l*l+s*s,v=g-c*c-u*u+f*f,x=h*p-d*_,w=(p*v-_*m)/(2*x)-r,M=(_*y-p*b)/x,k=(h*m-d*v)/(2*x)-a,z=(d*b-h*y)/x,C=M*M+z*z-1,A=2*(i+w*M+k*z),T=w*w+k*k-i*i,S=-(C?(A+Math.sqrt(A*A-4*C*T))/(2*C):T/A);return{x:r+w+M*S,y:a+k+z*S,r:S}}function ks(t,e,n){var r,a,i,o,l=t.x-e.x,s=t.y-e.y,c=l*l+s*s;c?(a=e.r+n.r,a*=a,o=t.r+n.r,(o*=o)<a?(r=(c+o-a)/(2*c),i=Math.sqrt(Math.max(0,o/c-r*r)),n.x=t.x-r*l-i*s,n.y=t.y-r*s+i*l):(r=(c+a-o)/(2*c),i=Math.sqrt(Math.max(0,a/c-r*r)),n.x=e.x+r*l-i*s,n.y=e.y+r*s+i*l)):(n.x=e.x+n.r,n.y=e.y)}function zs(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,a=e.y-t.y;return 0<n&&r*r+a*a<n*n}function Cs(t){var e=t._,n=t.next._,r=e.r+n.r,a=(e.x*n.r+n.x*e.r)/r,i=(e.y*n.r+n.y*e.r)/r;return a*a+i*i}function As(t){this._=t,this.next=null,this.previous=null}function Ts(t){if("function"!=typeof t)throw new Error;return t}function Ss(){return 0}function Es(t){return function(){return t}}function Ls(t){return Math.sqrt(t.value)}function Ns(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Fs(o,l){return function(t){if(e=t.children){var e,n,r,a=e.length,i=o(t)*l||0;if(i)for(n=0;n<a;++n)e[n].r+=i;if(r=function(t){if(!(a=t.length))return 0;var e,n,r,a,i,o,l,s,c,u,f;if((e=t[0]).x=0,e.y=0,!(1<a))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(2<a))return e.r+n.r;ks(n,e,r=t[2]),e=new As(e),n=new As(n),r=new As(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(l=3;l<a;++l){ks(e._,n._,r=t[l]),r=new As(r),s=n.next,c=e.previous,u=n._.r,f=e._.r;do{if(u<=f){if(zs(s._,r._)){n=s,(e.next=n).previous=e,--l;continue t}u+=s._.r,s=s.next}else{if(zs(c._,r._)){((e=c).next=n).previous=e,--l;continue t}f+=c._.r,c=c.previous}}while(s!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,i=Cs(e);(r=r.next)!==n;)(o=Cs(r))<i&&(e=r,i=o);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=ys(e),l=0;l<a;++l)(e=t[l]).x-=r.x,e.y-=r.y;return r.r}(e),i)for(n=0;n<a;++n)e[n].r-=i;t.r=r+i}}}function Ps(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function Os(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Ds(t,e,n,r,a){for(var i,o=t.children,l=-1,s=o.length,c=t.value&&(r-e)/t.value;++l<s;)(i=o[l]).y0=n,i.y1=a,i.x0=e,i.x1=e+=i.value*c}function Us(t,e){return t.parent===e.parent?1:2}function Hs(t){var e=t.children;return e?e[0]:t.t}function Bs(t){var e=t.children;return e?e[e.length-1]:t.t}function js(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function qs(t,e,n,r,a){for(var i,o=t.children,l=-1,s=o.length,c=t.value&&(a-n)/t.value;++l<s;)(i=o[l]).x0=e,i.x1=r,i.y0=n,i.y1=n+=i.value*c}js.prototype=Object.create(ps.prototype);var Rs=(1+Math.sqrt(5))/2;function Ys(t,e,n,r,a,i){for(var o,l,s,c,u,f,d,h,p,_,y,b=[],g=e.children,m=0,v=0,x=g.length,w=e.value;m<x;){for(s=a-n,c=i-r;!(u=g[v++].value)&&v<x;);for(f=d=u,y=u*u*(_=Math.max(c/s,s/c)/(w*t)),p=Math.max(d/y,y/f);v<x;++v){if(u+=l=g[v].value,l<f&&(f=l),d<l&&(d=l),y=u*u*_,p<(h=Math.max(d/y,y/f))){u-=l;break}p=h}b.push(o={value:u,dice:s<c,children:g.slice(m,v)}),o.dice?Ds(o,n,r,a,w?r+=c*u/w:i):qs(o,n,r,w?n+=s*u/w:a,i),w-=u,m=v}return b}var Is=function e(i){function t(t,e,n,r,a){Ys(i,t,e,n,r,a)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(Rs);var Ws=function e(h){function t(t,e,n,r,a){if((i=t._squarify)&&i.ratio===h)for(var i,o,l,s,c,u=-1,f=i.length,d=t.value;++u<f;){for(l=(o=i[u]).children,s=o.value=0,c=l.length;s<c;++s)o.value+=l[s].value;o.dice?Ds(o,e,n,r,n+=(a-n)*o.value/d):qs(o,e,n,e+=(r-e)*o.value/d,a),d-=o.value}else t._squarify=i=Ys(h,t,e,n,r,a),i.ratio=h}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(Rs),Vs=Object.freeze({input_decimal_separator:".",output_separators:",."});var Xs,$s=function(t){for(var e in Vs)void 0===t[e]&&(t[e]=Vs[e]);return{getParser:function(){return function(e){var n=new RegExp("[^-0-9eE"+e+"]","g");return function(t){return"number"==typeof t?t:""===t||void 0===t?NaN:parseFloat(t.replace(n,"").replace(e,"."))}}(t.input_decimal_separator)},getFormatterFunction:function(){return function(t){var e=1<t.length,n=e?t.charAt(1):t.charAt(0),r=e?t.charAt(0):"",a=qa(function(t,e){return{decimal:t,thousands:e,grouping:[3],currency:["",""]}}(n,r)).format;return a.decimal=n,a.thousands=r,a}(t.output_separators)}}}(Bo.localization),Zs={Count:function(t){return t.reduce(function(t,e){return t+1},0)},Sum:function(t){return t.reduce(function(t,e){return t+(isNaN(e.value)?0:e.value)},0)}};function Gs(t,e,n){if(0===t.length||0===_i.data.column_names.nest_columns.length)return[];Xs=$s.getParser();var r=function(t){var r=_i.data.column_names.nest_columns,a=_i.data.column_names.size_columns.indexOf(Bo.size_by);return t.map(function(t){for(var e={},n=0;n<r.length;n++)e[r[n]]=t.nest_columns[n];return e.value=-1<a?Xs(t.size_columns[a]):0,e.original_data=t,e})}(t);n&&(r=function(t){var e=t.filter(function(t){return 0<=t.value});return e.length,t.length,e}(r));var a=Kl();return _i.data.column_names.nest_columns.forEach(function(e){a=a.key(function(t){return t[e]})}),a=(a=a.rollup(function(t){return{values:t,rollup_value:Zs[e](t)}})).entries(r)}function Js(t){t.children&&(t.children.sort(function(t,e){return t.value>e.value?-1:t.value<e.value?1:0}),t.children.forEach(Js))}function Qs(t){t.children&&(t.children.sort(function(t,e){return t.data.key>e.data.key?1:t.data.key<e.data.key?-1:0}),t.children.forEach(Qs))}function Ks(t){var e;return 0===t.length?((e=us({})).id="root",e.value=0,e.data.key="",e.data.value=0):((e=us({values:t},function(t){return t.values})).descendants().forEach(function(t){t.data.column_name=_i.data.column_names.nest_columns[t.depth-1]}),e.leaves().forEach(function(t){var e=t.data.value.values;1===e.length&&(t.data.unique_row=e[0].original_data),t.data.value=t.data.value.rollup_value}),e.sum(function(t){return t.value}),function e(t){var n=t.ancestors().slice(0,-1).map(function(t){return t.data.key}).reverse();t.id=0===t.depth?"root":t.depth+"-"+n.join("-"),t.children&&t.children.forEach(function(t){e(t)})}(e),"value"===Bo.sort_by?Js(e):"name"===Bo.sort_by&&Qs(e),function e(t){void 0!==t&&t.forEach(function(t){t.level1_key=t.ancestors()[t.depth-1].data.key,e(t.children)})}(e.children)),e}function tc(t,e){if(!e)return null;for(var n=t.descendants(),r=0;r<n.length;r++){var a=n[r];if(a.id===e)return a}return null}function ec(t){if(!t)return null;var e=t.ancestors().slice(0,-1);return(e=e.map(function(t){return t.data.key})).reverse(),e}function nc(t,e){for(var n=t.ancestors(),r=!1,a=0;a<n.length;a++)n[a].id===e.id&&(r=!0);return r}var rc=Object.freeze({scale_type:"categorical",categorical_type:"palette",categorical_palette:["#1D6996","#EDAD08","#73AF48","#94346E","#38A6A5","#E17C05","#5F4690","#0F8554","#6F4070","#CC503E","#994E95","#666666"],categorical_extend:!0,categorical_custom_palette:"",numeric_type:"sequential",sequential_palette:"Blues",sequential_custom_min:"#FFFFFF",sequential_custom_max:"#000000",sequential_color_space:"rgb",sequential_reverse:!1,sequential_custom_domain:!1,sequential_domain_min:0,sequential_domain_max:1,diverging_palette:"RdBu",diverging_custom_min:"#67001f",diverging_custom_mid:"#f7f7f7",diverging_custom_max:"#053061",diverging_color_space:"rgb",diverging_reverse:!1,diverging_custom_domain:!1,diverging_domain_min:0,diverging_domain_mid:.5,diverging_domain_max:1,binning:!1,bin_count:4,bin_mode:"fixed",bin_thresholds:""}),ac=360/((1+Math.sqrt(5))/2),ic="#FF0000";function oc(c,u,f){return function(t,e){Array.isArray(t)||(t=t?[t]:[ic]),e=void 0!==e?e:ac;var n=t.map(function(t){return c(t)}).filter(function(t){return!isNaN(t[u])&&!isNaN(t[f])});n.length||(n=[c(ic)]);for(var r,a=n.length,i=n.reduce(function(t,e){return t+e[u]},0)/a,o=n.reduce(function(t,e){return t+e[f]},0)/a,l=a;r=n[--l].h,isNaN(r)&&0<l;);var s=0;return function(){var t=++s*e;return er(c((r+t)%360,i,o)).hex()}}}var lc={hcl:oc(Lr,"c","l"),hsl:oc(dr,"s","l")};function sc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function cc(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var uc=Array.prototype,fc=uc.map,dc=uc.slice;function hc(t){return+t}var pc=[0,1];function _c(t){return t}function yc(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function bc(t){var e,n=t[0],r=t[t.length-1];return r<n&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function gc(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return i=a<r?(r=yc(a,r),n(o,i)):(r=yc(r,a),n(i,o)),function(t){return i(r(t))}}function mc(n,t,e){var r=Math.min(n.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=yc(n[o],n[o+1]),i[o]=e(t[o],t[o+1]);return function(t){var e=An(n,t,1,r)-1;return i[e](a[e](t))}}function vc(t,e){return function(){var n,r,e,a,i,o,l=pc,s=pc,c=ea,u=_c;function f(){return a=2<Math.min(l.length,s.length)?mc:gc,i=o=null,d}function d(t){return isNaN(t=+t)?e:(i=i||a(l.map(n),s,c))(n(u(t)))}return d.invert=function(t){return u(r((o=o||a(s,l.map(n),Jr))(t)))},d.domain=function(t){return arguments.length?(l=fc.call(t,hc),u===_c||(u=bc(l)),f()):l.slice()},d.range=function(t){return arguments.length?(s=dc.call(t),f()):s.slice()},d.rangeRound=function(t){return s=dc.call(t),c=na,f()},d.clamp=function(t){return arguments.length?(u=t?bc(l):_c,d):u!==_c},d.interpolate=function(t){return arguments.length?(c=t,f()):c},d.unknown=function(t){return arguments.length?(e=t,d):e},function(t,e){return n=t,r=e,f()}}()(t,e)}function xc(l){var s=l.domain;return l.ticks=function(t){var e=s();return Fn(e[0],e[e.length-1],null==t?10:t)},l.tickFormat=function(t,e){var n=s();return function(t,e,n,r){var a,i=On(t,e,n);switch((r=Na(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=Ya(i,o))||(r.precision=a),Ba(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=Ia(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=Ra(i))||(r.precision=a-2*("%"===r.type))}return Ha(r)}(n[0],n[n.length-1],null==t?10:t,e)},l.nice=function(t){null==t&&(t=10);var e,n=s(),r=0,a=n.length-1,i=n[r],o=n[a];return o<i&&(e=i,i=o,o=e,e=r,r=a,a=e),0<(e=Pn(i,o,t))?e=Pn(i=Math.floor(i/e)*e,o=Math.ceil(o/e)*e,t):e<0&&(e=Pn(i=Math.ceil(i*e)/e,o=Math.floor(o*e)/e,t)),0<e?(n[r]=Math.floor(i/e)*e,n[a]=Math.ceil(o/e)*e,s(n)):e<0&&(n[r]=Math.ceil(i*e)/e,n[a]=Math.floor(o*e)/e,s(n)),l},l}function wc(){var t=vc(_c,_c);return t.copy=function(){return function(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}(t,wc())},sc.apply(t,arguments),xc(t)}function Mc(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kc(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zc(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Cc,Ac,Tc,Sc,Ec,Lc,Nc,Fc,Pc,Oc,Dc,Uc,Hc,Bc,jc,qc,Rc,Yc,Ic,Wc,Vc,Xc,$c,Zc,Gc,Jc={"-":"",_:" ",0:"0"},Qc=/^\s*\d+/,Kc=/^%/,tu=/[\\^$*+?|[\]().{}]/g;function eu(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function nu(t){return t.replace(tu,"\\$&")}function ru(t){return new RegExp("^(?:"+t.map(nu).join("|")+")","i")}function au(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function iu(t,e,n){var r=Qc.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ou(t,e,n){var r=Qc.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function lu(t,e,n){var r=Qc.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function su(t,e,n){var r=Qc.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function cu(t,e,n){var r=Qc.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function uu(t,e,n){var r=Qc.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function fu(t,e,n){var r=Qc.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function du(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hu(t,e,n){var r=Qc.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function pu(t,e,n){var r=Qc.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _u(t,e,n){var r=Qc.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yu(t,e,n){var r=Qc.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function bu(t,e,n){var r=Qc.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gu(t,e,n){var r=Qc.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function mu(t,e,n){var r=Qc.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vu(t,e,n){var r=Qc.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xu(t,e,n){var r=Kc.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wu(t,e,n){var r=Qc.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Mu(t,e,n){var r=Qc.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function ku(t,e){return eu(t.getDate(),e,2)}function zu(t,e){return eu(t.getHours(),e,2)}function Cu(t,e){return eu(t.getHours()%12||12,e,2)}function Au(t,e){return eu(1+J.count(nt(t),t),e,3)}function Tu(t,e){return eu(t.getMilliseconds(),e,3)}function Su(t,e){return Tu(t,e)+"000"}function Eu(t,e){return eu(t.getMonth()+1,e,2)}function Lu(t,e){return eu(t.getMinutes(),e,2)}function Nu(t,e){return eu(t.getSeconds(),e,2)}function Fu(t){var e=t.getDay();return 0===e?7:e}function Pu(t,e){return eu(K.count(nt(t),t),e,2)}function Ou(t,e){var n=t.getDay();return t=4<=n||0===n?et(t):et.ceil(t),eu(et.count(nt(t),t)+(4===nt(t).getDay()),e,2)}function Du(t){return t.getDay()}function Uu(t,e){return eu(tt.count(nt(t),t),e,2)}function Hu(t,e){return eu(t.getFullYear()%100,e,2)}function Bu(t,e){return eu(t.getFullYear()%1e4,e,4)}function ju(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+eu(e/60|0,"0",2)+eu(e%60,"0",2)}function qu(t,e){return eu(t.getUTCDate(),e,2)}function Ru(t,e){return eu(t.getUTCHours(),e,2)}function Yu(t,e){return eu(t.getUTCHours()%12||12,e,2)}function Iu(t,e){return eu(1+rt.count(st(t),t),e,3)}function Wu(t,e){return eu(t.getUTCMilliseconds(),e,3)}function Vu(t,e){return Wu(t,e)+"000"}function Xu(t,e){return eu(t.getUTCMonth()+1,e,2)}function $u(t,e){return eu(t.getUTCMinutes(),e,2)}function Zu(t,e){return eu(t.getUTCSeconds(),e,2)}function Gu(t){var e=t.getUTCDay();return 0===e?7:e}function Ju(t,e){return eu(it.count(st(t),t),e,2)}function Qu(t,e){var n=t.getUTCDay();return t=4<=n||0===n?lt(t):lt.ceil(t),eu(lt.count(st(t),t)+(4===st(t).getUTCDay()),e,2)}function Ku(t){return t.getUTCDay()}function tf(t,e){return eu(ot.count(st(t),t),e,2)}function ef(t,e){return eu(t.getUTCFullYear()%100,e,2)}function nf(t,e){return eu(t.getUTCFullYear()%1e4,e,4)}function rf(){return"+0000"}function af(){return"%"}function of(t){return+t}function lf(t){return Math.floor(+t/1e3)}function sf(s,c){return function(t){var e,n,r,a=[],i=-1,o=0,l=s.length;for(t instanceof Date||(t=new Date(+t));++i<l;)37===s.charCodeAt(i)&&(a.push(s.slice(o,i)),null!=(n=Jc[e=s.charAt(++i)])?e=s.charAt(++i):n="e"===e?" ":"0",(r=c[e])&&(e=r(t,n)),a.push(e),o=i+1);return a.push(s.slice(o,i)),a.join("")}}function cf(a,i){return function(t){var e,n,r=zc(1900);if(uf(r,a,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=kc(zc(r.y))).getUTCDay())||0===n?ot.ceil(e):ot(e),e=rt.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=i(zc(r.y))).getDay())||0===n?tt.ceil(e):tt(e),e=J.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?kc(zc(r.y)).getUTCDay():i(zc(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,kc(r)):i(r)}}function uf(t,e,n,r){for(var a,i,o=0,l=e.length,s=n.length;o<l;){if(s<=r)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(i=Gc[a in Jc?e.charAt(o++):a])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}Ec=(Sc={dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}).dateTime,Lc=Sc.date,Nc=Sc.time,Fc=Sc.periods,Pc=Sc.days,Oc=Sc.shortDays,Dc=Sc.months,Uc=Sc.shortMonths,Hc=ru(Fc),Bc=au(Fc),jc=ru(Pc),qc=au(Pc),Rc=ru(Oc),Yc=au(Oc),Ic=ru(Dc),Wc=au(Dc),Vc=ru(Uc),Xc=au(Uc),Zc={a:function(t){return Oc[t.getUTCDay()]},A:function(t){return Pc[t.getUTCDay()]},b:function(t){return Uc[t.getUTCMonth()]},B:function(t){return Dc[t.getUTCMonth()]},c:null,d:qu,e:qu,f:Vu,H:Ru,I:Yu,j:Iu,L:Wu,m:Xu,M:$u,p:function(t){return Fc[+(12<=t.getUTCHours())]},Q:of,s:lf,S:Zu,u:Gu,U:Ju,V:Qu,w:Ku,W:tf,x:null,X:null,y:ef,Y:nf,Z:rf,"%":af},Gc={a:function(t,e,n){var r=Rc.exec(e.slice(n));return r?(t.w=Yc[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=jc.exec(e.slice(n));return r?(t.w=qc[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=Vc.exec(e.slice(n));return r?(t.m=Xc[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=Ic.exec(e.slice(n));return r?(t.m=Wc[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return uf(t,Ec,e,n)},d:pu,e:pu,f:vu,H:yu,I:yu,j:_u,L:mu,m:hu,M:bu,p:function(t,e,n){var r=Hc.exec(e.slice(n));return r?(t.p=Bc[r[0].toLowerCase()],n+r[0].length):-1},Q:wu,s:Mu,S:gu,u:ou,U:lu,V:su,w:iu,W:cu,x:function(t,e,n){return uf(t,Lc,e,n)},X:function(t,e,n){return uf(t,Nc,e,n)},y:fu,Y:uu,Z:du,"%":xu},($c={a:function(t){return Oc[t.getDay()]},A:function(t){return Pc[t.getDay()]},b:function(t){return Uc[t.getMonth()]},B:function(t){return Dc[t.getMonth()]},c:null,d:ku,e:ku,f:Su,H:zu,I:Cu,j:Au,L:Tu,m:Eu,M:Lu,p:function(t){return Fc[+(12<=t.getHours())]},Q:of,s:lf,S:Nu,u:Fu,U:Pu,V:Ou,w:Du,W:Uu,x:null,X:null,y:Hu,Y:Bu,Z:ju,"%":af}).x=sf(Lc,$c),$c.X=sf(Nc,$c),$c.c=sf(Ec,$c),Zc.x=sf(Lc,Zc),Zc.X=sf(Nc,Zc),Zc.c=sf(Ec,Zc),Cc={format:function(t){var e=sf(t+="",$c);return e.toString=function(){return t},e},parse:function(t){var e=cf(t+="",Mc);return e.toString=function(){return t},e},utcFormat:function(t){var e=sf(t+="",Zc);return e.toString=function(){return t},e},utcParse:function(t){var e=cf(t,kc);return e.toString=function(){return t},e}},Cc.parse,Ac=Cc.utcFormat,Tc=Cc.utcParse;var ff="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Ac(ff);+new Date("2000-01-01T00:00:00.000Z")||Tc(ff);function df(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function hf(){var t=xc(function(){var e,n,r,a,i,o=0,l=1,s=_c,c=!1;function u(t){return isNaN(t=+t)?i:s(0===r?.5:(t=(a(t)-e)*r,c?Math.max(0,Math.min(1,t)):t))}return u.domain=function(t){return arguments.length?(e=a(o=+t[0]),n=a(l=+t[1]),r=e===n?0:1/(n-e),u):[o,l]},u.clamp=function(t){return arguments.length?(c=!!t,u):c},u.interpolator=function(t){return arguments.length?(s=t,u):s},u.unknown=function(t){return arguments.length?(i=t,u):i},function(t){return e=(a=t)(o),n=t(l),r=e===n?0:1/(n-e),u}}()(_c));return t.copy=function(){return df(t,hf())},cc.apply(t,arguments)}function pf(){var t=xc(function(){var e,n,r,a,i,o,l,s=0,c=.5,u=1,f=_c,d=!1;function h(t){return isNaN(t=+t)?l:(t=.5+((t=+o(t))-n)*(t<n?a:i),f(d?Math.max(0,Math.min(1,t)):t))}return h.domain=function(t){return arguments.length?(e=o(s=+t[0]),n=o(c=+t[1]),r=o(u=+t[2]),a=e===n?0:.5/(n-e),i=n===r?0:.5/(r-n),h):[s,c,u]},h.clamp=function(t){return arguments.length?(d=!!t,h):d},h.interpolator=function(t){return arguments.length?(f=t,h):f},h.unknown=function(t){return arguments.length?(l=t,h):l},function(t){return e=(o=t)(s),n=t(c),r=t(u),a=e===n?0:.5/(n-e),i=n===r?0:.5/(r-n),h}}()(_c));return t.copy=function(){return df(t,pf())},cc.apply(t,arguments)}function _f(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function yf(t){return Gr(t[t.length-1])}var bf=yf(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(_f)),gf=yf(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(_f)),mf=yf(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(_f)),vf=yf(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(_f)),xf=yf(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(_f)),wf=yf(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(_f)),Mf=yf(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(_f)),kf=yf(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(_f)),zf=yf(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(_f)),Cf=yf(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(_f)),Af=yf(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(_f)),Tf=yf(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(_f)),Sf=yf(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(_f)),Ef=yf(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(_f)),Lf=yf(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(_f)),Nf=yf(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(_f)),Ff=yf(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(_f)),Pf=yf(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(_f)),Of=yf(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(_f)),Df=yf(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(_f)),Uf=yf(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(_f)),Hf=yf(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(_f)),Bf=yf(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(_f)),jf=yf(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(_f)),qf=yf(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(_f)),Rf=yf(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(_f)),Yf=yf(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(_f)),If=ma(qr(300,.5,0),qr(-240,.5,1)),Wf=ma(qr(-100,.75,.35),qr(80,1.5,.8)),Vf=ma(qr(260,.75,.35),qr(80,1.5,.8));qr();function Xf(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}var $f=Xf(_f("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Zf=Xf(_f("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Gf=Xf(_f("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Jf=Xf(_f("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Qf(t,e,n,r){var a,i,o=e[0],l=e[e.length-1],s=[];"custom"==t.bin_mode?i=(a=t.bin_thresholds.split(";").map(parseFloat).filter(function(t){return!isNaN(t)&&(o<t&&t<l)}).sort(Kf)).length+1:(i=Math.floor(t.bin_count),a=[]);var c,u=function(t,e,n){for(var r=1/e,a=[],i=0;i<e;i++){var o=i/e+r/2,l=n[0]+o*(n[n.length-1]-n[0]);a.push(l)}var s=a.map(t);return{positions:a,colors:s}}(r,i,e);(c="fixed"==t.bin_mode?function t(){var e,n=0,r=1,a=1,i=[.5],o=[0,1];function l(t){return t<=t?o[An(i,t,0,a)]:e}function s(){var t=-1;for(i=new Array(a);++t<a;)i[t]=((t+1)*r-(t-a)*n)/(a+1);return l}return l.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],s()):[n,r]},l.range=function(t){return arguments.length?(a=(o=dc.call(t)).length-1,s()):o.slice()},l.invertExtent=function(t){var e=o.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,i[0]]:a<=e?[i[a-1],r]:[i[e-1],i[e]]},l.unknown=function(t){return arguments.length&&(e=t),l},l.thresholds=function(){return i.slice()},l.copy=function(){return t().domain([n,r]).range(o).unknown(e)},sc.apply(xc(l),arguments)}().domain([o,l]):"quantile"==t.bin_mode?function t(){var e,a=[],n=[],r=[];function i(){var t=0,e=Math.max(1,n.length);for(r=new Array(e-1);++t<e;)r[t-1]=Dn(a,t/e);return o}function o(t){return isNaN(t=+t)?e:n[An(r,t)]}return o.invertExtent=function(t){var e=n.indexOf(t);return e<0?[NaN,NaN]:[0<e?r[e-1]:a[0],e<r.length?r[e]:a[a.length-1]]},o.domain=function(t){if(!arguments.length)return a.slice();a=[];for(var e,n=0,r=t.length;n<r;++n)null==(e=t[n])||isNaN(e=+e)||a.push(e);return a.sort(kn),i()},o.range=function(t){return arguments.length?(n=dc.call(t),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return t().domain(a).range(n).unknown(e)},sc.apply(o,arguments)}().domain(n):function t(){var e,n=[.5],r=[0,1],a=1;function i(t){return t<=t?r[An(n,t,0,a)]:e}return i.domain=function(t){return arguments.length?(n=dc.call(t),a=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(t){return arguments.length?(r=dc.call(t),a=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return t().domain(n).range(r).unknown(e)},sc.apply(i,arguments)}().domain(a)).range(u.colors),a.length||u.colors.forEach(function(t,e){e&&a.push(c.invertExtent(t)[0])}),a.forEach(function(t,e){e<a.length-1&&s.push((a[e+1]+t)/2)});function f(t){return isNaN(t)?null:c(t)}return f.domain=Object.freeze(e),f.thresholds=Object.freeze(a),f.centers=Object.freeze(s),f}function Kf(t,e){return t-e}function td(t){return Array.isArray(t)?Sn(t):[0,1]}var ed=Object.freeze(["#efeca4","#e9e28f","#dccf64","#e3b23c","#e49547","#e37746","#dc5b36","#cb4144","#bb2244","#972545","#6a2c4f"]),nd=Object.freeze({Blues:Hf,BuGn:Cf,BuPu:Af,Carrots:Gr(ed),Cool:Vf,CubehelixDefault:If,GnBu:Tf,Greens:Bf,Greys:jf,Inferno:Gf,Magma:Zf,Oranges:Yf,OrRd:Sf,Plasma:Jf,PuBu:Lf,PuBuGn:Ef,PuRd:Nf,Purples:qf,RdPu:Ff,Reds:Rf,Viridis:$f,Warm:Wf,YlGn:Of,YlGnBu:Pf,YlOrBr:Df,YlOrRd:Uf}),rd={hcl:ba,hsl:pa,lab:_a,rgb:$r};function ad(n,t){function e(t){return isNaN(t)?null:a(t)}var r=n.sequential_custom_domain&&!n.binning?[n.sequential_domain_min,n.sequential_domain_max]:td(t),a=hf(function(t){var e=nd[n.sequential_palette]||function(t){var e=t.sequential_color_space,n=t.sequential_custom_min,r=t.sequential_custom_max;return rd[e](n,r)}(n);return n.sequential_reverse?e(1-t):e(t)}).domain(r);return e.domain=Object.freeze(r),n.binning?Qf(n,r,t,e):e}var id=Object.freeze({BrBG:bf,PiYG:mf,PRGn:gf,PuOr:vf,RdBu:xf,RdGy:wf,RdYlBu:Mf,RdYlGn:kf,Spectral:zf}),od={hcl:ba,hsl:pa,lab:_a,rgb:$r};function ld(t){var e=t.diverging_color_space,n=t.diverging_custom_min,r=t.diverging_custom_mid,a=t.diverging_custom_max;return function(t,e){for(var n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(a,a=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return i[e](t-e)}}(od[e],[n,r,a])}var sd="object"==typeof global&&global&&global.Object===Object&&global,cd="object"==typeof self&&self&&self.Object===Object&&self,ud=sd||cd||Function("return this")(),fd=ud.Symbol,dd=Object.prototype,hd=dd.hasOwnProperty,pd=dd.toString,_d=fd?fd.toStringTag:void 0;var yd=Object.prototype.toString;var bd="[object Null]",gd="[object Undefined]",md=fd?fd.toStringTag:void 0;function vd(t){return null==t?void 0===t?gd:bd:md&&md in Object(t)?function(t){var e=hd.call(t,_d),n=t[_d];try{var r=!(t[_d]=void 0)}catch(t){}var a=pd.call(t);return r&&(e?t[_d]=n:delete t[_d]),a}(t):function(t){return yd.call(t)}(t)}function xd(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var wd="[object AsyncFunction]",Md="[object Function]",kd="[object GeneratorFunction]",zd="[object Proxy]";var Cd,Ad=ud["__core-js_shared__"],Td=(Cd=/[^.]+$/.exec(Ad&&Ad.keys&&Ad.keys.IE_PROTO||""))?"Symbol(src)_1."+Cd:"";var Sd=Function.prototype.toString;var Ed=/^\[object .+?Constructor\]$/,Ld=Function.prototype,Nd=Object.prototype,Fd=Ld.toString,Pd=Nd.hasOwnProperty,Od=RegExp("^"+Fd.call(Pd).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Dd(t){return!(!xd(t)||function(t){return!!Td&&Td in t}(t))&&(function(t){if(!xd(t))return!1;var e=vd(t);return e==Md||e==kd||e==wd||e==zd}(t)?Od:Ed).test(function(t){if(null!=t){try{return Sd.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function Ud(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Dd(n)?n:void 0}var Hd=Ud(Object,"create");var Bd=Object.prototype.hasOwnProperty;var jd=Object.prototype.hasOwnProperty;function qd(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rd(t,e){for(var n,r,a=t.length;a--;)if((n=t[a][0])===(r=e)||n!=n&&r!=r)return a;return-1}qd.prototype.clear=function(){this.__data__=Hd?Hd(null):{},this.size=0},qd.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qd.prototype.get=function(t){var e=this.__data__;if(Hd){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Bd.call(e,t)?e[t]:void 0},qd.prototype.has=function(t){var e=this.__data__;return Hd?void 0!==e[t]:jd.call(e,t)},qd.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Hd&&void 0===e?"__lodash_hash_undefined__":e,this};var Yd=Array.prototype.splice;function Id(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Id.prototype.clear=function(){this.__data__=[],this.size=0},Id.prototype.delete=function(t){var e=this.__data__,n=Rd(e,t);return!(n<0)&&(n==e.length-1?e.pop():Yd.call(e,n,1),--this.size,!0)},Id.prototype.get=function(t){var e=this.__data__,n=Rd(e,t);return n<0?void 0:e[n][1]},Id.prototype.has=function(t){return-1<Rd(this.__data__,t)},Id.prototype.set=function(t,e){var n=this.__data__,r=Rd(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Wd=Ud(ud,"Map");function Vd(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Xd(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xd.prototype.clear=function(){this.size=0,this.__data__={hash:new qd,map:new(Wd||Id),string:new qd}},Xd.prototype.delete=function(t){var e=Vd(this,t).delete(t);return this.size-=e?1:0,e},Xd.prototype.get=function(t){return Vd(this,t).get(t)},Xd.prototype.has=function(t){return Vd(this,t).has(t)},Xd.prototype.set=function(t,e){var n=Vd(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function $d(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Xd;++e<n;)this.add(t[e])}function Zd(t){return t!=t}function Gd(t,e){return!!(null==t?0:t.length)&&-1<function(t,e,n){return e==e?function(t,e,n){for(var r=n-1,a=t.length;++r<a;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var a=t.length,i=n+(r?1:-1);r?i--:++i<a;)if(e(t[i],i,t))return i;return-1}(t,Zd,n)}(t,e,0)}function Jd(t,e,n){for(var r=-1,a=null==t?0:t.length;++r<a;)if(n(e,t[r]))return!0;return!1}function Qd(t,e){return t.has(e)}$d.prototype.add=$d.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},$d.prototype.has=function(t){return this.__data__.has(t)};var Kd=Ud(ud,"Set");function th(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var eh=Kd&&1/th(new Kd([,-0]))[1]==1/0?function(t){return new Kd(t)}:function(){},nh=200;function rh(t){return t&&t.length?function(t,e,n){var r=-1,a=Gd,i=t.length,o=!0,l=[],s=l;if(n)o=!1,a=Jd;else if(nh<=i){var c=e?null:eh(t);if(c)return th(c);o=!1,a=Qd,s=new $d}else s=e?[]:l;t:for(;++r<i;){var u=t[r],f=e?e(u):u;if(u=n||0!==u?u:0,o&&f==f){for(var d=s.length;d--;)if(s[d]===f)continue t;e&&s.push(f),l.push(u)}else a(s,f,n)||(s!==l&&s.push(f),l.push(u))}return l}(t):[]}var ah,ih,oh,lh,sh=function(e){var n=null;for(var t in rc)void 0===e[t]&&(e[t]=rc[t]);var r=null,a=function(t){return n&&n(t)||r};return{getColor:a,updateColorScale:function(t){return"categorical"===e.scale_type?n=function(t,e){var a={},n=os(e).values(),r=t.categorical_palette,i=r.length;if(t.categorical_extend){var o=rc.rotation_angle,l=lc.hcl(r,o);n.forEach(function(t,e){a[t]=e<i?r[e]:l()})}else n.forEach(function(t,e){a[t]=r[e%i]});function s(t){return a[t]}return t.categorical_custom_palette.split("\n").filter(function(t){return t}).forEach(function(t){var e=t.lastIndexOf(":");if(-1!==e){var n=t.slice(0,e).trim(),r=t.slice(e+1).trim();n&&r&&(a[n]=r)}}),s.domain=n.slice(),s.colors=n.map(function(t){return a[t]}),s.items=n.map(function(t){return{label:t,color:a[t]}}),s}(e,t):"sequential"===e.numeric_type?n=ad(e,t):"diverging"===e.numeric_type&&(n=function(n,t){var e=td(t),r=e[0]<0&&0<e[1]?0:(e[0]+e[1])/2,a=[e[0],r,e[1]];function i(t){return isNaN(t)?null:o(t)}n.diverging_custom_domain&&(n.binning?a[1]=n.diverging_domain_mid:a=[n.diverging_domain_min,n.diverging_domain_mid,n.diverging_domain_max]);var o=pf(function(t){var e=id[n.diverging_palette]||ld(n);return n.diverging_reverse?e(1-t):e(t)}).domain(a);return i.domain=Object.freeze(a),i.midpoint=n.diverging_custom_domain?n.diverging_domain_mid:r,n.binning?Qf(n,a,t,i):i}(e,t)),a.thresholds=n.thresholds,a.centers=n.centers,a.midpoint=n.midpoint,a.domain=n.domain,a.colors=n.colors,a.items=n.items,this},fallback:function(t){return void 0===t?r:(r="default"===t?null:t,this)}}}(Bo.color);function ch(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}function uh(t){return 180*t/Math.PI}function fh(t){return t*Math.PI/180}function dh(t){var e=Bo.color.categorical_custom_palette,r=[];return e.split("\n").filter(function(t){return t}).forEach(function(t){var e=t.lastIndexOf(":");if(-1!==e){var n=t.slice(0,e).trim();n&&r.push(n)}}),-1<r.indexOf(t)}function hh(t){return 0===t.depth?"none":1===t.depth?sh.getColor(t.data.key):dh(t.data.key)?sh.getColor(t.data.key):"white"}function ph(t){if(0===t.depth)return"none";for(var e=t.ancestors(),n=0;n<e.length;n++){var r=e[n],a=sh.getColor(r.data.key);if(a)return a}return console.error("Unable to find ancestor color of",t.id),null}function _h(t){return 1<t.depth&&dh(t.data.key)}function yh(){return{low:16,medium:24,high:32}[Bo.cellPadding]}function bh(t){return"allUpperCase"===Bo.label_case||(!(!t||"bottomUpperCase"!==Bo.label_case)||!t&&"topUpperCase"===Bo.label_case)}function gh(t){return"allBold"===Bo.label_weight?"bold":t&&"bottomBold"===Bo.label_weight?"bold":t||"topBold"!==Bo.label_weight?"normal":"bold"}function mh(t,e,n){var r=ss(t+"...",n||"");if(0<e-r-8)return t;var a=Math.floor(t.length*e/r);return a=Math.max(0,a-3),0<(t=t.slice(0,a)).length&&(t+=""),t}function vh(){return jo.root.leaves()[0].depth+1}function xh(){return tc(jo.root,Bo.zoomed_node_id)||jo.root}function wh(t,e,n,r,a,i){var o=10*(e-2*r)/ss(t,"10px "+a+(i?" bold":"")),l=Math.max(0,n-2*r);return Math.min(o,l)}function Mh(t,e,n,r,a){for(var i=function(t){var e=t.split(/\s+/g);return e[e.length-1]||e.pop(),e[0]||e.shift(),e}(t),o=[],l={text:""},s=n+"px "+a,c=0;c<i.length;c++){if(o.length*n>r)return[];var u=i[c];if(ss(u,s)>e)return[];if(""===l.text)l.text=u,o.push(l);else{var f=l.text+" "+u;ss(f,s)<=e?l.text=f:(l={text:u},o.push(l))}}return o=o.map(function(t){return t.text})}function kh(t,e,n,r,a){var i=Mh(t,e,n,r,a).length;return 0<i?i*n:1/0}function zh(t,e,n,r,a,i,o,l){var s=Math.max(0,e-2*r),c=Math.max(0,n-2*r);if(kh(t,s,i,c,l)<=c)return{lines:Mh(t,s,i,c,l),size:i};if(c<a)return{lines:[],size:a};if(c<kh(t,s,a,c,l)){if(o){if(0===(h=function(t,e,n,r,a){var i=Mh(t,e,n,1/0,a);if(0===i.length)return[];var o=Math.floor(r/n);if(0===o)return[];var l=i.slice(0,o),s=l.slice(-1)[0].slice(0,-3)+"";return l[l.length-1]=s,l}(t,s,a,c,l)).length)h=[mh(t,s,a+"px "+l)];return{lines:h,size:a}}return{lines:[],size:0}}var u=Math.log(a)/Math.log(2),f=function t(e,n,r,a,i,o,l,s){var c=.5*(n+r),u=kh(e,a,Math.pow(2,c),i,s);return u<=i&&o<c&&(o=c),0===l?o:u<i?t(e,c,r,a,i,o,l-1,s):t(e,n,c,a,i,o,l-1,s)}(t,u,Math.log(i)/Math.log(2),s,c,u,2,l),d=Math.pow(2,f),h=Mh(t,s,d,c,l);return{lines:h,size:d}}function Ch(){return Bo.bar_axis_labels_above?ch(Bo.bar_axis_label_size):0}function Ah(t,e){var n=t/e-Bo.bar_bar_padding-Ch();return n=Math.min(n,Bo.bar_max_bar_thickness),n=Math.max(n,Bo.bar_min_bar_thickness)}function Th(t){return"never"!==t&&("editor"!==t||"editor"===Flourish.environment||"story_editor"===Flourish.environment)}function Sh(){var t=(oh="filter"in _i.data.column_names)&&Th(Bo.filter_control_visibility);if(Wl.select(".control-group.filter").style("display",t?"inline-block":"none"),ah&&!oh&&(ky.remove(),ah=!1,Bo.filter=null),oh){var e,n=function(t){for(var e=[],n={},r=0;r<t.length;r++)t[r]in n||(n[t[r]]=!0,e.push(t[r]));return e}(_i.data.map(function(t){return t.filter}));e=Bo.filter_include_all?[Bo.filter_all_label].concat(n):n,ah||(ky.appendTo(Wl.select("#filter").node()).on("change",function(t){Bo.filter=t,G_()}),ah=!0),-1===e.indexOf(Bo.filter)&&(Bo.filter=e[0]),ky.options(e).value(Bo.filter).update()}}function Eh(){var t=(lh=1<_i.data.column_names.size_columns.length)&&Th(Bo.size_by_control_visibility);if(Wl.select(".control-group.size-by").style("display",t?"inline-block":"none"),function(){var t=_i.data.column_names.size_columns.map(function(t){return t});if(0===t.length)return Bo.size_by=null;-1===t.indexOf(Bo.size_by)&&(Bo.size_by=t[0])}(),ih&&!lh&&(zy.remove(),ih=!1),lh){var e=_i.data.column_names.size_columns.map(function(t){return t});ih||(zy.appendTo(Wl.select("#size-by-control").node()).on("change",function(t){Bo.size_by=t,G_()}),ih=!0),zy.options(e).value(Bo.size_by).update()}}function Lh(t){var e=t.id||t.data.id;t.display&&!1===t.display.visible||q_||"root"===e||(function(t,e){var n=tc(jo.root,e.id);if(!fy(n))return;var r=sy(n),a=iy(n);ty.locked()||ty.setColumnNames(r.column_names);ty.mouseover(a,r.datum)}(0,t),"popup"!==Bo.popup.mode&&"both"!==Bo.popup.mode||ay(t.id),ty.locked()||K_("updateHighlightedNode",e))}function Nh(t){t.display&&!1===t.display.visible||q_||!function(t){return ny.contains(t)}(N.relatedTarget)&&(ty.mouseout(),ty.locked()||(ay(null),K_("updateHighlightedNode",null)))}function Fh(t){t.display&&!1===t.display.visible||q_||(N.stopPropagation(),0!==t.height&&K_("zoomToNode",t))}function Ph(){q(this).on("mouseover",Lh).on("mouseout",Nh).on("click",Fh)}var Oh,Dh,Uh,Hh,Bh,jh,qh,Rh,Yh,Ih,Wh={treemapBinary:function(t,e,n,r,a){var i,o,g=t.children,l=g.length,m=new Array(l+1);for(m[0]=o=i=0;i<l;++i)m[i+1]=o+=g[i].value;!function t(e,n,r,a,i,o,l){if(n-1<=e){var s=g[e];return s.x0=a,s.y0=i,s.x1=o,void(s.y1=l)}var c=m[e],u=r/2+c,f=e+1,d=n-1;for(;f<d;){var h=f+d>>>1;m[h]<u?f=1+h:d=h}u-m[f-1]<m[f]-u&&e+1<f&&--f;var p=m[f]-c,_=r-p;if(l-i<o-a){var y=(a*_+o*p)/r;t(e,f,p,a,i,y,l),t(f,n,_,y,i,o,l)}else{var b=(i*_+l*p)/r;t(e,f,p,a,i,o,b),t(f,n,_,a,b,o,l)}}(0,l,t.value,e,n,r,a)},treemapResquarify:Ws,treemapSlice:qs,treemapDice:Ds,treemapSliceDice:function(t,e,n,r,a){(1&t.depth?qs:Ds)(t,e,n,r,a)}},Vh=(Oh=Is,Dh=!1,Hh=Uh=1,Bh=[0],Ih=Yh=Rh=qh=jh=Ss,Xh.round=function(t){return arguments.length?(Dh=!!t,Xh):Dh},Xh.size=function(t){return arguments.length?(Uh=+t[0],Hh=+t[1],Xh):[Uh,Hh]},Xh.tile=function(t){return arguments.length?(Oh=Ts(t),Xh):Oh},Xh.padding=function(t){return arguments.length?Xh.paddingInner(t).paddingOuter(t):Xh.paddingInner()},Xh.paddingInner=function(t){return arguments.length?(jh="function"==typeof t?t:Es(+t),Xh):jh},Xh.paddingOuter=function(t){return arguments.length?Xh.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):Xh.paddingTop()},Xh.paddingTop=function(t){return arguments.length?(qh="function"==typeof t?t:Es(+t),Xh):qh},Xh.paddingRight=function(t){return arguments.length?(Rh="function"==typeof t?t:Es(+t),Xh):Rh},Xh.paddingBottom=function(t){return arguments.length?(Yh="function"==typeof t?t:Es(+t),Xh):Yh},Xh.paddingLeft=function(t){return arguments.length?(Ih="function"==typeof t?t:Es(+t),Xh):Ih},Xh);function Xh(t){return t.x0=t.y0=0,t.x1=Uh,t.y1=Hh,t.eachBefore($h),Bh=[0],Dh&&t.eachBefore(Os),t}function $h(t){var e=Bh[t.depth],n=t.x0+e,r=t.y0+e,a=t.x1-e,i=t.y1-e;a<n&&(n=a=(n+a)/2),i<r&&(r=i=(r+i)/2),t.x0=n,t.y0=r,t.x1=a,t.y1=i,t.children&&(e=Bh[t.depth+1]=jh(t)/2,n+=Ih(t)-e,r+=qh(t)-e,(a-=Rh(t)-e)<n&&(n=a=(n+a)/2),(i-=Yh(t)-e)<r&&(r=i=(r+i)/2),Oh(t,n,r,a,i))}function Zh(t,e){t.children&&(!function e(t,n,r){t.children.forEach(function(t){t.display.x0=n(t.display.x0),t.display.x1=n(t.display.x1),t.display.y0=r(t.display.y0),t.display.y1=r(t.display.y1),t.display.x1<t.display.x0&&(t.display.x1=t.display.x0),t.display.y1<t.display.y0&&(t.display.y1=t.display.y0),t.children&&e(t,n,r)})}(t,wc().domain([t.display.x0,t.display.x1]).range([t.display.x0+e,t.display.x1-e]),wc().domain([t.display.y0,t.display.y1]).range([t.display.y0+e,t.display.y1-e])),t.children.forEach(function(t){Zh(t,e)}))}function Gh(t,e,n){var r=[Math.max(e-2,0),Math.max(n-2,0)],a=yh(),i=Math.min(r[0],r[1]);a=Math.min(a,.5*i);var o=Wh[Bo.treemap_type];"treemapResquarify"==Bo.treemap_type&&(o=o.ratio(Bo.treemap_ratio)),Vh.size(r).tile(o),Vh(t);var l=wc(),s=wc();l.domain([0,r[0]]).range([0,r[0]]),s.domain([0,r[1]]).range([0,r[1]]);var c=xh();if("root"!==c.id){if(!c)return K_("zoomOut");l.domain([c.x0,c.x1]),s.domain([c.y0,c.y1])}else l.domain([a,r[0]-a]),s.domain([a,r[1]-a]);!function e(t,n,r){t.display.x0=n(t.x0),t.display.x1=n(t.x1),t.display.y0=r(t.y0),t.display.y1=r(t.y1),void 0!==t.children&&t.children.forEach(function(t){e(t,n,r)})}(t,l,s),Zh(c||t,a),function e(t){if(t.display.top_label="",!1===t.display.visible_leaf&&0!==t.depth){var n=yh(),r=t.display.x1-t.display.x0-2*n,a=t.data.key,i="'"+Bo.layout.body_font.name+"'";if(Bo.zoomed_node_id&&Bo.zoomed_node_id===t.id){var o=ec(t);a=o?o.join(" | "):""}bh(!1)&&(a=a.toUpperCase()),t.display.top_label=mh(a,r,"10px "+i),t.display.top_label_font_size=11;var l=.5*(n-16);t.display.top_label_x=4+l,t.display.top_label_y=12+l}t.display.top_label_weight=gh(!1),t.children&&t.children.forEach(function(t){e(t)})}(t),function e(t){var n=t.display.x1-t.display.x0,r=t.display.y1-t.display.y0,a=ch(Bo.min_label_size),i=ch(Bo.max_label_size),o=t.data.key,l="'"+Bo.layout.body_font.name+"'";if(t.display.multi_line_label=!1,t.display.multi_line_center_label_lines=[],t.display.visible&&t.display.visible_leaf)if(bh(!0)&&(o=o.toUpperCase()),Bo.multi_line_labels){t.display.multi_line_label=!0;var s=zh(o,n,r,ch(Bo.label_padding),a,i,!0,l);t.display.multi_line_center_label_font_size=s.size,t.display.multi_line_center_label_lines=s.lines,t.display.multi_line_center_label_v_offset=s.lines.length*s.size*-.5}else{var c=wh(o,n,r,ch(Bo.label_padding),l);(c=Math.min(ch(Bo.max_label_size),c))<a&&(o=mh(o,n,a+"px "+l)),t.display.center_label_text=o,t.display.center_label_font_size=c}t.display.center_label_x=.5*n,t.display.center_label_y=.5*r,t.display.center_label_weight=gh(!0),t.children&&t.children.forEach(function(t){e(t)})}(t)}var Jh=null;function Qh(t){Jh=t}function Kh(){Bl.selectAll("g").select("rect").style("opacity",function(t){if(!1===t.display.visible)return 0;var e=_h(t),n=e||1==t.depth?1:.2,r=1==t.depth||e?.8:2;return n*(t.id===Jh?r:1)})}function tp(t,e,n){var r=!1===t?0:1e3*Bo.animation_duration;if(Bl.transition().duration(r).style("opacity","treemap"===Bo.hierarchy_layout?1:0).on("end",function(){"treemap"!==Bo.hierarchy_layout&&Bl.selectAll("g").remove()}),"treemap"===Bo.hierarchy_layout){Gh(jo.root,e,n);var a=Bl.selectAll("g").data(jo.root.descendants(),function(t){return t.id}),i=a.enter().append("g").classed("node",!0).attr("transform",function(t){return"translate("+[t.display.x0,t.display.y0]+")"});i.append("rect").attr("width",function(t){return t.display.x1-t.display.x0}).attr("height",function(t){return t.display.y1-t.display.y0}).style("stroke-width",1),i.append("text").classed("text-center",!0).attr("x",function(t){return t.display.center_label_x}).attr("y",function(t){return t.display.center_label_y}).style("pointer-events","none").style("font-size","0px").style("font-weight","normal").style("text-anchor","middle"),i.append("text").classed("text-center-multiline",!0).attr("transform",function(t){return"translate("+t.display.center_label_x+","+t.display.center_label_y+")"}).style("pointer-events","none").style("font-weight","normal").style("text-anchor","middle"),i.append("text").classed("text-top",!0).style("pointer-events","none").style("font-size","11px"),i.merge(a).transition().duration(r).attr("transform",function(t){return"translate("+[t.display.x0,t.display.y0]+")"}),i.each(Ph),i.merge(a).style("pointer-events",function(t){return t.display.visible?"all":"none"}).select("rect").each(function(t){(function(t,e){q(this).style("fill",hh).style("stroke",Bo.stroke_color||Bo.layout.background_color).style("display",t.display.visible?"inline":"none").style("cursor",t.children&&Bo.zoomed_node_id!==t.id?"pointer":"default").transition().duration(e).attr("width",t.display.x1-t.display.x0).attr("height",t.display.y1-t.display.y0)}).call(this,t,r)}),i.merge(a).select("text.text-center").style("fill",Bo.label_color).each(function(t){(function(t,e){t.display.visible&&!0===t.display.visible_leaf&&q(this).attr("dy","0.33em").text(t.display.center_label_text).style("font-weight",t.display.center_label_weight).transition("font-size").duration(e).style("font-size",t.display.center_label_font_size+"px"),q(this).transition().duration(e).style("opacity",!0!==t.display.visible||!0!==t.display.visible_leaf||t.display.multi_line_label?0:1).attr("x",t.display.center_label_x).attr("y",t.display.center_label_y)}).call(this,t,r)}),i.merge(a).select("text.text-center-multiline").style("fill",Bo.label_color).each(function(t){(function(n,e){var r=n.display.multi_line_center_label_lines,a=n.display.multi_line_center_label_font_size;q(this).transition("label-center").duration(e).attr("transform","translate("+n.display.center_label_x+","+n.display.center_label_y+")"),JSON.stringify(this.__current_multi_lines)!==JSON.stringify(r)?q(this).transition("center-label").duration(.5*e).style("opacity",0).on("end",function(){q(this).transition("center-label").duration(.5*e).style("opacity",!0===n.display.visible&&!0===n.display.visible_leaf&&n.display.multi_line_label?1:0);var t=q(this).selectAll("tspan").data(r);t.enter().append("tspan").merge(t).text(function(t){return t}).transition("center-label").duration(0).style("font-size",a+"px").style("font-weight",n.display.center_label_weight).attr("x",0).attr("y",function(t,e){return n.display.multi_line_center_label_v_offset+(e+.8)*a}),t.exit().remove(),this.__current_multi_lines=r}):q(this).transition("center-label").duration(e).style("opacity",!0===n.display.visible&&!0===n.display.visible_leaf&&n.display.multi_line_label?1:0).selectAll("tspan").style("font-weight",n.display.center_label_weight).style("font-size",a+"px").attr("y",function(t,e){return n.display.multi_line_center_label_v_offset+(e+.8)*a})}).call(this,t,r)}),i.merge(a).select("text.text-top").each(function(t){(function(t){0!==t.depth&&(q(this).style("display",!0===t.display.visible&&!1===t.display.visible_leaf?"inline":"none").style("fill",Bo.label_color).style("font-weight",t.display.top_label_weight),!1===t.display.visible_leaf&&q(this).attr("x",t.display.top_label_x).attr("y",t.display.top_label_y).style("font-size",t.display.top_label_font_size+"px").text(t.display.top_label))}).call(this,t,r)}),a.exit().remove(),Kh()}}function ep(){q(this).on("mouseover",Lh).on("mouseout",Nh).on("click",function(t){if(t.display.visible&&!q_){if(N.stopPropagation(),0===t.height){var e=xh(),n=t.path(e);if(!(2<n.length))return;K_("zoomToNode",n[n.length-2])}K_("zoomToNode",t)}})}var np,rp,ap,ip,op=(np=null,ap=rp=1,ip=Ss,lp.radius=function(t){return arguments.length?(np=function(t){return null==t?null:Ts(t)}(t),lp):np},lp.size=function(t){return arguments.length?(rp=+t[0],ap=+t[1],lp):[rp,ap]},lp.padding=function(t){return arguments.length?(ip="function"==typeof t?t:Es(+t),lp):ip},lp);function lp(t){return t.x=rp/2,t.y=ap/2,np?t.eachBefore(Ns(np)).eachAfter(Fs(ip,.5)).eachBefore(Ps(1)):t.eachBefore(Ns(Ls)).eachAfter(Fs(Ss,1)).eachAfter(Fs(ip,t.r/Math.min(rp,ap))).eachBefore(Ps(Math.min(rp,ap)/(2*t.r))),t}function sp(t,e,n){var r=e-2*Vl.x,a=n-2*Vl.y;r=Math.max(0,r),a=Math.max(0,a);var i=Math.min(4,Math.min(r,a));op.size([r,a]).padding(i),op(t),"root"===t.id&&0===t.height&&(t.r=0);var o=wc(),l=wc(),s=wc();o.domain([0,r]).range([0,r]),l.domain([0,a]).range([0,a]);var c=xh();if("root"!==c.id){if(!c)return K_("zoomOut");var u,f;a<r?(u=(f=2*c.r)*(r/a),s.range([0,a/f])):(f=(u=2*c.r)*(a/r),s.range([0,r/u]));var d=c.x-.5*u,h=c.x+.5*u,p=c.y-.5*f,_=c.y+.5*f;o.domain([d,h]),l.domain([p,_])}!function e(t,n,r,a){t.display.x=n(t.x),t.display.y=r(t.y),t.display.r=a(t.r),void 0!==t.children&&t.children.forEach(function(t){e(t,n,r,a)})}(t,o,l,s),function e(t){var n,r=Math.max(t.display.r-10,0);if(t.children)if(t.display.visible_leaf||!t.display.visible)n=!1;else if(t.display.r<30)n=!1;else if(1===t.children.length)(n=10<t.display.r-t.children[0].display.r)&&(r=.5*(t.display.r+t.children[0].display.r)-3),t.children[0].display.visible_leaf&&(n=!0);else{var a=Un(t.children.map(function(t){return t.display.r}));t.display.max_child_r=a,n=10<t.display.r-a}else n=!1;t.display.enough_space_for_top_label=n,t.display.top_label_path_r=r,t.children&&t.children.forEach(function(t){e(t)})}(t),function e(t){var n;if(t.display.top_label_visible=t.display.visible,0===t.depth)n="";else if(0===t.height)n="";else if(t.display.visible_leaf)n="";else if(t.display.visible)if(Bo.zoomed_node_id&&t.depth<xh().depth)n="";else if(t.display.enough_space_for_top_label)if(Bo.zoomed_node_id===t.id)n=ec(t).join(" > ");else{var r=function(t){for(var e=t.ancestors().slice(1,-1),n=[],r=0;r<e.length;r++){var a=e[r];if(a.display.enough_space_for_top_label)break;n.push(a)}return n}(t);r.reverse(),n=0<r.length?r.map(function(t){return t.data.key}).join(" > ")+" > "+t.data.key:t.data.key}else n="";else n="";var a=mh(n,Math.PI*t.display.r);bh(!1)&&(a=a.toUpperCase()),""===(t.display.top_label_text=a)&&(t.display.top_label_visible=!1),t.display.top_label_weight=gh(!1),t.children&&t.children.forEach(function(t){e(t)})}(t),function e(t){var n=t.display.r,r=2.2*Math.sqrt(n*n/2),a="'"+Bo.layout.body_font.name+"'",i=ch(Bo.min_label_size),o=ch(Bo.max_label_size),l=t.data.key;if(t.display.multi_line_label=!1,t.display.multi_line_center_label_lines=[],t.display.visible&&t.display.visible_leaf)if(bh(!0)&&(l=l.toUpperCase()),Bo.multi_line_labels){t.display.multi_line_label=!0;var s=zh(l,r,r,ch(Bo.label_padding),i,o,!0,a);t.display.multi_line_center_label_font_size=s.size,t.display.multi_line_center_label_lines=s.lines,t.display.multi_line_center_label_v_offset=-.5*s.lines.length*s.size}else{var c=wh(l,2*n,2*n,ch(Bo.label_padding),a);(c=Math.min(ch(Bo.max_label_size),c))<i&&(l=mh(l,2*n,i+"px "+a)),t.display.center_label_text=l,t.display.center_label_font_size=c}t.display.center_label_weight=gh(!0),t.children&&t.children.forEach(function(t){e(t)})}(t)}var cp=wc().domain([30,60]).range([-.1,0]).clamp(!0);function up(){jl.selectAll("g").select("circle").style("opacity",function(t){if(!1===t.display.visible)return 0;var e=_h(t),n=e||1==t.depth?1:.2,r=1==t.depth||e?.8:2;return n*(t.id===Jh?r:1)})}function fp(t,e,n){var r=!1===t?0:1e3*Bo.animation_duration;if(jl.transition().duration(r).style("opacity","circlePacking"===Bo.hierarchy_layout?1:0).on("end",function(){"circlePacking"!==Bo.hierarchy_layout&&jl.selectAll("g").remove()}),"circlePacking"===Bo.hierarchy_layout){sp(jo.root,e,n);var a=jl.selectAll("g").data(jo.root.descendants(),function(t){return t.id}),i=a.enter().append("g").attr("transform",function(t){return"translate("+[t.display.x,t.display.y]+")"}).classed("node",!0);i.append("circle"),i.append("text").classed("text-center",!0).style("font-weight","normal").style("text-anchor","middle").style("font-size","0px").style("pointer-events","none"),i.append("text").classed("text-center-multiline",!0).style("pointer-events","none").style("font-weight","normal").style("text-anchor","middle"),i.append("path").classed("label-path",!0).attr("id",function(t){return"pack-label-path-"+t.id}).attr("d",function(t){var e=t.display.r-10;return"M-0.5,".concat(e," A").concat(e,",").concat(e," 0 1,1 0.5,").concat(e)}).style("fill","none"),i.append("text").classed("text-top",!0).append("textPath").attr("href",function(t){return"#pack-label-path-"+t.id}).attr("startOffset","50%").style("text-anchor","middle").style("pointer-events","none").style("font-weight","bold").style("font-size","11px"),i.merge(a).transition().duration(r).attr("transform",function(t){return"translate("+[t.display.x,t.display.y]+")"}),i.each(ep),i.merge(a).select("circle").each(function(t){(function(t,e){q(this).style("fill",hh).style("display",t.display.visible?"inline":"none").style("cursor",t.children&&Bo.zoomed_node_id!==t.id?"pointer":"default").transition().duration(e).attr("r",t.display.r)}).call(this,t,r)}),i.merge(a).select("text.text-center").each(function(t){(function(t,e){t.display.visible&&!0===t.display.visible_leaf&&q(this).attr("dy","0.33em").text(t.display.center_label_text).style("fill",Bo.label_color).style("font-weight",t.display.center_label_weight).transition("font-size").duration(e).style("font-size",t.display.center_label_font_size+"px"),q(this).transition().duration(e).style("opacity",!0===t.display.visible&&!0===t.display.visible_leaf?1:0)}).call(this,t,r)}),i.merge(a).select("text.text-center-multiline").style("fill",Bo.label_color).each(function(t){(function(n,e){var r=n.display.multi_line_center_label_lines,a=n.display.multi_line_center_label_font_size;JSON.stringify(this.__current_multi_lines)!==JSON.stringify(r)?q(this).transition("center-label").duration(.5*e).style("opacity",0).on("end",function(){q(this).transition("center-label").duration(.5*e).style("opacity",!0===n.display.visible&&!0===n.display.visible_leaf&&n.display.multi_line_label?1:0);var t=q(this).selectAll("tspan").data(r);t.enter().append("tspan").merge(t).text(function(t){return t}).transition("center-label").duration(0).style("font-size",a+"px").style("font-weight",n.display.center_label_weight).attr("x",0).attr("y",function(t,e){return n.display.multi_line_center_label_v_offset+(e+.8)*a}),t.exit().remove(),this.__current_multi_lines=r}):q(this).transition("center-label").duration(e).style("opacity",!0===n.display.visible&&!0===n.display.visible_leaf&&n.display.multi_line_label?1:0).selectAll("tspan").style("font-weight",n.display.center_label_weight).style("font-size",a+"px").attr("y",function(t,e){return n.display.multi_line_center_label_v_offset+(e+.8)*a})}).call(this,t,r)}),i.merge(a).select("path.label-path").each(function(t){(function(t,e){if(0!==t.depth){var n=t.display.top_label_path_r;q(this).transition().duration(e).attr("d","M-0.5,".concat(n," A").concat(n,",").concat(n," 0 1,1 0.5,").concat(n))}}).call(this,t,r)}),i.merge(a).select("text.text-top").each(function(t){(function(t){0!==t.depth&&(q(this).style("display",t.display.top_label_visible?"inline":"none"),!1===t.display.visible_leaf&&q(this).select("textPath").style("fill",Bo.label_color).style("font-weight",function(t){return t.display.top_label_weight}).style("letter-spacing",function(t){return cp(t.display.r)+"em"}).text(t.display.top_label_text))}).call(this,t,r)}),a.exit().remove(),up()}}function dp(){q(this).on("mouseover",Lh).on("mouseout",Nh).on("click",Fh)}var hp,pp,_p,yp,bp=(_p=0,yp=!(pp=hp=1),gp.round=function(t){return arguments.length?(yp=!!t,gp):yp},gp.size=function(t){return arguments.length?(hp=+t[0],pp=+t[1],gp):[hp,pp]},gp.padding=function(t){return arguments.length?(_p=+t,gp):_p},gp);function gp(t){var e=t.height+1;return t.x0=t.y0=_p,t.x1=hp,t.y1=pp/e,t.eachBefore(function(i,o){return function(t){t.children&&Ds(t,t.x0,i*(t.depth+1)/o,t.x1,i*(t.depth+2)/o);var e=t.x0,n=t.y0,r=t.x1-_p,a=t.y1-_p;r<e&&(e=r=(e+r)/2),a<n&&(n=a=(n+a)/2),t.x0=e,t.y0=n,t.x1=r,t.y1=a}}(pp,e)),yp&&t.eachBefore(Os),t}function mp(t,e,n){var r=.5*Math.min(e-2*Xl.x,n-2*Xl.y),a=vh();bp.size([2*Math.PI,a]),bp(t);var i=Bo.sunburst_show_zoomed_node_in_center?0:r*Bo.sunburst_inner_radius/100,o=wc().range([i,r*Bo.sunburst_outer_radius/100]).clamp(!0),l=wc().range([0,2*Math.PI]).clamp(!0),s=Bo.zoomed_node_id?tc(t,Bo.zoomed_node_id):t,c=s.depth,u=Bo.sunburst_show_zoomed_node_in_center?c:Math.max(c,1),f=Math.min(c+Bo.num_of_visible_levels+1,a);if(0<c&&!s)return K_("zoomOut");o.domain([u,f]),l.domain([s.x0,s.x1]),function e(t,n,r){t.display=t.display||{},t.display.a0=r(t.x0),t.display.a1=r(t.x1),t.display.r0=n(t.y0),t.display.r1=n(t.y1),t.display.rMid=.5*(t.display.r0+t.display.r1),void 0!==t.children&&t.children.forEach(function(t){e(t,n,r)})}(t,o,l),function e(t,n){t.display=t.display||{},t.display.visible=!0,t.display.isTopVisibleLevel=t.depth===n,t.display.opacity=Math.pow(Bo.sunburst_depth_fade,t.depth-1),void 0!==t.children&&t.children.forEach(function(t){e(t,n)})}(t,c),function e(t,n){n&&n.id===t.id?t.display.cursorType="default":0===t.height?t.display.cursorType="default":t.display.cursorType="pointer",void 0!==t.children&&t.children.forEach(function(t){e(t,n)})}(t,s),function e(t){var n=t.display.r1-t.display.r0;n*=.9,n=Math.max(n,0);var r=.5*(t.display.r0+t.display.r1)*(t.display.a1-t.display.a0);r*=.9,r=Math.max(r,0);var a=0===t.display.r0&&0===t.display.a0&&t.display.a1===2*Math.PI,i="radial"===Bo.sunburst_labelling||"circular"!==Bo.sunburst_labelling&&r<n,o=a?"center":i?"radial":"circular",l="'"+Bo.layout.body_font.name+"'",s=ch(Bo.min_label_size),c=ch(Bo.max_label_size);t.display.radialLabel="",t.display.circularLabel="",t.display.centerLabel="";var u=t.data.key;t.display.radialLabelOpacity=0,t.display.circularLabelOpacity=0,t.display.centerLabelOpacity=0;var f=t.display.fontSize=0,d=t.display.isTopVisibleLevel;if(0<t.depth)switch(bh(!d)&&(u=u.toUpperCase()),o){case"radial":t.display.radialLabel=u,t.display.radialLabelOpacity=1,f=wh(u,n,r,4,l,Bo.sunburst_bold_labels);break;case"circular":t.display.circularLabel=u,t.display.circularLabelOpacity=1,f=wh(u,r,n,4,l,Bo.sunburst_bold_labels);break;case"center":t.display.centerLabel=u,t.display.centerLabelOpacity=1,f=wh(u,2*n,.5*n,ch(Bo.label_padding),l,Bo.sunburst_bold_labels)}(f=Math.min(c,f))<s&&(t.display.circularLabel="",t.display.radialLabel="",t.display.centerLabel=""),t.display.fontSize=f,t.display.fontWeight=gh(!d),void 0!==t.children&&t.children.forEach(function(t){e(t)})}(t)}var vp=Math.PI,xp=2*vp,wp=1e-6,Mp=xp-wp;function kp(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function zp(){return new kp}function Cp(t){return function(){return t}}kp.prototype=zp.prototype={constructor:kp,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,a,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(t,e,n,r,a){t=+t,e=+e,n=+n,r=+r,a=+a;var i=this._x1,o=this._y1,l=n-t,s=r-e,c=i-t,u=o-e,f=c*c+u*u;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(wp<f)if(Math.abs(u*l-s*c)>wp&&a){var d=n-i,h=r-o,p=l*l+s*s,_=d*d+h*h,y=Math.sqrt(p),b=Math.sqrt(f),g=a*Math.tan((vp-Math.acos((p+f-_)/(2*y*b)))/2),m=g/b,v=g/y;Math.abs(m-1)>wp&&(this._+="L"+(t+m*c)+","+(e+m*u)),this._+="A"+a+","+a+",0,0,"+ +(c*h<u*d)+","+(this._x1=t+v*l)+","+(this._y1=e+v*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,a,i){t=+t,e=+e,i=!!i;var o=(n=+n)*Math.cos(r),l=n*Math.sin(r),s=t+o,c=e+l,u=1^i,f=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>wp||Math.abs(this._y1-c)>wp)&&(this._+="L"+s+","+c),n&&(f<0&&(f=f%xp+xp),Mp<f?this._+="A"+n+","+n+",0,1,"+u+","+(t-o)+","+(e-l)+"A"+n+","+n+",0,1,"+u+","+(this._x1=s)+","+(this._y1=c):wp<f&&(this._+="A"+n+","+n+",0,"+ +(vp<=f)+","+u+","+(this._x1=t+n*Math.cos(a))+","+(this._y1=e+n*Math.sin(a))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Ap=Math.abs,Tp=Math.atan2,Sp=Math.cos,Ep=Math.max,Lp=Math.min,Np=Math.sin,Fp=Math.sqrt,Pp=1e-12,Op=Math.PI,Dp=Op/2,Up=2*Op;function Hp(t){return 1<=t?Dp:t<=-1?-Dp:Math.asin(t)}function Bp(t){return t.innerRadius}function jp(t){return t.outerRadius}function qp(t){return t.startAngle}function Rp(t){return t.endAngle}function Yp(t){return t&&t.padAngle}function Ip(t,e,n,r,a,i,o){var l=t-n,s=e-r,c=(o?i:-i)/Fp(l*l+s*s),u=c*s,f=-c*l,d=t+u,h=e+f,p=n+u,_=r+f,y=(d+p)/2,b=(h+_)/2,g=p-d,m=_-h,v=g*g+m*m,x=a-i,w=d*_-p*h,M=(m<0?-1:1)*Fp(Ep(0,x*x*v-w*w)),k=(w*m-g*M)/v,z=(-w*g-m*M)/v,C=(w*m+g*M)/v,A=(-w*g+m*M)/v,T=k-y,S=z-b,E=C-y,L=A-b;return E*E+L*L<T*T+S*S&&(k=C,z=A),{cx:k,cy:z,x01:-u,y01:-f,x11:k*(a/x-1),y11:z*(a/x-1)}}var Wp,Vp,Xp,$p,Zp,Gp,Jp,Qp,Kp=(Wp=Bp,Vp=jp,Xp=Cp(0),Zp=qp,Gp=Rp,Jp=Yp,Qp=$p=null,t_.centroid=function(){var t=(+Wp.apply(this,arguments)+ +Vp.apply(this,arguments))/2,e=(+Zp.apply(this,arguments)+ +Gp.apply(this,arguments))/2-Op/2;return[Sp(e)*t,Np(e)*t]},t_.innerRadius=function(t){return arguments.length?(Wp="function"==typeof t?t:Cp(+t),t_):Wp},t_.outerRadius=function(t){return arguments.length?(Vp="function"==typeof t?t:Cp(+t),t_):Vp},t_.cornerRadius=function(t){return arguments.length?(Xp="function"==typeof t?t:Cp(+t),t_):Xp},t_.padRadius=function(t){return arguments.length?($p=null==t?null:"function"==typeof t?t:Cp(+t),t_):$p},t_.startAngle=function(t){return arguments.length?(Zp="function"==typeof t?t:Cp(+t),t_):Zp},t_.endAngle=function(t){return arguments.length?(Gp="function"==typeof t?t:Cp(+t),t_):Gp},t_.padAngle=function(t){return arguments.length?(Jp="function"==typeof t?t:Cp(+t),t_):Jp},t_.context=function(t){return arguments.length?(Qp=null==t?null:t,t_):Qp},t_);function t_(){var t,e,n=+Wp.apply(this,arguments),r=+Vp.apply(this,arguments),a=Zp.apply(this,arguments)-Dp,i=Gp.apply(this,arguments)-Dp,o=Ap(i-a),l=a<i;if(Qp=Qp||(t=zp()),r<n&&(e=r,r=n,n=e),Pp<r)if(Up-Pp<o)Qp.moveTo(r*Sp(a),r*Np(a)),Qp.arc(0,0,r,a,i,!l),Pp<n&&(Qp.moveTo(n*Sp(i),n*Np(i)),Qp.arc(0,0,n,i,a,l));else{var s,c,u=a,f=i,d=a,h=i,p=o,_=o,y=Jp.apply(this,arguments)/2,b=Pp<y&&($p?+$p.apply(this,arguments):Fp(n*n+r*r)),g=Lp(Ap(r-n)/2,+Xp.apply(this,arguments)),m=g,v=g;if(Pp<b){var x=Hp(b/n*Np(y)),w=Hp(b/r*Np(y));(p-=2*x)>Pp?(d+=x*=l?1:-1,h-=x):(p=0,d=h=(a+i)/2),(_-=2*w)>Pp?(u+=w*=l?1:-1,f-=w):(_=0,u=f=(a+i)/2)}var M=r*Sp(u),k=r*Np(u),z=n*Sp(h),C=n*Np(h);if(Pp<g){var A,T=r*Sp(f),S=r*Np(f),E=n*Sp(d),L=n*Np(d);if(o<Op&&(A=function(t,e,n,r,a,i,o,l){var s=n-t,c=r-e,u=o-a,f=l-i,d=f*s-u*c;if(!(d*d<Pp))return[t+(d=(u*(e-i)-f*(t-a))/d)*s,e+d*c]}(M,k,E,L,T,S,z,C))){var N=M-A[0],F=k-A[1],P=T-A[0],O=S-A[1],D=1/Np(function(t){return 1<t?0:t<-1?Op:Math.acos(t)}((N*P+F*O)/(Fp(N*N+F*F)*Fp(P*P+O*O)))/2),U=Fp(A[0]*A[0]+A[1]*A[1]);m=Lp(g,(n-U)/(D-1)),v=Lp(g,(r-U)/(1+D))}}Pp<_?Pp<v?(s=Ip(E,L,M,k,r,v,l),c=Ip(T,S,z,C,r,v,l),Qp.moveTo(s.cx+s.x01,s.cy+s.y01),v<g?Qp.arc(s.cx,s.cy,v,Tp(s.y01,s.x01),Tp(c.y01,c.x01),!l):(Qp.arc(s.cx,s.cy,v,Tp(s.y01,s.x01),Tp(s.y11,s.x11),!l),Qp.arc(0,0,r,Tp(s.cy+s.y11,s.cx+s.x11),Tp(c.cy+c.y11,c.cx+c.x11),!l),Qp.arc(c.cx,c.cy,v,Tp(c.y11,c.x11),Tp(c.y01,c.x01),!l))):(Qp.moveTo(M,k),Qp.arc(0,0,r,u,f,!l)):Qp.moveTo(M,k),Pp<n&&Pp<p?Pp<m?(s=Ip(z,C,T,S,n,-m,l),c=Ip(M,k,E,L,n,-m,l),Qp.lineTo(s.cx+s.x01,s.cy+s.y01),m<g?Qp.arc(s.cx,s.cy,m,Tp(s.y01,s.x01),Tp(c.y01,c.x01),!l):(Qp.arc(s.cx,s.cy,m,Tp(s.y01,s.x01),Tp(s.y11,s.x11),!l),Qp.arc(0,0,n,Tp(s.cy+s.y11,s.cx+s.x11),Tp(c.cy+c.y11,c.cx+c.x11),l),Qp.arc(c.cx,c.cy,m,Tp(c.y11,c.x11),Tp(c.y01,c.x01),!l))):Qp.arc(0,0,n,h,d,l):Qp.lineTo(z,C)}else Qp.moveTo(0,0);if(Qp.closePath(),t)return Qp=null,t+""||null}function e_(){ql.selectAll("g").select("path").style("opacity",function(t){if(!1===t.display.visible)return 0;return(_h(t)||1==t.depth?1:t.display.opacity)*(t.id===Jh?.8:1)})}function n_(t,e,n){var r=!1===t?0:1e3*Bo.animation_duration;if(ql.transition().duration(r).style("opacity","sunburst"===Bo.hierarchy_layout?1:0).on("end",function(){"sunburst"!==Bo.hierarchy_layout&&ql.selectAll("g").remove()}),"sunburst"===Bo.hierarchy_layout){mp(jo.root,e,n),ql.attr("transform","translate(".concat(.5*e,", ").concat(.5*n,")"));var a=ql.selectAll("g").data(jo.root.descendants(),function(t){return t.id}),i=a.enter().append("g").classed("node",!0);i.append("path").classed("segment",!0),i.append("text").classed("radial-label",!0).style("text-anchor","middle").attr("dy","0.33em").style("pointer-events","none"),i.append("path").classed("label-path",!0).style("fill","none").attr("id",function(t){return"sunburst-label-path-"+t.id}),i.append("text").classed("circular-label",!0).attr("dy","0.33em").append("textPath").attr("xlink:xlink:href",function(t){return"#sunburst-label-path-"+t.id}).attr("startOffset","50%").style("text-anchor","middle").style("pointer-events","none"),i.append("text").classed("center-label",!0).style("text-anchor","middle").attr("dy","0.33em").style("pointer-events","none"),i.each(dp),i.merge(a).each(function(t){(function(t,e){0!==t.depth&&(q(this).style("cursor",t.display.cursorType).select("path").style("fill",ph).style("stroke",Bo.stroke_color||Bo.layout.background_color).style("stroke-width","0.5").style("display",t.display.visible?"inline":"none"),q(this).select("text.radial-label").style("font-weight",t.display.fontWeight).text(t.display.radialLabel),q(this).attr("dy","0.33em").select("text.circular-label textPath").style("font-weight",t.display.fontWeight).text(t.display.circularLabel),q(this).select("text.center-label").style("font-weight",t.display.fontWeight).text(t.display.centerLabel),q(this).transition().duration(e).tween("sunburst",function(t){var p=this,_=q(p).select("path.segment"),y=q(p).select("text.radial-label"),b=q(p).select("text.circular-label"),g=q(p).select("path.label-path"),m=q(p).select("text.center-label");p.__curTweenState=p.__curTweenState||{a0:t.display.a0,a1:t.display.a1,r0:t.display.r0,r1:t.display.r1,radialLabelOpacity:t.display.radialLabelOpacity,circularLabelOpacity:t.display.circularLabelOpacity,centerLabelOpacity:t.display.centerLabelOpacity,fontSize:t.display.fontSize};var e=p.__curTweenState,v=ea(e.a0,t.display.a0),x=ea(e.a1,t.display.a1),w=ea(e.r0,t.display.r0),M=ea(e.r1,t.display.r1),k=ea(e.radialLabelOpacity,t.display.radialLabelOpacity),z=ea(e.circularLabelOpacity,t.display.circularLabelOpacity),C=ea(e.centerLabelOpacity,t.display.centerLabelOpacity),A=ea(e.fontSize,t.display.fontSize);return function(t){p.__curTweenState.a0=v(t),p.__curTweenState.a1=x(t),p.__curTweenState.r0=w(t),p.__curTweenState.r1=M(t),p.__curTweenState.radialLabelOpacity=k(t),p.__curTweenState.circularLabelOpacity=z(t),p.__curTweenState.centerLabelOpacity=C(t),p.__curTweenState.fontSize=A(t);var e=v(t),n=x(t),r=w(t),a=M(t);_.attr("d",Kp({startAngle:e,endAngle:n,innerRadius:r,outerRadius:a})).style("stroke-width",n-e==0?0:.5);var i=uh(.5*(v(t)+x(t)))-90,o=.5*(r+a);y.style("opacity",k(t)).style("font-size",Math.floor(A(t))+"px").attr("transform",90<i?"rotate(".concat(i-180,")translate(").concat(-o,", 0)"):"rotate(".concat(i,")translate(").concat(o,", 0)")),b.style("font-size",Math.floor(A(t))+"px").style("opacity",z(t)),m.style("opacity",C(t)).style("font-size",Math.floor(A(t))+"px");var l=o*Math.sin(v(t))+1e-4,s=-o*Math.cos(v(t)),c=o*Math.sin(x(t))-1e-4,u=-o*Math.cos(x(t)),f=x(t)-v(t)>=Math.PI?1:0,d=.5*(v(t)+x(t)),h=d>.5*Math.PI&&d<1.5*Math.PI?"M".concat(c,",").concat(u," A").concat(o,",").concat(o," 0 ").concat(f,",0 ").concat(l,",").concat(s):"M".concat(l,",").concat(s," A").concat(o,",").concat(o," 0 ").concat(f,",1 ").concat(c,",").concat(u);g.attr("d",h)}}).on("end",function(){q(this).select("text.radial-label").text(function(t){return t.display.radialLabel}),q(this).select("text.circular-label textPath").text(function(t){return t.display.circularLabel}),q(this).select("text.center-label").text(function(t){return t.display.centerLabel})}))}).call(this,t,r)}),i.merge(a).select(".radial-label").style("fill",Bo.label_color),i.merge(a).select(".circular-label").style("fill",Bo.label_color),i.merge(a).select(".center-label").style("fill",Bo.label_color),a.exit().remove(),e_()}}function r_(){q(this).select("rect").on("mouseover",Lh).on("mouseout",Nh).on("click",Fh),q(this).select(".axis-label").on("click",function(t){q_||(N.stopPropagation(),K_("zoomToNode",t))})}var a_=Object.freeze({transform_labels:!1,transform:"multiply",multiply_divide_constant:1,exponentiate_constant:0,multiplier:1,prefix:"",n_dec:2,suffix:"",strip_zeros:!0,strip_separator:!0,negative_sign:"-$nk"});function i_(o,t){var l=0<=o.n_dec?Math.floor(o.n_dec):Math.ceil(o.n_dec),s=t(",."+(0<l?l:"0")+"f"),e=t.decimal,c=t.thousands,u=o.strip_zeros&&0<l?new RegExp("\\"+e+"?0+$"):null,f=o.strip_separator&&c,d=o.negative_sign,h=function(t){var e=1;return t.transform_labels&&(e="multiply"===t.transform?t.multiply_divide_constant:"divide"===t.transform?1/t.multiply_divide_constant:Math.pow(10,t.exponentiate_constant)),function(t){return t*e}}(o);return function(t){var e=0<=l?h(t):function(t,e){if(!(e=0<e?Math.floor(e):Math.ceil(e)))return Math.round(t);var n=Math.pow(10,Math.abs(e));return 0<e?Math.round(t*n)/n:Math.round(t/n)*n}(h(t),l),n=e<0,r=Math.abs(e),a=f&&c&&1e3<=r&&r<1e4,i=s(r);return u&&(i=i.replace(u,"")),a&&(i=i.replace(c,"")),n&&"none"!==d?"-$nk"===d?"-"+o.prefix+i+o.suffix:"$-nk"===d?o.prefix+"-"+i+o.suffix:"($nk)"===d?"("+o.prefix+i+o.suffix+")":o.prefix+"("+i+")"+o.suffix:o.prefix+i+o.suffix}}var o_,l_=function(e){for(var t in a_)void 0===e[t]&&(e[t]=a_[t]);return function(t){return i_(e,t)}}(Bo.number_formatter);function s_(){return.7*Bo.bar_axis_label_space*ch(Bo.bar_axis_label_size)}function c_(t){var e="'"+Bo.layout.body_font.name+"'",n=t.data.key;n&&bh(!0)&&(n=n.toUpperCase());var r=.2*t.display.thickness;t.display.fontSize=Math.min(ch(Bo.label_size),t.display.thickness-2*r),t.display.fontWeight=gh(!0),t.display.barLabelText=mh(n,.9*t.display.l,t.display.fontSize+"px "+e),t.display.barLabelX=t.display.x+.5*t.display.l,t.display.barLabelY=t.display.y+.5*t.display.thickness,t.display.axisLabelY=Bo.bar_axis_labels_above?t.display.y:t.display.barLabelY,t.display.axisLabelDy=Bo.bar_axis_labels_above?"-0.2em":"0.33em",t.display.axisLabelDx=Bo.bar_axis_labels_above?"0em":"-0.3em",t.display.axisLabelSize=ch(Bo.bar_axis_label_size),t.display.valueLabelX=t.display.x+t.display.l+ch(.5),t.display.valueLabelY=t.display.barLabelY,o_=l_($s.getFormatterFunction()),t.display.valueLabelText=o_(t.value)}function u_(t,e,n,r){t.display=t.display||{};var a="",i=vh(),o=Math.min(i-1-e.depth,Bo.num_of_visible_levels);if(t.display.visible=nc(t,e)&&t.depth-e.depth===o,0<t.depth){a=t.data.key,bh(!1)&&(a=a.toUpperCase());var l=Bo.bar_axis_labels_above?n:s_(),s="'"+Bo.layout.body_font.name+"'";a=mh(a,l,t.display.axisLabelSize+"px "+s)}t.display.axisLabelText=a,t.display.axisLabelVisible=nc(t,e)&&e.depth===t.depth-1,t.display.axisFontWeight=gh(!1),t.display.valueLabelVisible=Bo.bar_show_value_label&&nc(t,e)&&e.depth===t.depth-1,t.display.fill=ph(t),t.children&&(function(t,e){for(var n=e.ancestors(),r=!1,a=0;a<n.length;a++)n[a].id===t.id&&(r=!0);return r}(t,e)?function(t,e,n){var r,a,i=[0,Math.max(e-5,0)],o=Un(t.children,function(t){return t.value}),l=wc().domain([0,o]).range(i);Bo.bar_max_value&&l.domain([0,Bo.bar_max_value]);var s=Ch();if(Bo.auto_set_height&&!1===Flourish.fixed_height)r=Bo.bar_min_bar_thickness;else{var c=n-$l,u=t.children.length;r=Ah(c,u)}a=r+Bo.bar_bar_padding+s,t.children.forEach(function(t,e){t.display=t.display||{},t.display.x=0,t.display.l=l(t.value),t.display.y=e*a+s,t.display.thickness=r,c_(t),t.display.barLabelVisible=!1})}(t,n,r):function(e){var n=wc().domain([0,e.value]).range([0,e.display.l]),r=e.display.x;o_=l_($s.getFormatterFunction()),e.children.forEach(function(t){t.display=t.display||{},t.display.x=r,t.display.l=n(t.value),t.display.y=e.display.y,t.display.thickness=e.display.thickness,c_(t),t.display.barLabelVisible=!0,r+=n(t.value)})}(t),t.children.forEach(function(t){u_(t,e,n,r)}))}function f_(t,e,n){var r=!1===t?0:1e3*Bo.animation_duration;if(Rl.transition().duration(r).style("opacity","bar"===Bo.hierarchy_layout?1:0).on("end",function(){"bar"!==Bo.hierarchy_layout&&Rl.select(".bars").selectAll("*").remove()}),"bar"===Bo.hierarchy_layout){var a=Bo.bar_axis_labels_above?0:s_(),i=e-a-(Bo.bar_show_value_label?ch(Bo.bar_value_label_space):0),o=xh();!function(t,e,n,r){u_(t,e,n,r)}(jo.root,o,i,n);var l=jo.root.descendants().slice(1);l.reverse();var s=Rl.select(".bars").selectAll("g.node").data(l,function(t){return t.id});Rl.select(".bars").transition().duration(r).attr("transform","translate(".concat(a,", ").concat($l,")"));var c=s.enter().append("g").classed("node",!0);c.append("rect").attr("x",function(t){return t.display.x}).attr("y",function(t){return t.display.y}).attr("width",function(t){return t.display.l}).attr("height",function(t){return t.display.thickness}).style("fill",function(t){return t.display.fill}),c.append("text").classed("bar-label",!0).attr("x",function(t){return t.display.barLabelX}).attr("y",function(t){return t.display.barLabelY}).attr("dy","0.33em").style("text-anchor","middle").style("opacity",0).style("pointer-events","none"),c.append("text").classed("axis-label",!0).attr("y",function(t){return t.display.axisLabelY}).style("opacity",0).style("text-anchor","end"),c.append("text").classed("value-label",!0).attr("x",function(t){return t.display.valueLabelX}).attr("y",function(t){return t.display.valueLabelY}).attr("dy","0.33em").style("opacity",0).style("pointer-events","none"),c.each(r_),c.merge(s).style("cursor",function(t){return t.children?"pointer":"default"}).each(function(t){(function(t,e){q(this).select("rect").transition().duration(e).attr("x",t.display.x).attr("y",t.display.y).attr("width",t.display.l).attr("height",t.display.thickness).style("fill",t.display.fill).style("opacity",t.display.visible?1:0).style("pointer-events",t.display.visible?"all":"none").style("stroke",Bo.stroke_color||Bo.layout.background_color),q(this).select("text.bar-label").transition().duration(e).attr("x",t.display.barLabelX).attr("y",t.display.barLabelY).style("font-size",t.display.fontSize+"px").style("font-weight",t.display.fontWeight).style("opacity",t.display.visible&&t.display.barLabelVisible?1:0).text(t.display.barLabelText),q(this).select("text.axis-label").transition().duration(e).attr("y",t.display.axisLabelY).attr("dx",t.display.axisLabelDx).attr("dy",t.display.axisLabelDy).style("opacity",t.display.axisLabelVisible?1:0).style("font-size",t.display.axisLabelSize+"px").style("font-weight",t.display.axisFontWeight).style("pointer-events",t.display.axisLabelVisible?"all":"none").style("fill",Bo.axis_label_color||Bo.layout.font_color).style("text-anchor",Bo.bar_axis_labels_above?"start":"end").text(t.display.axisLabelText),q(this).select("text.value-label").transition().duration(e).attr("x",t.display.valueLabelX).attr("y",t.display.valueLabelY).text(function(t){return t.display.valueLabelText}).style("font-size",t.display.fontSize+"px").style("font-weight",Bo.value_labels_bold?"bold":"normal").style("opacity",t.display.valueLabelVisible?1:0).style("fill",Bo.axis_label_color||Bo.layout.font_color)}).call(this,t,r)}),c.merge(s).select(".bar-label").style("fill",Bo.label_color),s.exit().remove(),function(t,e,n){var r=t.ancestors().slice(0,-1).reverse(),a=Bo.bar_axis_labels_above?0:s_();e.select(".breadcrumb").transition().duration(n).attr("transform","translate(".concat(a,", 30)"));var i=e.select(".breadcrumb").style("font-weight","allBold"===Bo.label_weight||"topBold"===Bo.label_weight?"bold":"normal").select("text").selectAll("tspan.item").data(r),o=i.enter().append("tspan").style("opacity",0).style("fill",Bo.axis_label_color||Bo.layout.font_color).classed("item",!0);o.append("tspan").classed("separator",!0).text(" > "),o.append("tspan").classed("label",!0).on("click",function(t){q_||(N.stopPropagation(),K_("zoomToNode",t))}),o.merge(i).transition().duration(n).style("fill",Bo.axis_label_color||Bo.layout.font_color).style("opacity",1),i.select("tspan.label").text(function(t){return"allUpperCase"===Bo.label_case||"topUpperCase"===Bo.label_case?t.data.key.toUpperCase():t.data.key}),i.exit().transition().duration(n).style("opacity",0).remove()}(o,Rl,r)}}function d_(){Rl.select(".bars").selectAll("g").select("rect").style("opacity",function(t){var e=t.id===Jh;return t.display.visible?e?.7:1:0})}function h_(t,e){return{x:e*Math.cos(t),y:e*Math.sin(t)}}function p_(t,c,u,f,d,h,p,_,y,b){t.each(function(t){var e,n=uh(_(t.data.x)),r=y(t.data.y),a=t.data.value,i=t.data.value<0,o=0===t.height||t.depth===c.depth+Bo.num_of_visible_levels,l=0===t.depth;t.data.display.rotate=n,t.data.display.translate=r,t.data.display.parent_rotate=uh(_(t.data.parent_x)),t.data.display.parent_translate=y(t.data.parent_y),t.data.display.cp2_translate=t.depth===c.depth+1?0:(t.data.display.translate+t.data.display.parent_translate)/2,t.data.display.bar_width=d,t.data.display.bar_length=o?Math.abs(b(a)):0,t.data.display.bar_translate=o?0<a?0:-t.data.display.bar_length:0,t.data.display.circle_opacity=o||l?0:1,t.data.display.bar_opacity=o?1:0,function(t,e,n,r,a,i,o,l,s,c){var u={},f=t.data.key;f&&bh(!0)&&(f=f.toUpperCase()),u.normal=n?"translate(4, 0)":"translate(8, 0)",a||(u.normal+="translate("+t.data.display.bar_length+", 0)"),u.reversed=n?"rotate(180)translate(-4, 0)":"rotate(180)translate(-8, 0)",a||(u.reversed+="translate("+-t.data.display.bar_length+", 0)");var d=-90<i&&i<90?"normal":"reversed";t.data.display.name_label_orientation=d,t.data.id===r.data.id&&(t.data.display.name_label_orientation="normal",u.normal="rotate("+-i+")translate(8, 0)",f&&bh(!1)&&(f=f.toUpperCase())),t.data.display.name_label_transform=u;var h="'"+Bo.layout.body_font.name+"'",p=20<l?.2*l:.05*l,_=Math.min(ch(Bo.label_size),Math.floor(l-2*p)),y=_+"px "+h,b="bold "+y,g="",m="";if(n){var v=c-4-t.data.display.bar_length,x=!1;if(Bo.radial_tree_show_values){m=l_($s.getFormatterFunction())(o);var w=ss(m+" ",b);v<=w?(m=mh(m,v,b),x=!0):v-=w}x||(g=mh(f||"",v,y))}else e||(g=mh(f||"",.8*s,y));t.data.display.label_size=_,t.data.display.font_weight=gh(t.data.id!==r.data.id),t.data.display.name_label=g,t.data.display.value_label=m}(t,l,o,c,i,n,a,d,h,p),t.data.display.color=ph(t),Bo.radial_tree_colored_links?(e=ir(t.data.display.color)).opacity=.25:e=Bo.radial_tree_link_color,t.data.display.link_color=e;var s=h_(fh(n),r+(o?t.data.display.bar_length:0));t.data.display.popup={x:.5*u+s.x,y:.5*f+s.y}})}function __(){q(this).on("mouseover",Lh).on("mouseout",Nh).on("click",function(t){Fh(tc(jo.root,t.data.id))})}function y_(t){t.append("tspan").classed("value-label",!0).style("font-weight","bold")}function b_(t,e){"normal"===e&&y_(t),t.append("tspan").classed("name-label",!0),"reversed"===e&&y_(t)}function g_(t,e,n){var r=t.append("g").classed("name-label-"+n,!0).style("opacity",0).style("fill",function(t){return t.data.display.color}).style("font-size",function(t){return t.data.display.label_size+"px"}).style("font-weight",e.data.display.font_weight),a=r.append("text").classed("name-label-background",!0).attr("dy","0.33em").style("stroke-width","0.25em"),i=r.append("text").classed("name-label-foreground",!0).attr("dy","0.33em");b_(a,n),b_(i,n)}function m_(t){var e=this,n=this._tween.rotate,r=this._tween.translate,a=ea(n,t.data.display.rotate),i=ea(r,t.data.display.translate);return function(t){q(e).attr("transform","rotate("+a(t)+")").select(".translate-layer").attr("transform","translate("+i(t)+")"),e._tween.rotate=a(t),e._tween.translate=i(t)}}function v_(t,e){Yl.select(".nodes").selectAll("g.node").data(jo.root.descendants(),function(t){return t.data.id});var n=Yl.select(".nodes").selectAll("g.node").data(t.descendants(),function(t){return t.data.id});n.enter().append("g").each(function(t){(function(t,e){var n=q(this);this._tween={rotate:t.data.display.prev_rotate,translate:t.data.display.prev_translate},n.classed("node",!0).style("opacity",0).transition().duration(.5*e).delay(.5*e).style("opacity",1),n.classed("node",!0).attr("transform",function(t){return"rotate("+t.data.display.prev_rotate+")"}),(n=n.append("g")).classed("translate-layer",!0).attr("transform",function(t){return"translate("+t.data.display.prev_translate+")"}),n.append("circle").attr("r",4).style("opacity",0).style("fill",function(t){return t.data.display.color}),g_(n,t,"normal"),g_(n,t,"reversed"),n.append("rect").style("opacity",0).style("fill",function(t){return t.data.display.color})}).call(this,t,e)}).each(__).merge(n).transition("nodes").duration(e).tween("node",m_),n.exit().each(function(){(function(t){q(this).transition().duration(.5*t).style("opacity",0),q(this).transition("nodes").duration(t).tween("node",m_).on("end",function(){q(this).remove()})}).call(this,e)}),Yl.select(".nodes").selectAll("g.node").transition().delay(e).duration(.1*e).style("opacity",1),Yl.select(".nodes").selectAll("g.node").select("circle").transition("nodes").duration(e).style("fill",function(t){return t.data.display.color}).style("opacity",function(t){return t.data.display.circle_opacity}),Yl.select(".nodes").selectAll("g.node").select("rect").transition("nodes").duration(e).style("fill",function(t){return t.data.display.color}).style("opacity",function(t){return t.data.display.bar_opacity}).attr("y",function(t){return-.5*t.data.display.bar_width}).attr("x",function(t){return t.data.display.bar_translate}).attr("width",function(t){return t.data.display.bar_length}).attr("height",function(t){return t.data.display.bar_width}),Yl.select(".nodes").selectAll("g.node").select("g.name-label-normal").each(function(t){q(this).selectAll("tspan.value-label").text(t.data.display.value_label+" ").style("font-weight",Bo.value_labels_bold?"bold":"normal"),q(this).selectAll("tspan.name-label").text(t.data.display.name_label).style("font-weight",t.data.display.font_weight),q(this).select(".name-label-background").style("stroke",Bo.layout.background_color)}).transition().duration(e).style("fill",function(t){return t.data.display.color}).style("font-size",function(t){return t.data.display.label_size+"px"}).style("font-weight",function(t){return t.data.display.font_weight}).attr("transform",function(t){return t.data.display.name_label_transform.normal}).style("opacity",function(t){return"normal"===t.data.display.name_label_orientation?1:0}),Yl.select(".nodes").selectAll("g.node").select("g.name-label-reversed").each(function(t){q(this).selectAll("tspan.name-label").text(t.data.display.name_label).style("font-weight",t.data.display.font_weight),q(this).selectAll("tspan.value-label").text(" "+t.data.display.value_label).style("font-weight",Bo.value_labels_bold?"bold":"normal"),q(this).select(".name-label-background").style("stroke",Bo.layout.background_color)}).style("text-anchor","end").transition().duration(e).style("fill",function(t){return t.data.display.color}).style("font-size",function(t){return t.data.display.label_size+"px"}).attr("transform",function(t){return t.data.display.name_label_transform.reversed}).style("opacity",function(t){return"normal"===t.data.display.name_label_orientation?0:1})}function x_(t){var l=this;this._tween=this._tween||{};var e=this._tween.rotate||0,n=this._tween.translate||0,r=this._tween.parent_rotate||0,a=this._tween.parent_translate||0,i=this._tween.cp2_translate||0,s=ea(e,t.data.display.rotate),c=ea(n,t.data.display.translate),u=ea(r,t.data.display.parent_rotate),f=ea(a,t.data.display.parent_translate),d=ea(i,t.data.display.cp2_translate);return function(t){var e=s(t),n=c(t),r=u(t),a=f(t),i=d(t),o=function(t,e,n,r,a){var i=h_(fh(t),e),o=h_(fh(t),(e+r)/2),l=h_(fh(n),a),s=h_(fh(n),r);return"M"+i.x+","+i.y+"C"+o.x+","+o.y+" "+l.x+","+l.y+" "+s.x+","+s.y}(e,n,r,a,i);q(l).attr("d",o),l._tween.rotate=e,l._tween.translate=n,l._tween.parent_rotate=r,l._tween.parent_translate=a,l._tween.cp2_translate=i}}function w_(t,e){Yl.select(".links").selectAll("path").data(jo.root.descendants().slice(1),function(t){return t.data.id});var n=Yl.select(".links").selectAll("path").data(t.descendants().slice(1),function(t){return t.data.id});n.enter().append("path").each(function(t){(function(t,e){var n=q(this);this._tween={rotate:t.data.display.prev_rotate,translate:t.data.display.prev_translate,parent_rotate:t.data.display.prev_parent_rotate,parent_translate:t.data.display.prev_parent_translate,cp2_translate:t.data.display.cp2_translate},n.classed("link",!0).style("opacity",0).transition().duration(.5*e).delay(.5*e).style("opacity",1)}).call(this,t,e)}).merge(n).transition("links").duration(e).style("stroke",function(t){return t.data.display.link_color}).style("fill","none").tween("link",x_),n.exit().each(function(){(function(t){q(this).transition().duration(.5*t).style("opacity",0),q(this).transition("links").duration(t).tween("link",x_).on("end",function(){q(this).remove()})}).call(this,e)}),Yl.select(".links").selectAll("path").transition().delay(e).duration(.1*e).style("opacity",1)}var M_,k_,z_,C_,A_,T_,S_,E_,L_,N_,F_,P_=2*Math.PI,O_={},D_=(E_=Us,N_=L_=1,F_=null,U_.separation=function(t){return arguments.length?(E_=t,U_):E_},U_.size=function(t){return arguments.length?(F_=!1,L_=+t[0],N_=+t[1],U_):F_?null:[L_,N_]},U_.nodeSize=function(t){return arguments.length?(F_=!0,L_=+t[0],N_=+t[1],U_):F_?[L_,N_]:null},U_).separation(function(){return 1});function U_(t){var e=function(t){for(var e,n,r,a,i,o=new js(t,0),l=[o];e=l.pop();)if(r=e._.children)for(e.children=new Array(i=r.length),a=i-1;0<=a;--a)l.push(n=e.children[a]=new js(r[a],a)),n.parent=e;return(o.parent=new js(null,0)).children=[o],o}(t);if(e.eachAfter(H_),e.parent.m=-e.z,e.eachBefore(B_),F_)t.eachBefore(j_);else{var n=t,r=t,a=t;t.eachBefore(function(t){t.x<n.x&&(n=t),t.x>r.x&&(r=t),t.depth>a.depth&&(a=t)});var i=n===r?1:E_(n,r)/2,o=i-n.x,l=L_/(r.x+i+o),s=N_/(a.depth||1);t.eachBefore(function(t){t.x=(t.x+o)*l,t.y=t.depth*s})}return t}function H_(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){!function(t){for(var e,n=0,r=0,a=t.children,i=a.length;0<=--i;)(e=a[i]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var a=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+E_(t._,r._),t.m=t.z-a):t.z=a}else r&&(t.z=r.z+E_(t._,r._));t.parent.A=function(t,e,n){if(e){for(var r,a=t,i=t,o=e,l=a.parent.children[0],s=a.m,c=i.m,u=o.m,f=l.m;o=Bs(o),a=Hs(a),o&&a;)l=Hs(l),(i=Bs(i)).a=t,0<(r=o.z+u-a.z-s+E_(o._,a._))&&(b=t,g=n,d=(y=o).a.parent===b.parent?y.a:g,void 0,_=(p=r)/((h=t).i-d.i),h.c-=_,h.s+=p,d.c+=_,h.z+=p,h.m+=p,s+=r,c+=r),u+=o.m,s+=a.m,f+=l.m,c+=i.m;o&&!Bs(i)&&(i.t=o,i.m+=u-c),a&&!Hs(l)&&(l.t=a,l.m+=s-f,n=t)}var d,h,p,_;var y,b,g;return n}(t,r,t.parent.A||n[0])}function B_(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function j_(t){t.x*=L_,t.y=t.depth*N_}var q_,R_=wc(),Y_=wc(),I_=wc();function W_(t){var e=Y_(t),n=2*Math.PI;return e<-n&&(e=-n),n<e&&(e=n),e+=fh(Bo.radial_tree_rotation)}function V_(t,e){var n=t.copy();return n.eachBefore(function(t){t.depth===e&&delete t.children}),n.each(function(t){t.isTruncated=!0,t.id=t.data.id}),n}function X_(t,e,n){var r=!1===t?0:1e3*Bo.animation_duration;if(function(t){Yl.transition().duration(t).style("opacity","radialTree"===Bo.hierarchy_layout?1:0).on("end",function(){"radialTree"!==Bo.hierarchy_layout&&(Yl.select(".nodes").selectAll("*").remove(),Yl.select(".links").selectAll("*").remove())})}(r),"radialTree"===Bo.hierarchy_layout){var a=xh();!function(t){t.each(function(t){t.data.id=t.id,t.data.value=t.value})}(jo.root),function(t){t.each(function(t){if(void 0!==O_[t.id]){var e=O_[t.id];t.data.display={prev_rotate:e.rotate,prev_translate:e.translate,prev_parent_rotate:e.parent_rotate,prev_parent_translate:e.parent_translate,cp2_translate:e.cp2_translate}}else t.data.display={prev_rotate:0,prev_translate:0,prev_parent_rotate:0,prev_parent_translate:0,cp2_translate:0}})}(jo.root),function(t,e){var n=V_(t,e);D_(t),D_(n);var r=function(t){var e={};return t.each(function(t){e[t.data.id]=t}),e}(n);t.eachBefore(function(t){var e=r[t.data.id];if(t.data.y=t.y,void 0!==e)t.data.x=e.x,t.data.x_delta=e.x-t.x;else{var n=t.parent.data.x_delta;t.data.x=t.x+n,t.data.x_delta=n}0===t.depth?(t.data.parent_x=t.data.x,t.data.parent_y=t.data.y):(t.data.parent_x=t.parent.data.x,t.data.parent_y=t.parent.data.y)})}(jo.root,a.depth+Bo.num_of_visible_levels);var i=V_(a,Bo.num_of_visible_levels);!function(t,e){var n=Math.min(t,e);M_=.5*Bo.radial_tree_outer_radius*n/100,k_=.5*Bo.radial_tree_bar_length*n/100,z_=M_/Bo.num_of_visible_levels,C_=.5*n-M_,A_=Bo.radial_tree_bar_width}(e,n),function(t){var e=t.leaves().length,n=e*A_/M_;P_<=n?(T_=M_*P_/e-1,S_=P_):(S_=n,T_=A_-2),T_=Math.max(T_,0),S_-=(T_+1)/M_,S_=Math.max(S_,0)}(i),function(t,e){var n=t.leaves(),r=Sn(n,function(t){return t.data.x});Y_.domain(r).range([-.5*S_,.5*S_]),1===n.length&&Y_.range([0,0]);var a=[e.data.y,n[0].data.y];I_.domain(a).range([0,M_]),R_.domain([0,Un(n,function(t){return Math.abs(t.data.value)})]).range([0,k_])}(i,a),p_(jo.root,a,e,n,T_,z_,C_,W_,I_,R_),Yl.attr("transform","translate(".concat(.5*e,", ").concat(.5*n,")")),v_(i,r),w_(i,r),function(t){t.each(function(t){O_[t.id]=t.data.display})}(jo.root)}}function $_(){q_||Yl.select(".nodes").selectAll(".node").style("opacity",function(t){return t.data&&t.data.id===Jh?.7:1})}function Z_(){var t=xh(),e=t?t.depth:0;!function e(t,n){var r=Bo.num_of_visible_levels;t.display={},t.display.visible=t.depth<n+r+1,t.display.leaf=!t.children,t.display.visible_leaf=t.depth===n+r||t.display.leaf&&t.depth<n+r,t.children&&t.children.forEach(function(t){e(t,n)})}(jo.root,e)}function G_(t){var e;Zl.update(),function(){Wl.style("padding",Bo.controls_padding+"px").style("text-align",Bo.header_align),""==Bo.header_title&&""==Bo.header_subtitle||Wl.style("padding-top",0),Sh(),Eh();var t=oh||lh;Wl.style("display",t?null:"none")}(),e=oh?_i.data.filter(function(t){return Bo.filter===Bo.filter_all_label||t.filter==Bo.filter}):_i.data;var n=0<_i.data.column_names.size_columns.length?Bo.aggregation_type:"Count",r=!0;"radialTree"===Bo.hierarchy_layout&&(r=!1);var a=Gs(e,n,r);jo.root=Ks(a),function(){var t=Bo.hierarchy_layout,e=Math.max(0,Zl.getPrimaryWidth()),n=Math.max(0,Zl.getPrimaryHeight()),r=n,a=xh(),i=a.children?a.children.length:0,o=!1;if(Bo.auto_set_height&&!1===Flourish.fixed_height)if("treemap"===t){var l=e<Bo.responsive_narrow_breakpoint?.01*e*Bo.treemap_aspect_ratio_narrow:.01*e*Bo.treemap_aspect_ratio_normal;Zl.setHeight(l),r=l}else if("circlePacking"===t||"sunburst"===t||"radialTree"===t)Zl.setHeight(e),r=e;else if("bar"===t){var s=Ch(),c=Bo.bar_min_bar_thickness+Bo.bar_bar_padding+s,u=$l+i*c;Zl.setHeight(u),r=u}else Zl.setHeight(null);else if(Zl.setHeight(null),"bar"===t){var f=Ah(n-$l,i),d=Ch(),h=i*(f+Bo.bar_bar_padding+d)+$l;n<h&&(r=h,o=!0)}Ul.attr("width",e).attr("height",r),Hl.attr("width",e).attr("height",r),Ol.select("#fl-layout-primary-container").style("overflow-y",o?"auto":"hidden")}();var i=Math.max(0,Zl.getPrimaryWidth()),o=Math.max(0,Zl.getPrimaryHeight());jo.w=i,jo.h=o,Z_(),function(){var t=rh(_i.data.map(function(t){return t.nest_columns[0]}));sh.updateColorScale(t)}(),tp(t,i,o),fp(t,i,o),n_(t,i,o),f_(t,i,o),X_(t,i,o),function(){var t=Bo.zoomed_node_id&&Th(Bo.ascend_button_visibility);Il.style("display",t?"block":"none").style("background",Bo.zoom_out_button_color).classed("top-left","right"===Bo.popup.panel_position).classed("bottom-right","top"===Bo.popup.panel_position).on("touchstart",function(){N.stopPropagation(),K_("zoomOut")}).on("click",function(){N.stopPropagation(),K_("zoomOut")}).select("svg path").style("fill",Bo.zoom_out_arrow_color)}(),Cy.update(),Ay.update(),Ty.update(),Zl.showOverlay(void 0===jo.root.children?"No data to display":null),function(){var t=ty.locked();if(t){var e=tc(jo.root,t);if(!e||!fy(e))return ty.clickout();var n=sy(e);ty.setColumnNames(n.column_names)}ty.update(),q(".flourish-popup").classed("all-events","popup"===Bo.popup.mode||"both"===Bo.popup.mode)}()}function J_(){G_()}function Q_(){Kh(),up(),e_(),d_(),$_()}function K_(t,e){switch(t){case"updateHighlightedNode":Qh(e),Q_();break;case"zoomToNode":q_=!0,e.children&&(Bo.zoomed_node_id=e.id),Qh(null),J_(),ty.clickout(),setTimeout(function(){q_=!1},1e3*Bo.animation_duration+100);break;case"zoomOut":if(null===Bo.zoomed_node_id)return;q_=!0;var n=tc(jo.root,Bo.zoomed_node_id),r=n?n.ancestors():null;Bo.zoomed_node_id=r&&2!==r.length?r[1].id:null,Qh(null),J_(),ty.clickout(),setTimeout(function(){q_=!1},1e3*Bo.animation_duration+100)}}var ty,ey,ny,ry=null;function ay(t){ry=t}function iy(t){if(t){var e,n,r=Ul.node().getBoundingClientRect().left,a=Ul.node().getBoundingClientRect().top;switch(Bo.hierarchy_layout){case"treemap":e=.5*(t.display.x1+t.display.x0),n=t.display.visible_leaf?.5*(t.display.y1+t.display.y0)+15:t.display.y0+10;break;case"circlePacking":e=t.display.x+Vl.x,n=t.display.visible_leaf?t.display.y+Vl.y+15:t.display.y-t.display.r+Vl.y+15;break;case"sunburst":var i=.5*(t.display.a0+t.display.a1),o=i>.5*Math.PI&&i<1.5*Math.PI?.4:.6,l=o*t.display.r0+(1-o)*t.display.r1;e=.5*jo.w+l*Math.sin(i),n=.5*jo.h-l*Math.cos(i);break;case"bar":e=t.display.x+.5*t.display.l+ch(Bo.bar_axis_label_space),n=t.display.y+.5*t.display.thickness+$l+10;break;case"radialTree":e=t.data.display.popup.x,n=t.data.display.popup.y+15;break;default:console.log("Missing handler for "+Bo.hierarchy_layout+" in popup")}return[e+=r,n+=a]}}function oy(t){var e=tc(jo.root,t),n=sy(e);return[iy(e),n.datum]}function ly(t,e,n){ey=l_($s.getFormatterFunction()),e.__value="VALUE",n.__value=ey(t.value),e.__size_by="SIZEBY",n.__size_by="Sum"===Bo.aggregation_type?Bo.size_by:"Count",e.__name="NAME",n.__name=t.data.key}function sy(t){ey=l_($s.getFormatterFunction());var e={},n={};if(0===t.height&&t.data.unique_row)n=function(a){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?di(Object(i),!0).forEach(function(t){var e,n,r;e=a,r=i[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):di(Object(i)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(i,t))})}return a}({},_i.data.column_names),(e=t.data.unique_row).__title=t.data.key,e.size_columns=e.size_columns.map(function(t){return ey(Xs(t))}),(Bo.popup.popup_is_custom||Bo.popup.panel_is_custom)&&ly(t,n,e);else if(Bo.popup.popup_is_custom||Bo.popup.panel_is_custom){var r=t.ancestors().slice(0,-1);n.ancestors=r.map(function(t){return t.data.column_name}),e.ancestors=r.map(function(t){return t.data.key}),ly(t,n,e)}else{e.__title=t.data.key;var a=t.ancestors().slice(1,-1);n.ancestors=a.map(function(t){return t.data.column_name}),e.ancestors=a.map(function(t){return t.data.key}),n.value=Bo.size_by,e.value=ey(t.value)}return{datum:e,column_names:n}}function cy(){K_("updateHighlightedNode",null)}function uy(){if(!ty.locked()||"popup"!==Bo.popup.mode&&"both"!==Bo.popup.mode){var t=ry,e=tc(jo.root,t),n=sy(e),r=iy(e);ty.setColumnNames(n.column_names).click(r,n.datum,t),K_("updateHighlightedNode",t)}else ty.clickout()}function fy(t){var e=xh(),n=t.depth>=e.depth&&t.depth<=e.depth+Bo.num_of_visible_levels,r=!Bo.popup_active_levels||"all_levels"===Bo.popup_active_levels||"top_level"===Bo.popup_active_levels&&1===t.depth||"below_top_level"===Bo.popup_active_levels&&1<t.depth||"above_bottom_level"===Bo.popup_active_levels&&0<t.height||"bottom_level"===Bo.popup_active_levels&&0===t.height;return n&&r}var dy,hy,py,_y,yy,by,gy,my,vy,xy,wy,My,ky=ei(Bo.filter_control),zy=ei(Bo.size_by_control),Cy=(dy=Bo.controls_style,hy=".fl-control",py=Bo.layout,new ii(dy,hy,py)),Ay=(_y=Bo.dropdown_style,yy=".fl-control-dropdown",by=Bo.layout,new fi(_y,yy,by)),Ty=(gy=Bo.button_style,my=".fl-control-buttons",vy=Bo.layout,new ci(gy,my,vy));(xy=Bo.popup,ty=new Oo(xy,wy,My)).titleKey("__title").subtitleKey("__subtitle").getLockedPosition(oy).onPanelClose(cy),ny=q(".flourish-popup").node(),q(".flourish-popup-content").on("click",uy),q(".flourish-popup").on("mouseleave",function(){return ty.mouseout()});var Sy=function(){return ud.Date.now()};var Ey="[object Symbol]";var Ly=NaN,Ny=/^\s+|\s+$/g,Fy=/^[-+]0x[0-9a-f]+$/i,Py=/^0b[01]+$/i,Oy=/^0o[0-7]+$/i,Dy=parseInt;function Uy(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&vd(t)==Ey}(t))return Ly;if(xd(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=xd(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ny,"");var n=Py.test(t);return n||Oy.test(t)?Dy(t.slice(2),n?2:8):Fy.test(t)?Ly:+t}var Hy="Expected a function",By=Math.max,jy=Math.min;function qy(r,n,t){var a,i,o,l,s,c,u=0,f=!1,d=!1,e=!0;if("function"!=typeof r)throw new TypeError(Hy);function h(t){var e=a,n=i;return a=i=void 0,u=t,l=r.apply(n,e)}function p(t){var e=t-c;return void 0===c||n<=e||e<0||d&&o<=t-u}function _(){var t=Sy();if(p(t))return y(t);s=setTimeout(_,function(t){var e=n-(t-c);return d?jy(e,o-(t-u)):e}(t))}function y(t){return s=void 0,e&&a?h(t):(a=i=void 0,l)}function b(){var t=Sy(),e=p(t);if(a=arguments,i=this,c=t,e){if(void 0===s)return function(t){return u=t,s=setTimeout(_,n),f?h(t):l}(c);if(d)return clearTimeout(s),s=setTimeout(_,n),h(c)}return void 0===s&&(s=setTimeout(_,n)),l}return n=Uy(n)||0,xd(t)&&(f=!!t.leading,o=(d="maxWait"in t)?By(Uy(t.maxWait)||0,n):o,e="trailing"in t?!!t.trailing:e),b.cancel=function(){void 0!==s&&clearTimeout(s),a=c=i=s=void(u=0)},b.flush=function(){return void 0===s?l:y(Sy())},b}var Ry;var Yy=function(t,e,n){var r=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return xd(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),qy(t,e,{leading:r,maxWait:e,trailing:a})}(function(){G_(Ry==window.innerWidth),Ry=window.innerWidth},500);return t.data=_i,t.draw=function(){!function(){Ol=q(document.body),Dl=q(Zl.getSection("primary"));var t=(Wl=q(Zl.getSection("controls"))).append("div").classed("control-group filter",!0);t.append("div").text("Filter: "),t.append("div").attr("id","filter"),(t=Wl.append("div").classed("control-group size-by",!0)).append("div").text("Size by: "),t.append("div").attr("id","size-by-control"),Ul=Dl.append("svg").classed("noselect",!0),Hl=Ul.append("rect").classed("background",!0).style("fill","none").style("pointer-events","visible"),Bl=Ul.append("g").classed("g-treemap",!0),jl=Ul.append("g").classed("g-circle-packing",!0).attr("transform","translate(".concat(Vl.x,",").concat(Vl.y,")")),ql=Ul.append("g").classed("g-sunburst",!0),(Rl=Ul.append("g").classed("g-bar",!0)).append("g").classed("breadcrumb",!0).append("text"),Rl.append("g").classed("bars",!0),(Yl=Ul.append("g").classed("g-radial-tree",!0)).append("g").classed("links",!0),Yl.append("g").classed("nodes",!0),(Il=Dl.append("div").classed("zoomout-button",!0).attr("title","Go up a level")).append("svg").append("path").attr("d","M7.285,16.01l4.12,4.119l5.137,-5.137l0,21.201l5.825,0l0,-21.201l5.138,5.137l4.119,-4.119l-12.169,-12.169l-12.17,12.169Z"),Hl.on("click",function(){K_("zoomOut")})}(),Ry=window.innerWidth,window.addEventListener("resize",function(){Yy()}),G_(!1),function(e){document.fonts&&(e=e||function(){window.template.update()},document.fonts.ready.then(function(t){e(t),document.fonts.addEventListener("loadingdone",function(){e(t)})}).catch(function(t){console.log("Error loading fonts",t)}))}()},t.state=Bo,t.update=J_,t}({});
//# sourceMappingURL=template.js.map
</script>
<script>
var path = document.location.href.match(/\/visualisation\/(\d+)/);
if (path) {
	path = path[0];
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga("create", "UA-44635456-19", "auto", { storage: "none" });
	ga("set", "transport", "beacon");
	ga("set", "dimension1", path.substr(1));
	ga("set", "dimension2", new Date().toISOString());
	ga("send", "pageview", path);
}</script>
<script>!function(){"use strict";var e,i,t=!1;function n(e){if(t&&window.top!==window.self){var i=window;"srcdoc"===i.location.pathname&&(i=i.parent);var n,o=(n={},window._Flourish_template_id&&(n.template_id=window._Flourish_template_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_template_id&&(n.template_id=window.Flourish.app.loaded_template_id),window._Flourish_visualisation_id&&(n.visualisation_id=window._Flourish_visualisation_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_visualisation&&(n.visualisation_id=window.Flourish.app.loaded_visualisation.id),window.Flourish&&window.Flourish.app&&window.Flourish.app.story&&(n.story_id=window.Flourish.app.story.id,n.slide_count=window.Flourish.app.story.slides.length),window.Flourish&&window.Flourish.app&&window.Flourish.app.current_slide&&(n.slide_index=window.Flourish.app.current_slide.index+1),n),r={sender:"Flourish",method:"customerAnalytics"};for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a]);for(var a in e)e.hasOwnProperty(a)&&(r[a]=e[a]);i.parent.postMessage(JSON.stringify(r),"*")}}function o(e){if("function"!=typeof e)throw new Error("Analytics callback is not a function");window.Flourish._analytics_listeners.push(e)}function r(){t=!0;[{event_name:"click",action_name:"click",use_capture:!0},{event_name:"keydown",action_name:"key_down",use_capture:!0},{event_name:"mouseenter",action_name:"mouse_enter",use_capture:!1},{event_name:"mouseleave",action_name:"mouse_leave",use_capture:!1}].forEach((function(e){document.body.addEventListener(e.event_name,(function(){n({action:e.action_name})}),e.use_capture)}))}function a(){if(null==e){var i=function(){var e=window.location;"about:srcdoc"==e.href&&(e=window.parent.location);var i={};return function(e,t,n){for(;n=t.exec(e);)i[decodeURIComponent(n[1])]=decodeURIComponent(n[2])}(e.search.substring(1).replace(/\+/g,"%20"),/([^&=]+)=?([^&]*)/g),i}();e="referrer"in i?/^https:\/\/medium.com\//.test(i.referrer):!("auto"in i)}return e}function s(e){var i=e||window.innerWidth;return i>999?650:i>599?575:400}function l(e,t){if(window.top!==window.self){var n=window;if("srcdoc"==n.location.pathname&&(n=n.parent),i)return e=parseInt(e,10),void n.parent.postMessage({sentinel:"amp",type:"embed-size",height:e},"*");var o={sender:"Flourish",context:"iframe.resize",method:"resize",height:e,src:n.location.toString()};if(t)for(var r in t)o[r]=t[r];n.parent.postMessage(JSON.stringify(o),"*")}}function d(){return(-1!==navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("iPhone"))&&-1==navigator.userAgent.indexOf("Chrome")}function u(e){window.addEventListener("message",(function(i){if(null!=i.source&&(i.origin===document.location.origin||i.origin.match(/\/\/localhost:\d+$|\/\/flourish-api\.com$|\.flourish\.(?:local(:\d+)?|net|rocks|studio)$|\.uri\.sh$/))){var t;try{t=JSON.parse(i.data)}catch(e){return void console.warn("Unexpected non-JSON message: "+JSON.stringify(i.data))}if("Flourish"===t.sender){for(var n=document.querySelectorAll("iframe"),o=0;o<n.length;o++)if(n[o].contentWindow==i.source||n[o].contentWindow==i.source.parent)return void e(t,n[o]);console.warn("could not find frame",t)}}})),d()&&(window.addEventListener("resize",h),h())}function h(){for(var e=document.querySelectorAll(".flourish-embed"),i=0;i<e.length;i++){var t=e[i];if(!t.getAttribute("data-width")){var n=t.querySelector("iframe"),o=window.getComputedStyle(t),r=t.offsetWidth-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight);n.style.width=r+"px"}}}function c(e,i,t,n){var o=document.createElement("iframe");if(o.setAttribute("scrolling","no"),o.setAttribute("frameborder","0"),o.setAttribute("title","Interactive or visual content"),o.setAttribute("sandbox","allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"),i.appendChild(o),o.offsetParent||"fixed"===getComputedStyle(o).position)f(e,i,o,t,n);else{var r={embed_url:e,container:i,iframe:o,width:t,height:n};if(window._flourish_poll_items?window._flourish_poll_items.push(r):window._flourish_poll_items=[r],window._flourish_poll_items.length>1)return;var a=setInterval((function(){window._flourish_poll_items=window._flourish_poll_items.filter((function(e){return!e.iframe.offsetParent||(f(e.embed_url,e.container,e.iframe,e.width,e.height),!1)})),window._flourish_poll_items.length||clearInterval(a)}),500)}}function f(e,i,t,n,o){var r;return n&&"number"==typeof n?(r=n,n+="px"):n&&n.match(/^[ \t\r\n\f]*([+-]?\d+|\d*\.\d+(?:[eE][+-]?\d+)?)(?:\\?[Pp]|\\0{0,4}[57]0(?:\r\n|[ \t\r\n\f])?)(?:\\?[Xx]|\\0{0,4}[57]8(?:\r\n|[ \t\r\n\f])?)[ \t\r\n\f]*$/)&&(r=parseFloat(n)),o&&"number"==typeof o&&(o+="px"),n?t.style.width=n:d()?t.style.width=i.offsetWidth+"px":t.style.width="100%",!!o||(e.match(/\?/)?e+="&auto=1":e+="?auto=1",o=s(r||t.offsetWidth)+"px"),o&&("%"===o.charAt(o.length-1)&&(o=parseFloat(o)/100*i.parentNode.offsetHeight+"px"),t.style.height=o),t.setAttribute("src",e),t}function w(e){return!Array.isArray(e)&&"object"==typeof e&&null!=e}function p(e,i){for(var t in i)w(e[t])&&w(i[t])?p(e[t],i[t]):e[t]=i[t];return e}!function(){var e,t=window.top===window.self,h=t?null:(i="#amp=1"==window.location.hash,{createEmbedIframe:c,isFixedHeight:a,getHeightForBreakpoint:s,startEventListeners:u,notifyParentWindow:l,isSafari:d,initCustomerAnalytics:r,addAnalyticsListener:o,sendCustomerAnalyticsMessage:n}),f=!0;function w(){var i;Flourish.fixed_height||(null!=e?i=e:f&&(i=h.getHeightForBreakpoint()),i!==window.innerHeight&&h.notifyParentWindow(i))}function m(){w(),window.addEventListener("resize",w)}Flourish.warn=function(e){if("string"==typeof e&&(e={message:e}),t||"editor"!==Flourish.environment)console.warn(e.message);else{var i={sender:"Flourish",method:"warn",message:e.message,explanation:e.explanation};window.parent.postMessage(JSON.stringify(i),"*")}},Flourish.uploadImage=function(e){if(t||"story_editor"!==Flourish.environment)throw"Invalid upload request";var i={sender:"Flourish",method:"request-upload",name:e.name,accept:e.accept};window.parent.postMessage(JSON.stringify(i),"*")},Flourish.setSetting=function(e,i){if("editor"===Flourish.environment||"sdk"===Flourish.environment){var t={sender:"Flourish",method:"setSetting",name:e,value:i};window.parent.postMessage(JSON.stringify(t),"*")}else if("story_editor"===Flourish.environment){var n={};n[e]=i,p(window.template.state,function(e){var i={};for(var t in e){for(var n=i,o=t.indexOf("."),r=0;o>=0;o=t.indexOf(".",r=o+1)){var a=t.substring(r,o);a in n||(n[a]={}),n=n[a]}n[t.substring(r)]=e[t]}return i}(n))}},Flourish.setHeight=function(i){Flourish.fixed_height||(e=i,f=null==i,w())},Flourish.checkHeight=function(){if(!t){var e=Flourish.__container_height;null!=e?(Flourish.fixed_height=!0,h.notifyParentWindow(e)):h.isFixedHeight()?Flourish.fixed_height=!0:(Flourish.fixed_height=!1,w())}},Flourish.fixed_height=t||h.isFixedHeight(),Flourish.enableCustomerAnalytics=function(){h.initCustomerAnalytics()},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",m):m()}()}();
//# sourceMappingURL=embedded.js.map
</script>
<script>
		function _Flourish_unflattenInto(dest, src) {
			dest = dest || {};
			for (var k in src) {
				var t = dest;
				for (var i = k.indexOf("."), p = 0; i >= 0; i = k.indexOf(".", p = i+1)) {
					var s = k.substring(p, i);
					if (!(s in t)) t[s] = {};
					t = t[s];
				}
				t[k.substring(p)] = src[k];
			}
			return dest;
		}
		var _Flourish_settings = {"aggregation_type":"Sum","color.categorical_palette":["#1D6996","#EDAD08","#73AF48","#94346E","#38A6A5","#E17C05","#5F4690","#0F8554","#6F4070","#CC503E","#994E95","#666666"],"filter_control_visibility":"always","filter_include_all":true,"hierarchy_layout":"circlePacking","label_case":"allLowerCase","label_weight":"allNormal","layout.body_font":{"name":"Roboto Condensed","url":"https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700"},"layout.border.enabled":false,"layout.font_color":"#333333","layout.layout_order":"stack-3","layout.margin_bottom":0.5,"layout.margin_left":0.5,"layout.margin_right":0.5,"layout.margin_top":0,"layout.space_between_sections":"0.5","num_of_visible_levels":1,"popup_active_levels":"bottom_level","popup.mode":"popup","popup.panel_is_custom":false,"popup.panel_position":"overlay","popup.panel_side_fixed":false,"popup.popup_custom_header":"","popup.popup_custom_main":"\n\u003ca href=\"\" style=\"color:#4A4A4A; text-decoration-line: underline;\" target=\"_blank\">Click to learn more\u003c/a>","popup.popup_header_text_color":"#4dfbff","popup.popup_is_custom":true,"popup.show_popup_styles":true,"sort_by":"value"};
		_Flourish_unflattenInto(window.template.state, _Flourish_settings);

		var _Flourish_data_column_names = {"data":{"filter":"commodity","nest_columns":["commodity","reg_type","reg_name"],"popup_metadata":["reg_description","page_url","reg_type_description"],"size_columns":["number_regs"]}},
		    _Flourish_data_metadata = {"data":{"nest_columns":[null,null,null],"popup_metadata":[null,null,null],"size_columns":[null]}},
		    _Flourish_data = {"data":[{"filter":"3Ts","nest_columns":["3Ts","Traceability Providers","Better Mining (BMP) and Better Sourcing (BSP) programmes"],"popup_metadata":["BMP provides artisanal and small-scale mining (ASM) supply  chain specific digital risk and impact data packages on a subscription basis  to downstream companies and consumer brands needing due-dilligence. BSP  concerns Upstream Data product, it is recognised by RMI RMAP assurance  through which certification is issued along the OECD guidance, EU regulation,  and Dodd-Franck act","https://transparency-lab-test.netlify.app/bmp-bsp","With growing compliance requirements, a multiplication of  standards, and new digital technologies to track and trace materials, a new  category of actors increasingly fill the gap between corporations seeking  certifications, the implementation of standards required by certifying  organizations, and the verification by third part auditors. These companies  propose integrated solutions to implement due diligence and traceability (if  applicable) requirement as well audit management. They do not elaborate standards  themselves neither grant their own certifications, but implement existing  standards and operate the compliance and audit preparation for existing  certifications."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Certification Schemes","Certified Trading Chains (CTC)"],"popup_metadata":["The CTC scheme is the certification instrument of the ICGLR  Regional Certification Mechanism (RCM). It implements the OECD guidance and  the Dodd-Franck act to the specific challenges pertaining to the ASM sector  in the Great Lakes Region. 5 principles: Traceability and Transparency ,Labor  and Working Conditions, Security, Community Development, Environmental  protection.","https://transparency-lab-test.netlify.app/ctc-icglr","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Guidelines","Chinese Due Diligence Guidelines for Responsible mineral  Supply Chains"],"popup_metadata":["The guidelines aligns with the OECD due-diligence guidance.  Thy should provide support to companies engaged at any point in the supply  chain of minerals to identify, prevent, and mitigate the risks of directly or  indirectly contributing to conflict, serious human rights abuse, and risks of  serious misconduct.","https://transparency-lab-test.netlify.app/chinese-dd","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Mandatory Legal Frameworks","Dodd-Franck Act, Section 1502"],"popup_metadata":["Prevents Securities and Exchange Commission (SEC) reporting  companies to finance conflicts or armed groups in the DRC.","https://transparency-lab-test.netlify.app/dodd-franck","Here we list only on the legal frameworks that explicitly  focus on minerals. Other regulations and international conventions may apply  to minerals as part of their broader scope, including the UN Minamata  Convention on Mercury or the ILO Indigenous and Tribal People Convention 169  as well as other conventions to the extent of their ratification and  application in national legal frameworks."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Mandatory Legal Frameworks","EU Conflict Minerals Regulation"],"popup_metadata":["Increase supply chain transparency and ensure the responsible  sourcing of tin, tantalum, tungsten and gold, largely mined in places that  suffer from armed conflict and where human rights violations are  widespread.","https://transparency-lab-test.netlify.app/eu-conflict-minerals","Here we list only on the legal frameworks that explicitly  focus on minerals. Other regulations and international conventions may apply  to minerals as part of their broader scope, including the UN Minamata  Convention on Mercury or the ILO Indigenous and Tribal People Convention 169  as well as other conventions to the extent of their ratification and  application in national legal frameworks."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Mandatory Legal Frameworks","ICGLR Regional Certification Mechanism"],"popup_metadata":["RCM provides for sustainable conflict-free mineral chains in  and between ICGLR Member States through: (1) Mine Site Inspection and  Certification; (2) Mineral Chain of Custody (CoC) Tracking; (3) Mineral  Export and Certification; (4) Mineral Tracking Database; (5) Third Party  Audits (TPA) and (6) the Independent Mineral Chain Auditor (IMCA).","https://transparency-lab-test.netlify.app/icglr-certification","Here we list only on the legal frameworks that explicitly  focus on minerals. Other regulations and international conventions may apply  to minerals as part of their broader scope, including the UN Minamata  Convention on Mercury or the ILO Indigenous and Tribal People Convention 169  as well as other conventions to the extent of their ratification and  application in national legal frameworks."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Traceability Providers","International Tin Supply Chain Initiative (ITSCI standards)"],"popup_metadata":["ITSCI standards implement the OECD guidance and other  regulations (Dodd-Franck act, ICLGR) towards fulfilling the due-dilligence  and audit requirement of RMAP accredited buyers.","https://transparency-lab-test.netlify.app/itsci-standards","With growing compliance requirements, a multiplication of  standards, and new digital technologies to track and trace materials, a new  category of actors increasingly fill the gap between corporations seeking  certifications, the implementation of standards required by certifying  organizations, and the verification by third part auditors. These companies  propose integrated solutions to implement due diligence and traceability (if  applicable) requirement as well audit management. They do not elaborate standards  themselves neither grant their own certifications, but implement existing  standards and operate the compliance and audit preparation for existing  certifications."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Guidelines","OECD Due Diligence Guidance for Responsible Supply Chains of  Minerals from Conflict-Affected and High-Risk Areas"],"popup_metadata":["The Guidance provides a 5-step framework to identify, (2)  assess and (3) mitigate human rights risks, as well as recommendations for  (4) third party auditing and (5) reporting.","https://transparency-lab-test.netlify.app/oecd-due-diligence","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Certification Schemes","Responsible Minerals Assurance Process (RMAP)"],"popup_metadata":["Formerly known as Conflict-Free Smelter Program. The RMAP  helps companies make informed choices about responsibly sourced minerals in  their supply chains by providing assurance to its accredited smelters and  refiners' members. It focuses on a \"pinch point\" and validates  smelters' company level management processes for responsible mineral  procurement through third third-party assessment of the RMAP standards. The  standards implement the OECD guidance, the EU regulation and the Dodd-Franck  act.","https://transparency-lab-test.netlify.app/rma-process","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["19"]},{"filter":"3Ts","nest_columns":["3Ts","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["19"]},{"filter":"Aluminum","nest_columns":["Aluminum","Certification Schemes","ASI CoC certification"],"popup_metadata":["ASIs standards are voluntary and apply to all stages of  aluminium production and transformation, specifically: bauxite mining,  alumina refining, primary aluminium production, semi-fabrication (rolling,  extrusion, forging and foundry), material conversion, and refining and  re-melting of recycled scrap. The scope of CoC Certification is defined by  the Entity seeking Certification and includes all Facilities (and where  applicable, Outsourcing Contractors) used for the processing, accounting,  shipping andhttps://transparency-lab-test.netlify.app/or receiving of CoC  Material.","https://transparency-lab-test.netlify.app/asi-coc","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Aluminum","nest_columns":["Aluminum","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Aluminum","nest_columns":["Aluminum","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Aluminum","nest_columns":["Aluminum","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Aluminum","nest_columns":["Aluminum","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Aluminum","nest_columns":["Aluminum","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Aluminum","nest_columns":["Aluminum","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Aluminum","nest_columns":["Aluminum","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Aluminum","nest_columns":["Aluminum","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Aluminum","nest_columns":["Aluminum","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Aluminum","nest_columns":["Aluminum","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Bauxite","nest_columns":["Bauxite","Certification Schemes","ASI CoC certification"],"popup_metadata":["ASIs standards are voluntary and apply to all stages of  aluminium production and transformation, specifically: bauxite mining,  alumina refining, primary aluminium production, semi-fabrication (rolling,  extrusion, forging and foundry), material conversion, and refining and  re-melting of recycled scrap. The scope of CoC Certification is defined by  the Entity seeking Certification and includes all Facilities (and where  applicable, Outsourcing Contractors) used for the processing, accounting,  shipping andhttps://transparency-lab-test.netlify.app/or receiving of CoC  Material.","https://transparency-lab-test.netlify.app/asi-coc","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Bauxite","nest_columns":["Bauxite","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Bauxite","nest_columns":["Bauxite","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Bauxite","nest_columns":["Bauxite","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Bauxite","nest_columns":["Bauxite","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Bauxite","nest_columns":["Bauxite","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Bauxite","nest_columns":["Bauxite","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Bauxite","nest_columns":["Bauxite","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Bauxite","nest_columns":["Bauxite","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Bauxite","nest_columns":["Bauxite","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Bauxite","nest_columns":["Bauxite","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Coal","nest_columns":["Coal","Voluntary Standards","Bettercoal code"],"popup_metadata":["Operating set of health, safety, social and environmental  standards for coal producers against which their performance is assessed to  jointly develop a continuous improvement plan.","https://transparency-lab-test.netlify.app/bettercoal-code","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["10"]},{"filter":"Coal","nest_columns":["Coal","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["10"]},{"filter":"Coal","nest_columns":["Coal","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["10"]},{"filter":"Coal","nest_columns":["Coal","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["10"]},{"filter":"Coal","nest_columns":["Coal","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["10"]},{"filter":"Coal","nest_columns":["Coal","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["10"]},{"filter":"Coal","nest_columns":["Coal","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["10"]},{"filter":"Coal","nest_columns":["Coal","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["10"]},{"filter":"Coal","nest_columns":["Coal","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["10"]},{"filter":"Coal","nest_columns":["Coal","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["10"]},{"filter":"Cobalt","nest_columns":["Cobalt","Traceability Providers","Better Mining (BMP) and Better Sourcing (BSP) programmes"],"popup_metadata":["BMP provides artisanal and small-scale mining (ASM) supply  chain specific digital risk and impact data packages on a subscription basis  to downstream companies and consumer brands needing due-dilligence. BSP  concerns Upstream Data product, it is recognised by RMI RMAP assurance  through which certification is issued along the OECD guidance, EU regulation,  and Dodd-Franck act","https://transparency-lab-test.netlify.app/bmp-bsp","With growing compliance requirements, a multiplication of  standards, and new digital technologies to track and trace materials, a new  category of actors increasingly fill the gap between corporations seeking  certifications, the implementation of standards required by certifying  organizations, and the verification by third part auditors. These companies  propose integrated solutions to implement due diligence and traceability (if  applicable) requirement as well audit management. They do not elaborate standards  themselves neither grant their own certifications, but implement existing  standards and operate the compliance and audit preparation for existing  certifications."],"size_columns":["13"]},{"filter":"Cobalt","nest_columns":["Cobalt","Certification Schemes","Certified Trading Chains (CTC)"],"popup_metadata":["The CTC scheme is the certification instrument of the ICGLR  Regional Certification Mechanism (RCM). It implements the OECD guidance and  the Dodd-Franck act to the specific challenges pertaining to the ASM sector  in the Great Lakes Region. 5 principles: Traceability and Transparency ,Labor  and Working Conditions, Security, Community Development, Environmental  protection.","https://transparency-lab-test.netlify.app/ctc-icglr","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["13"]},{"filter":"Cobalt","nest_columns":["Cobalt","Certification Schemes","Responsible Minerals Assurance Process (RMAP)"],"popup_metadata":["Formerly known as Conflict-Free Smelter Program. The RMAP  helps companies make informed choices about responsibly sourced minerals in  their supply chains by providing assurance to its accredited smelters and  refiners' members. It focuses on a \"pinch point\" and validates  smelters' company level management processes for responsible mineral  procurement through third third-party assessment of the RMAP standards. The  standards implement the OECD guidance, the EU regulation and the Dodd-Franck  act.","https://transparency-lab-test.netlify.app/rma-process","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["13"]},{"filter":"Cobalt","nest_columns":["Cobalt","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Cobalt","nest_columns":["Cobalt","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Cobalt","nest_columns":["Cobalt","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Cobalt","nest_columns":["Cobalt","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Cobalt","nest_columns":["Cobalt","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Cobalt","nest_columns":["Cobalt","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Cobalt","nest_columns":["Cobalt","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Cobalt","nest_columns":["Cobalt","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Cobalt","nest_columns":["Cobalt","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Cobalt","nest_columns":["Cobalt","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["13"]},{"filter":"Copper","nest_columns":["Copper","Traceability Providers","Better Mining (BMP) and Better Sourcing (BSP) programmes"],"popup_metadata":["BMP provides artisanal and small-scale mining (ASM) supply  chain specific digital risk and impact data packages on a subscription basis  to downstream companies and consumer brands needing due-dilligence. BSP  concerns Upstream Data product, it is recognised by RMI RMAP assurance  through which certification is issued along the OECD guidance, EU regulation,  and Dodd-Franck act","https://transparency-lab-test.netlify.app/bmp-bsp","With growing compliance requirements, a multiplication of  standards, and new digital technologies to track and trace materials, a new  category of actors increasingly fill the gap between corporations seeking  certifications, the implementation of standards required by certifying  organizations, and the verification by third part auditors. These companies  propose integrated solutions to implement due diligence and traceability (if  applicable) requirement as well audit management. They do not elaborate standards  themselves neither grant their own certifications, but implement existing  standards and operate the compliance and audit preparation for existing  certifications."],"size_columns":["13"]},{"filter":"Copper","nest_columns":["Copper","Certification Schemes","Certified Trading Chains (CTC)"],"popup_metadata":["The CTC scheme is the certification instrument of the ICGLR  Regional Certification Mechanism (RCM). It implements the OECD guidance and  the Dodd-Franck act to the specific challenges pertaining to the ASM sector  in the Great Lakes Region. 5 principles: Traceability and Transparency ,Labor  and Working Conditions, Security, Community Development, Environmental  protection.","https://transparency-lab-test.netlify.app/ctc-icglr","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["13"]},{"filter":"Copper","nest_columns":["Copper","Certification Schemes","Responsible Minerals Assurance Process (RMAP)"],"popup_metadata":["Formerly known as Conflict-Free Smelter Program. The RMAP  helps companies make informed choices about responsibly sourced minerals in  their supply chains by providing assurance to its accredited smelters and  refiners' members. It focuses on a \"pinch point\" and validates  smelters' company level management processes for responsible mineral  procurement through third third-party assessment of the RMAP standards. The  standards implement the OECD guidance, the EU regulation and the Dodd-Franck  act.","https://transparency-lab-test.netlify.app/rma-process","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["13"]},{"filter":"Copper","nest_columns":["Copper","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Copper","nest_columns":["Copper","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Copper","nest_columns":["Copper","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Copper","nest_columns":["Copper","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Copper","nest_columns":["Copper","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Copper","nest_columns":["Copper","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Copper","nest_columns":["Copper","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Copper","nest_columns":["Copper","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Copper","nest_columns":["Copper","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Copper","nest_columns":["Copper","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["13"]},{"filter":"Diamonds","nest_columns":["Diamonds","Guidelines","CIBJO Responsible Sourcing Guidance"],"popup_metadata":["The guidance standardizes how jewellery and gemstone firms  should implement supply-chain due diligence. It follows the framework of the  OECD Guidance, the Kimberley Process Certification Scheme and requires  compliance to the World Diamond Council System of Warranties Guidelines for  diamonds (i.e. extension of KPC compliance to polished diamonds).","https://transparency-lab-test.netlify.app/cibjo-resp","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Certification Schemes","Gemfair (Pilot)"],"popup_metadata":["Certification mechanisms aiming to create market routes for  artisanally mined diamonds by implementing due diligence standards and  digitally ensuring the traceability of diamonds.","https://transparency-lab-test.netlify.app/gemfair-debeers","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Mandatory Legal Frameworks","Kimberley Process Certification Scheme"],"popup_metadata":["KPC is a multilateral trade agreement comprising of 82  countries to eliminate the trade in so-called conflict diamonds. Members must  1) establish national legislation, institutions and  importhttps://transparency-lab-test.netlify.app/export controls, 2) commit to  transparent practices and to the exchange of data, 3) trade only with other  members, 4) certify shipments as conflict-free.","https://transparency-lab-test.netlify.app/kimberly-cert","Here we list only on the legal frameworks that explicitly  focus on minerals. Other regulations and international conventions may apply  to minerals as part of their broader scope, including the UN Minamata  Convention on Mercury or the ILO Indigenous and Tribal People Convention 169  as well as other conventions to the extent of their ratification and  application in national legal frameworks."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Certification Schemes","Maendeleo Diamond Standards certification"],"popup_metadata":["The standards adapt and implement existing responsible  sourcing protocols and standards of industrial diamond mining to artisanal  and small-scale operators to build a bridge between this sector and existing  responsible supply chains. MDS certification focuses on Kimberley  Process-approved zones and formalized operations. It includes due-dilligence,  traceability and segregation policies and procedures for buyers.  Certification is granted upon third party auditing.","https://transparency-lab-test.netlify.app/maendeleo-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Voluntary Standards","RJC code of conduct"],"popup_metadata":["The RJC COP defines the responsible ethical, human rights,  social and environmental practices throughout the jewellry and watch supply  chains. It draws on existing guidelines such the OECD for due diligence and  the GRI for reporting. All certified RJC members must adhere to the COP and  work to implement its 42 provisions. The COP lies in between standard and  certification since members can display membership without being accredited.  Third party auditing and certification only becomes mandatory after two  years, and can be granted including without full conformance.","https://transparency-lab-test.netlify.app/rjc-coc","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Traceability Providers","Trustchain (Pilot)"],"popup_metadata":["Tracking and authentication system covering all stages of the  supply chain, and using both digital certification and third party audit for  diamonds and gold produced against responsible standards.","https://transparency-lab-test.netlify.app/trustchain","With growing compliance requirements, a multiplication of  standards, and new digital technologies to track and trace materials, a new  category of actors increasingly fill the gap between corporations seeking  certifications, the implementation of standards required by certifying  organizations, and the verification by third part auditors. These companies  propose integrated solutions to implement due diligence and traceability (if  applicable) requirement as well audit management. They do not elaborate standards  themselves neither grant their own certifications, but implement existing  standards and operate the compliance and audit preparation for existing  certifications."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["16"]},{"filter":"Diamonds","nest_columns":["Diamonds","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["16"]},{"filter":"Galena","nest_columns":["Galena","Certification Schemes","Certified Trading Chains (CTC)"],"popup_metadata":["The CTC scheme is the certification instrument of the ICGLR  Regional Certification Mechanism (RCM). It implements the OECD guidance and  the Dodd-Franck act to the specific challenges pertaining to the ASM sector  in the Great Lakes Region. 5 principles: Traceability and Transparency ,Labor  and Working Conditions, Security, Community Development, Environmental  protection.","https://transparency-lab-test.netlify.app/ctc-icglr","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Galena","nest_columns":["Galena","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Galena","nest_columns":["Galena","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Galena","nest_columns":["Galena","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Galena","nest_columns":["Galena","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Galena","nest_columns":["Galena","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Galena","nest_columns":["Galena","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Galena","nest_columns":["Galena","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Galena","nest_columns":["Galena","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Galena","nest_columns":["Galena","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Galena","nest_columns":["Galena","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Gemstones","nest_columns":["Gemstones","Certification Schemes","Certified Trading Chains (CTC)"],"popup_metadata":["The CTC scheme is the certification instrument of the ICGLR  Regional Certification Mechanism (RCM). It implements the OECD guidance and  the Dodd-Franck act to the specific challenges pertaining to the ASM sector  in the Great Lakes Region. 5 principles: Traceability and Transparency ,Labor  and Working Conditions, Security, Community Development, Environmental  protection.","https://transparency-lab-test.netlify.app/ctc-icglr","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["14"]},{"filter":"Gemstones","nest_columns":["Gemstones","Traceability Providers","Provenance Proof initiative"],"popup_metadata":["The initiative seeks to bring more transparency and  traceability to every step in the gemstone industry's value chain. It  supplements inclusions-based identification of regional origin with mines'  information encoded in nano-sized particules, and uses blockchain to securely  store, record and share all operations from mine to lab.","https://transparency-lab-test.netlify.app/ppi-ggl","With growing compliance requirements, a multiplication of  standards, and new digital technologies to track and trace materials, a new  category of actors increasingly fill the gap between corporations seeking  certifications, the implementation of standards required by certifying  organizations, and the verification by third part auditors. These companies  propose integrated solutions to implement due diligence and traceability (if  applicable) requirement as well audit management. They do not elaborate standards  themselves neither grant their own certifications, but implement existing  standards and operate the compliance and audit preparation for existing  certifications."],"size_columns":["14"]},{"filter":"Gemstones","nest_columns":["Gemstones","Certification Schemes","Responsible Source - Jewelry"],"popup_metadata":["SCS certification for the jewellery supply chains of the use  of recycled metals and gemstones, to avoid conflict metals and materials from  questionable or illegal sources. Unlike most schemes targeting mined  materials, it does not refer to the OECD guidance. References include ILO  conventions, US regulation (Dodd-Franck), and ISO standards.","https://transparency-lab-test.netlify.app/scs-jewellery","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["14"]},{"filter":"Gemstones","nest_columns":["Gemstones","Voluntary Standards","RJC code of conduct"],"popup_metadata":["The RJC COP defines the responsible ethical, human rights,  social and environmental practices throughout the jewellry and watch supply  chains. It draws on existing guidelines such the OECD for due diligence and  the GRI for reporting. All certified RJC members must adhere to the COP and  work to implement its 42 provisions. The COP lies in between standard and  certification since members can display membership without being accredited.  Third party auditing and certification only becomes mandatory after two  years, and can be granted including without full conformance.","https://transparency-lab-test.netlify.app/rjc-coc","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["14"]},{"filter":"Gemstones","nest_columns":["Gemstones","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["14"]},{"filter":"Gemstones","nest_columns":["Gemstones","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["14"]},{"filter":"Gemstones","nest_columns":["Gemstones","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["14"]},{"filter":"Gemstones","nest_columns":["Gemstones","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["14"]},{"filter":"Gemstones","nest_columns":["Gemstones","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["14"]},{"filter":"Gemstones","nest_columns":["Gemstones","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["14"]},{"filter":"Gemstones","nest_columns":["Gemstones","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["14"]},{"filter":"Gemstones","nest_columns":["Gemstones","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["14"]},{"filter":"Gemstones","nest_columns":["Gemstones","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["14"]},{"filter":"Gemstones","nest_columns":["Gemstones","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["14"]},{"filter":"Gold","nest_columns":["Gold","Voluntary Standards","Better Gold Initiative"],"popup_metadata":["Created by Swiss players of the gold value chain, from  refiners to retailers, BGI aims to create a market driven mechanism (based on  purchases with a premium) that enables formalized artisanal gold mining  entities to adopt more socially inclusive and better environmental practices  through technical assistance and impact assessment financed as part of  members' CSR.","https://transparency-lab-test.netlify.app/better-gold-swiss","This section lists the  main responsible initiatives in the extractive industries. We separate them  into two main categories, respectively initiatives that set voluntary  standards on principles of adherence without integrated certification  mechanisms and initiatives that provide certification (or accredited  membership) against their own standards or existing ones through external  verification."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Traceability Providers","Better Mining (BMP) and Better Sourcing (BSP) programmes"],"popup_metadata":["BMP provides artisanal and small-scale mining (ASM) supply  chain specific digital risk and impact data packages on a subscription basis  to downstream companies and consumer brands needing due-dilligence. BSP  concerns Upstream Data product, it is recognised by RMI RMAP assurance  through which certification is issued along the OECD guidance, EU regulation,  and Dodd-Franck act","https://transparency-lab-test.netlify.app/bmp-bsp","With growing compliance requirements, a multiplication of  standards, and new digital technologies to track and trace materials, a new  category of actors increasingly fill the gap between corporations seeking  certifications, the implementation of standards required by certifying  organizations, and the verification by third part auditors. These companies  propose integrated solutions to implement due diligence and traceability (if  applicable) requirement as well audit management. They do not elaborate standards  themselves neither grant their own certifications, but implement existing  standards and operate the compliance and audit preparation for existing  certifications."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Guidelines","Chinese Due Diligence Guidelines for Responsible mineral  Supply Chains"],"popup_metadata":["The guidelines aligns with the OECD due-diligence guidance.  Thy should provide support to companies engaged at any point in the supply  chain of minerals to identify, prevent, and mitigate the risks of directly or  indirectly contributing to conflict, serious human rights abuse, and risks of  serious misconduct.","https://transparency-lab-test.netlify.app/chinese-dd","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Voluntary Standards","CRAFT code"],"popup_metadata":["CRAFT is a tool that facilitates the comprehension,  application, and commitment to due diligence by all stakeholders in artisanal  supply chains. It enables the identification and mitigation of risks existing  in the artisanal and small-scale mining (ASM) sector, and supports  progressive improvement in environmental and social performance. It aims to  facilitate ASM products to access formal supply chains and possibly apply for  an external certification.","https://transparency-lab-test.netlify.app/craft-code","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Certification Schemes","DMCC Rules for Risk Based Due Diligence in the Gold and  Precious Metals Supply Chain (DMCC RGB)"],"popup_metadata":["Accreditation system for buisnesses in the supply chain  relating to Mined Gold andhttps://transparency-lab-test.netlify.app/or  Precious Metalsand Recycled Gold  andhttps://transparency-lab-test.netlify.app/or Precious Metals, along the  implementation of effective due diligence on their supply chains, granting  accreditation to Dubai Good Delivery list and access to trade in Dubai DMCC.  The RGB implements the OECD guidance, yet with minimal requirements on  reporting and disclosure as well as due diligence on recycled gold.","https://transparency-lab-test.netlify.app/dmcc-rgb","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Mandatory Legal Frameworks","Dodd-Franck Act, Section 1502"],"popup_metadata":["Prevents Securities and Exchange Commission (SEC) reporting  companies to finance conflicts or armed groups in the DRC.","https://transparency-lab-test.netlify.app/dodd-franck","Here we list only on the legal frameworks that explicitly  focus on minerals. Other regulations and international conventions may apply  to minerals as part of their broader scope, including the UN Minamata  Convention on Mercury or the ILO Indigenous and Tribal People Convention 169  as well as other conventions to the extent of their ratification and  application in national legal frameworks."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Mandatory Legal Frameworks","EU Conflict Minerals Regulation"],"popup_metadata":["Increase supply chain transparency and ensure the responsible  sourcing of tin, tantalum, tungsten and gold, largely mined in places that  suffer from armed conflict and where human rights violations are  widespread.","https://transparency-lab-test.netlify.app/eu-conflict-minerals","Here we list only on the legal frameworks that explicitly  focus on minerals. Other regulations and international conventions may apply  to minerals as part of their broader scope, including the UN Minamata  Convention on Mercury or the ILO Indigenous and Tribal People Convention 169  as well as other conventions to the extent of their ratification and  application in national legal frameworks."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Certification Schemes","Fair Trade Gold"],"popup_metadata":["The standard for Gold and Associated Precious Metals for ASSM  covers the requirements that need to be complied within order to participate  in the Fairtrade system. It applies to legal artisanal and small-scale mining  organizations (ASMO, including landowner, legal owner, members, shareholders)  of various types, including community based ASMO, as well as to traders and  refiners (with a focus on traceability, possibly mass balanced). It refers to  various regulations (ILO, Dodd-Franc), guidelines (OCDE), and other gold  certification (LBMA). Certification is based upon the fair trade system and  granted upon third party auditing by FLOCERT, which allows for a premium  price, possibly supplemented by an ecological premium.","https://transparency-lab-test.netlify.app/fair-trade-gold","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Certification Schemes","Fairmined gold and Fairmined ecological gold"],"popup_metadata":["This standard is  directed at community  based Artisanal and  Small-Scale Mining Organizations (ASMOs) comprising  of all possible  forms of organizations that  they may constitute. Fairmined ASMOs are certified  through third party auditing, and Fairmined licensees (retailers of Fairmined  labelled products) are certified upon full physical traceability (unlike Fair  Trade Gold) through third party auditing. The standard aligns with the OECD  guidance and regulations such as ILO and the Minamata convention. A premium  is paid to the Fairmined producer depending on whether it complies with the  Fairmined golf or Fairmined ecological gold.","https://transparency-lab-test.netlify.app/fairmined-gold","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Mandatory Legal Frameworks","ICGLR Regional Certification Mechanism"],"popup_metadata":["RCM provides for sustainable conflict-free mineral chains in  and between ICGLR Member States through: (1) Mine Site Inspection and  Certification; (2) Mineral Chain of Custody (CoC) Tracking; (3) Mineral  Export and Certification; (4) Mineral Tracking Database; (5) Third Party  Audits (TPA) and (6) the Independent Mineral Chain Auditor (IMCA).","https://transparency-lab-test.netlify.app/icglr-certification","Here we list only on the legal frameworks that explicitly  focus on minerals. Other regulations and international conventions may apply  to minerals as part of their broader scope, including the UN Minamata  Convention on Mercury or the ILO Indigenous and Tribal People Convention 169  as well as other conventions to the extent of their ratification and  application in national legal frameworks."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Certification Schemes","International Cyanide Management Code for the Gold Mining  Industry"],"popup_metadata":["Code focusing exclusively on the safe management of cyanide  that is produced, transported and used for the recovery of gold and silver,  and on mill tailings and leach solutions at mine sites.","https://transparency-lab-test.netlify.app/icmi-cyanide","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Traceability Providers","Just Gold (Pilot)"],"popup_metadata":["Programme to open licit market routes for ASGM mercury-free  operations in conflict affected areas by ensuring supply chain due diligence  to the mine site level and product traceability from mine to market.","https://transparency-lab-test.netlify.app/just-gold-imp","With growing compliance requirements, a multiplication of  standards, and new digital technologies to track and trace materials, a new  category of actors increasingly fill the gap between corporations seeking  certifications, the implementation of standards required by certifying  organizations, and the verification by third part auditors. These companies  propose integrated solutions to implement due diligence and traceability (if  applicable) requirement as well audit management. They do not elaborate standards  themselves neither grant their own certifications, but implement existing  standards and operate the compliance and audit preparation for existing  certifications."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Certification Schemes","LBMA Responsible Sourcing programme"],"popup_metadata":["Compliance to the responsible sourcing program is a mandatory  requirement for the accreditation of precious metals' refineries to the LBMA  good delivery list (enabling access to London OTC market). Except on issues  of disclosure, the programme implements the OECD due diligence guidance to  the refineries of gold and precious metals.","https://transparency-lab-test.netlify.app/lbma-sourcing","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Guidelines","OECD Due Diligence Guidance for Responsible Supply Chains of  Minerals from Conflict-Affected and High-Risk Areas"],"popup_metadata":["The Guidance provides a 5-step framework to identify, (2)  assess and (3) mitigate human rights risks, as well as recommendations for  (4) third party auditing and (5) reporting.","https://transparency-lab-test.netlify.app/oecd-due-diligence","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Certification Schemes","Responsible Minerals Assurance Process (RMAP)"],"popup_metadata":["Formerly known as Conflict-Free Smelter Program. The RMAP  helps companies make informed choices about responsibly sourced minerals in  their supply chains by providing assurance to its accredited smelters and  refiners' members. It focuses on a \"pinch point\" and validates  smelters' company level management processes for responsible mineral  procurement through third third-party assessment of the RMAP standards. The  standards implement the OECD guidance, the EU regulation and the Dodd-Franck  act.","https://transparency-lab-test.netlify.app/rma-process","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Certification Schemes","Responsible Source - Jewelry"],"popup_metadata":["SCS certification for the jewellery supply chains of the use  of recycled metals and gemstones, to avoid conflict metals and materials from  questionable or illegal sources. Unlike most schemes targeting mined  materials, it does not refer to the OECD guidance. References include ILO  conventions, US regulation (Dodd-Franck), and ISO standards.","https://transparency-lab-test.netlify.app/scs-jewellery","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Certification Schemes","RJC Chain-of-custody (CoC) certification"],"popup_metadata":["The RJC CoC is voluntary to RJC members and certifies that  mined and recycled material is traced and segregated along the supply chain,  and that it meets eligibility criteria of responsible sourcing, optionally  claims of provenance. It implements the OECD guidance to the jewellery supply  chains and applies to precious metals. CoC certification requires third-party  auditing at every stage of the supply chain upon which a certification  decision is taken.","https://transparency-lab-test.netlify.app/rjc-coc-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Voluntary Standards","RJC code of conduct"],"popup_metadata":["The RJC COP defines the responsible ethical, human rights,  social and environmental practices throughout the jewellry and watch supply  chains. It draws on existing guidelines such the OECD for due diligence and  the GRI for reporting. All certified RJC members must adhere to the COP and  work to implement its 42 provisions. The COP lies in between standard and  certification since members can display membership without being accredited.  Third party auditing and certification only becomes mandatory after two  years, and can be granted including without full conformance.","https://transparency-lab-test.netlify.app/rjc-coc","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Traceability Providers","Trustchain (Pilot)"],"popup_metadata":["Tracking and authentication system covering all stages of the  supply chain, and using both digital certification and third party audit for  diamonds and gold produced against responsible standards.","https://transparency-lab-test.netlify.app/trustchain","With growing compliance requirements, a multiplication of  standards, and new digital technologies to track and trace materials, a new  category of actors increasingly fill the gap between corporations seeking  certifications, the implementation of standards required by certifying  organizations, and the verification by third part auditors. These companies  propose integrated solutions to implement due diligence and traceability (if  applicable) requirement as well audit management. They do not elaborate standards  themselves neither grant their own certifications, but implement existing  standards and operate the compliance and audit preparation for existing  certifications."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Voluntary Standards","WGC Conflict-Free Gold Standard"],"popup_metadata":["The Standard aims to help gold producers to demonstrate that  their gold has been extracted in a manner that does not fuel conflict or the  abuse of human rights associated with such conflicts by operationalising the  OECD guidance at the level of mines. Conformance with the standard is  externally assured and is not a prerequisite for WGC membership.","https://transparency-lab-test.netlify.app/wgc-gold-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["30"]},{"filter":"Gold","nest_columns":["Gold","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["30"]},{"filter":"Lead","nest_columns":["Lead","Certification Schemes","Responsible Minerals Assurance Process (RMAP)"],"popup_metadata":["Formerly known as Conflict-Free Smelter Program. The RMAP  helps companies make informed choices about responsibly sourced minerals in  their supply chains by providing assurance to its accredited smelters and  refiners' members. It focuses on a \"pinch point\" and validates  smelters' company level management processes for responsible mineral  procurement through third third-party assessment of the RMAP standards. The  standards implement the OECD guidance, the EU regulation and the Dodd-Franck  act.","https://transparency-lab-test.netlify.app/rma-process","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Lead","nest_columns":["Lead","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Lead","nest_columns":["Lead","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Lead","nest_columns":["Lead","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Lead","nest_columns":["Lead","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Lead","nest_columns":["Lead","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Lead","nest_columns":["Lead","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Lead","nest_columns":["Lead","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Lead","nest_columns":["Lead","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Lead","nest_columns":["Lead","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Lead","nest_columns":["Lead","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Mica","nest_columns":["Mica","Certification Schemes","Responsible Minerals Assurance Process (RMAP)"],"popup_metadata":["Formerly known as Conflict-Free Smelter Program. The RMAP  helps companies make informed choices about responsibly sourced minerals in  their supply chains by providing assurance to its accredited smelters and  refiners' members. It focuses on a \"pinch point\" and validates  smelters' company level management processes for responsible mineral  procurement through third third-party assessment of the RMAP standards. The  standards implement the OECD guidance, the EU regulation and the Dodd-Franck  act.","https://transparency-lab-test.netlify.app/rma-process","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Mica","nest_columns":["Mica","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Mica","nest_columns":["Mica","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Mica","nest_columns":["Mica","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Mica","nest_columns":["Mica","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Mica","nest_columns":["Mica","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Mica","nest_columns":["Mica","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Mica","nest_columns":["Mica","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Mica","nest_columns":["Mica","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Mica","nest_columns":["Mica","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Mica","nest_columns":["Mica","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Natural Stones","nest_columns":["Natural Stones","Certification Schemes","ANSIhttps://transparency-lab-test.netlify.app/NSC 373  Sustainability Standard Certification"],"popup_metadata":["The Standard establishes a  set of well-defined environmental, ecological, social responsibility and human health metrics as  an indicator of leadership in sustainability performance. It applies to all  processors of natural stone, from quarry operations through final stone  fabrication, both in domestic (US) and international markets. The quarrier  and processor will need to obtain the standard compliance, chain of custody  and conformance document by a third-party auditor in order to pursue  certification.","https://transparency-lab-test.netlify.app/ansi-nsc-cert","There are various  schemes that certify the implementation of responsible guidelines and  standards. Most often, the same organization provides the standard and  accredits the applicant corporate owner against it through third party  verification. Verification systems can mainly be differentiated depending on  whether they certify specific commodities within supply chains (e.g. RJC CoC,  Fairmined) or whether they certify specific actors within supply chains (e.g.  IRMA, RMI)."],"size_columns":["13"]},{"filter":"Natural Stones","nest_columns":["Natural Stones","Certification Schemes","Fair Stone"],"popup_metadata":["Standard and certification mechanism implementing chain of  custody in the natural stone supply chain with a main focus on eliminating  child and forced labour and improving health and safety standards.","https://transparency-lab-test.netlify.app/fair-stone","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["13"]},{"filter":"Natural Stones","nest_columns":["Natural Stones","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Natural Stones","nest_columns":["Natural Stones","Certification Schemes","XertifiX"],"popup_metadata":["Certification ensuring that no child labor or slavery is  carried out, that all ILO core labor standards are observed, and basic  environmental protection measures are observed","https://transparency-lab-test.netlify.app/xertifix","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["13"]},{"filter":"Natural Stones","nest_columns":["Natural Stones","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Natural Stones","nest_columns":["Natural Stones","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Natural Stones","nest_columns":["Natural Stones","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Natural Stones","nest_columns":["Natural Stones","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Natural Stones","nest_columns":["Natural Stones","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Natural Stones","nest_columns":["Natural Stones","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Natural Stones","nest_columns":["Natural Stones","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Natural Stones","nest_columns":["Natural Stones","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Natural Stones","nest_columns":["Natural Stones","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["13"]},{"filter":"Nickel","nest_columns":["Nickel","Certification Schemes","Responsible Minerals Assurance Process (RMAP)"],"popup_metadata":["Formerly known as Conflict-Free Smelter Program. The RMAP  helps companies make informed choices about responsibly sourced minerals in  their supply chains by providing assurance to its accredited smelters and  refiners' members. It focuses on a \"pinch point\" and validates  smelters' company level management processes for responsible mineral  procurement through third third-party assessment of the RMAP standards. The  standards implement the OECD guidance, the EU regulation and the Dodd-Franck  act.","https://transparency-lab-test.netlify.app/rma-process","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Nickel","nest_columns":["Nickel","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Nickel","nest_columns":["Nickel","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Nickel","nest_columns":["Nickel","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Nickel","nest_columns":["Nickel","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Nickel","nest_columns":["Nickel","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Nickel","nest_columns":["Nickel","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Nickel","nest_columns":["Nickel","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Nickel","nest_columns":["Nickel","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Nickel","nest_columns":["Nickel","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Nickel","nest_columns":["Nickel","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Palladium","nest_columns":["Palladium","Certification Schemes","DMCC Rules for Risk Based Due Diligence in the Gold and  Precious Metals Supply Chain (DMCC RGB)"],"popup_metadata":["Accreditation system for buisnesses in the supply chain  relating to Mined Gold andhttps://transparency-lab-test.netlify.app/or  Precious Metalsand Recycled Gold  andhttps://transparency-lab-test.netlify.app/or Precious Metals, along the  implementation of effective due diligence on their supply chains, granting  accreditation to Dubai Good Delivery list and access to trade in Dubai DMCC.  The RGB implements the OECD guidance, yet with minimal requirements on  reporting and disclosure as well as due diligence on recycled gold.","https://transparency-lab-test.netlify.app/dmcc-rgb","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["13"]},{"filter":"Palladium","nest_columns":["Palladium","Certification Schemes","LBMA Responsible Sourcing programme"],"popup_metadata":["Compliance to the responsible sourcing program is a mandatory  requirement for the accreditation of precious metals' refineries to the LBMA  good delivery list (enabling access to London OTC market). Except on issues  of disclosure, the programme implements the OECD due diligence guidance to  the refineries of gold and precious metals.","https://transparency-lab-test.netlify.app/lbma-sourcing","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["13"]},{"filter":"Palladium","nest_columns":["Palladium","Certification Schemes","Responsible Source - Jewelry"],"popup_metadata":["SCS certification for the jewellery supply chains of the use  of recycled metals and gemstones, to avoid conflict metals and materials from  questionable or illegal sources. Unlike most schemes targeting mined  materials, it does not refer to the OECD guidance. References include ILO  conventions, US regulation (Dodd-Franck), and ISO standards.","https://transparency-lab-test.netlify.app/scs-jewellery","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["13"]},{"filter":"Palladium","nest_columns":["Palladium","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Palladium","nest_columns":["Palladium","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Palladium","nest_columns":["Palladium","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Palladium","nest_columns":["Palladium","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Palladium","nest_columns":["Palladium","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Palladium","nest_columns":["Palladium","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Palladium","nest_columns":["Palladium","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Palladium","nest_columns":["Palladium","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["13"]},{"filter":"Palladium","nest_columns":["Palladium","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["13"]},{"filter":"Palladium","nest_columns":["Palladium","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["13"]},{"filter":"Platinum","nest_columns":["Platinum","Certification Schemes","DMCC Rules for Risk Based Due Diligence in the Gold and  Precious Metals Supply Chain (DMCC RGB)"],"popup_metadata":["Accreditation system for buisnesses in the supply chain  relating to Mined Gold andhttps://transparency-lab-test.netlify.app/or  Precious Metalsand Recycled Gold  andhttps://transparency-lab-test.netlify.app/or Precious Metals, along the  implementation of effective due diligence on their supply chains, granting  accreditation to Dubai Good Delivery list and access to trade in Dubai DMCC.  The RGB implements the OECD guidance, yet with minimal requirements on  reporting and disclosure as well as due diligence on recycled gold.","https://transparency-lab-test.netlify.app/dmcc-rgb","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["15"]},{"filter":"Platinum","nest_columns":["Platinum","Certification Schemes","LBMA Responsible Sourcing programme"],"popup_metadata":["Compliance to the responsible sourcing program is a mandatory  requirement for the accreditation of precious metals' refineries to the LBMA  good delivery list (enabling access to London OTC market). Except on issues  of disclosure, the programme implements the OECD due diligence guidance to  the refineries of gold and precious metals.","https://transparency-lab-test.netlify.app/lbma-sourcing","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["15"]},{"filter":"Platinum","nest_columns":["Platinum","Certification Schemes","Responsible Source - Jewelry"],"popup_metadata":["SCS certification for the jewellery supply chains of the use  of recycled metals and gemstones, to avoid conflict metals and materials from  questionable or illegal sources. Unlike most schemes targeting mined  materials, it does not refer to the OECD guidance. References include ILO  conventions, US regulation (Dodd-Franck), and ISO standards.","https://transparency-lab-test.netlify.app/scs-jewellery","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["15"]},{"filter":"Platinum","nest_columns":["Platinum","Certification Schemes","RJC Chain-of-custody (CoC) certification"],"popup_metadata":["The RJC CoC is voluntary to RJC members and certifies that  mined and recycled material is traced and segregated along the supply chain,  and that it meets eligibility criteria of responsible sourcing, optionally  claims of provenance. It implements the OECD guidance to the jewellery supply  chains and applies to precious metals. CoC certification requires third-party  auditing at every stage of the supply chain upon which a certification  decision is taken.","https://transparency-lab-test.netlify.app/rjc-coc-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["15"]},{"filter":"Platinum","nest_columns":["Platinum","Voluntary Standards","RJC code of conduct"],"popup_metadata":["The RJC COP defines the responsible ethical, human rights,  social and environmental practices throughout the jewellry and watch supply  chains. It draws on existing guidelines such the OECD for due diligence and  the GRI for reporting. All certified RJC members must adhere to the COP and  work to implement its 42 provisions. The COP lies in between standard and  certification since members can display membership without being accredited.  Third party auditing and certification only becomes mandatory after two  years, and can be granted including without full conformance.","https://transparency-lab-test.netlify.app/rjc-coc","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["15"]},{"filter":"Platinum","nest_columns":["Platinum","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["15"]},{"filter":"Platinum","nest_columns":["Platinum","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["15"]},{"filter":"Platinum","nest_columns":["Platinum","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["15"]},{"filter":"Platinum","nest_columns":["Platinum","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["15"]},{"filter":"Platinum","nest_columns":["Platinum","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["15"]},{"filter":"Platinum","nest_columns":["Platinum","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["15"]},{"filter":"Platinum","nest_columns":["Platinum","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["15"]},{"filter":"Platinum","nest_columns":["Platinum","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["15"]},{"filter":"Platinum","nest_columns":["Platinum","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["15"]},{"filter":"Platinum","nest_columns":["Platinum","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["15"]},{"filter":"Silver","nest_columns":["Silver","Certification Schemes","DMCC Rules for Risk Based Due Diligence in the Gold and  Precious Metals Supply Chain (DMCC RGB)"],"popup_metadata":["Accreditation system for buisnesses in the supply chain  relating to Mined Gold andhttps://transparency-lab-test.netlify.app/or  Precious Metalsand Recycled Gold  andhttps://transparency-lab-test.netlify.app/or Precious Metals, along the  implementation of effective due diligence on their supply chains, granting  accreditation to Dubai Good Delivery list and access to trade in Dubai DMCC.  The RGB implements the OECD guidance, yet with minimal requirements on  reporting and disclosure as well as due diligence on recycled gold.","https://transparency-lab-test.netlify.app/dmcc-rgb","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Certification Schemes","International Cyanide Management Code for the Gold Mining  Industry"],"popup_metadata":["Code focusing exclusively on the safe management of cyanide  that is produced, transported and used for the recovery of gold and silver,  and on mill tailings and leach solutions at mine sites.","https://transparency-lab-test.netlify.app/icmi-cyanide","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Certification Schemes","Responsible Source - Jewelry"],"popup_metadata":["SCS certification for the jewellery supply chains of the use  of recycled metals and gemstones, to avoid conflict metals and materials from  questionable or illegal sources. Unlike most schemes targeting mined  materials, it does not refer to the OECD guidance. References include ILO  conventions, US regulation (Dodd-Franck), and ISO standards.","https://transparency-lab-test.netlify.app/scs-jewellery","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Certification Schemes","RJC Chain-of-custody (CoC) certification"],"popup_metadata":["The RJC CoC is voluntary to RJC members and certifies that  mined and recycled material is traced and segregated along the supply chain,  and that it meets eligibility criteria of responsible sourcing, optionally  claims of provenance. It implements the OECD guidance to the jewellery supply  chains and applies to precious metals. CoC certification requires third-party  auditing at every stage of the supply chain upon which a certification  decision is taken.","https://transparency-lab-test.netlify.app/rjc-coc-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Certification Schemes","RJC Chain-of-custody (CoC) certification"],"popup_metadata":["Compliance to the responsible sourcing program is a mandatory  requirement for the accreditation of precious metals' refineries to the LBMA  good delivery list (enabling access to London OTC market). Except on issues  of disclosure, the programme implements the OECD due diligence guidance to  the refineries of gold and precious metals.","https://transparency-lab-test.netlify.app/rjc-coc-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Voluntary Standards","RJC code of conduct"],"popup_metadata":["The RJC COP defines the responsible ethical, human rights,  social and environmental practices throughout the jewellry and watch supply  chains. It draws on existing guidelines such the OECD for due diligence and  the GRI for reporting. All certified RJC members must adhere to the COP and  work to implement its 42 provisions. The COP lies in between standard and  certification since members can display membership without being accredited.  Third party auditing and certification only becomes mandatory after two  years, and can be granted including without full conformance.","https://transparency-lab-test.netlify.app/rjc-coc","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["16"]},{"filter":"Silver","nest_columns":["Silver","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["16"]},{"filter":"Steel","nest_columns":["Steel","Certification Schemes","ResponsibleSteel Assurance"],"popup_metadata":["The standard is voluntary and applies to operational  steelmaking sites and to related sites that process raw materials for  steelmaking, or that produce steel product - not to service providers, mine  sites, or to sites producing final products. It comprises 12 principles for  the responsible sourcing and production that cover sustainability issues at  large. Policies can be developed at the  grouphttps://transparency-lab-test.netlify.app/corporate owner level, and not  necessarily at the site level, but third party auditing verifies  implementation until sites (both mines for raw material and scrap) upon which  a certification decision is taken.","https://transparency-lab-test.netlify.app/resp-steel","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Steel","nest_columns":["Steel","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Steel","nest_columns":["Steel","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Steel","nest_columns":["Steel","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Steel","nest_columns":["Steel","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Steel","nest_columns":["Steel","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Steel","nest_columns":["Steel","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Steel","nest_columns":["Steel","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Steel","nest_columns":["Steel","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Steel","nest_columns":["Steel","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Steel","nest_columns":["Steel","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Zinc","nest_columns":["Zinc","Certification Schemes","Responsible Minerals Assurance Process (RMAP)"],"popup_metadata":["Formerly known as Conflict-Free Smelter Program. The RMAP  helps companies make informed choices about responsibly sourced minerals in  their supply chains by providing assurance to its accredited smelters and  refiners' members. It focuses on a \"pinch point\" and validates  smelters' company level management processes for responsible mineral  procurement through third third-party assessment of the RMAP standards. The  standards implement the OECD guidance, the EU regulation and the Dodd-Franck  act.","https://transparency-lab-test.netlify.app/rma-process","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]},{"filter":"Zinc","nest_columns":["Zinc","Guidelines","Voluntary Principles on Security and Human Rights"],"popup_metadata":["The Voluntary Principles promotes the implementation of a set  of principles that guide oil, gas, and mining companies on providing security  for their operations in a manner that respects human rights, through  comprehensive human rights risk assessment in their engagement with public  and private security providers.","https://transparency-lab-test.netlify.app/un-voluntary-principles","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Zinc","nest_columns":["Zinc","Voluntary Standards","EITI standard"],"popup_metadata":["The standard works as a framework for signatory countries to  improve the governance of oil, gas and mineral resources. It builds upon a  series of disclosure requirements regarding stakeholders' engagement,  contracts and licenses' allocation, production and exports, revenue  collection and allocation, as well as social and economic spending. EITI  signatories must adhere to the EITI principles and work towards their  implementation which is assessed by the EITI secretariat.","https://transparency-lab-test.netlify.app/eiti-standard","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Zinc","nest_columns":["Zinc","Guidelines","GRI Mining and Metal Supplement Sustainability Reporting  Guidelines"],"popup_metadata":["The guidelines are a sector-specific guidance incorporating  the Global Reporting Initiative (GRI), which provides reporting principles,  standard disclosures, and implementation guidance for creating sustainability  reports.","https://transparency-lab-test.netlify.app/gri-mining-minerals","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Zinc","nest_columns":["Zinc","Voluntary Standards","ICMM Mining Principles"],"popup_metadata":["The principles serve as a best-practice framework comprising  10 core principles for sustainable development in the mining and metals  industry. Adherence to and implementation of the principles are a requirement  for ICMM membership. Members are must go through third-party assurance to  assess and validate their progress towards the principle every 3 years, and  publicly report on progress each year.","https://transparency-lab-test.netlify.app/icmm-mining-principles","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Zinc","nest_columns":["Zinc","Voluntary Standards","International Finance Corporation Performance  Standardshttps://transparency-lab-test.netlify.app/EHS"],"popup_metadata":["These standards are designed for IFC clients to avoid,  mitigate and manage risks and impacts as a way of doing business in a  sustainable way, and to develop their overall environmental and social  management through the Standards and IFC advisory support.","https://transparency-lab-test.netlify.app/ifc-standards","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Zinc","nest_columns":["Zinc","Guidelines","Responsible Exploration Toolkits"],"popup_metadata":["The toolkit aims to provide exploration firms a comprehensive  and practical framework to cover issues and establish due diligence  concerning social responsibility, environmental stewardship and health and  safety in the exploration stage of mineral extraction worldwide.","https://transparency-lab-test.netlify.app/resp-exploration","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Zinc","nest_columns":["Zinc","Voluntary Standards","Responsible Mining Index"],"popup_metadata":["Voluntary evidence-based assessment of large-scale mining  companies policies and practices, both at corporate and mine-site level, on  a range of economic, environmental, social and governance (EESG) issues.","https://transparency-lab-test.netlify.app/rmi-index","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Zinc","nest_columns":["Zinc","Guidelines","RMI's Blockchain Guidelines"],"popup_metadata":["The guidelines apply to any mineral or metal supply chain with  a goal to define the terms, concepts and fundamental data attributes required  to identify supply chain actors that participate in a blockchain-based  solution, with a focus on principles for interoperability between different  chain-of-custody solutions.","https://transparency-lab-test.netlify.app/rmi-index","Regulatory guidelines are used to promote responsible mineral  supply chains by serving as a basis for law making (e.g. EU Conflict minerals  regulation) and industry-specific certification systems. Most of them refer  to existing international law sources and existing regulations."],"size_columns":["11"]},{"filter":"Zinc","nest_columns":["Zinc","Voluntary Standards","Towards Sustainable Mining (TSM)"],"popup_metadata":["The TSM standard is a program that supports mining companies  present in Canada to manage key environmental and social risks. The standard  provides indicators of social and environmental performance that are  evaluated and independently validated. Members must annually report and  provide proof of an external evaluation.","https://transparency-lab-test.netlify.app/sust-mining-canada","This section lists the main responsible initiatives in the  extractive industries. We separate them into two main categories,  respectively initiatives that set voluntary standards on principles of  adherence without integrated certification mechanisms and initiatives that  provide certification (or accredited membership) against their own standards  or existing ones through external verification."],"size_columns":["11"]},{"filter":"Zinc","nest_columns":["Zinc","Certification Schemes","IRMA Standard for Responsible Mining"],"popup_metadata":["IRMAs Standard defines good practices for what responsible  mining should look like at the industrial-scale mine site level (business  integrity, planning, social responsibility, environmental responsibility)  that independent auditors will use as the benchmark for responsible mines.  IRMA offers third-party certification of industrial-scale mine sites for all  mined materials that is governed equitably by the private sector, local  communities, civil society, and workers.","https://transparency-lab-test.netlify.app/irma-cert","There are various schemes that certify the implementation of  responsible guidelines and standards. Most often, the same organization  provides the standard and accredits the applicant corporate owner against it  through third party verification. Verification systems can mainly be  differentiated depending on whether they certify specific commodities within  supply chains (e.g. RJC CoC, Fairmined) or whether they certify specific  actors within supply chains (e.g. IRMA, RMI)."],"size_columns":["11"]}]},
		    _Flourish_visualisation_id = 7335161,
		    _Flourish_template_id = 2259;
		for (var _Flourish_dataset in _Flourish_data) {
				window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];
				window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];
				window.template.data[_Flourish_dataset].metadata = _Flourish_data_metadata[_Flourish_dataset];
		}


		window.template.draw();
	</script>


  </div>

</article>
</main>
      <footer> The Graduate Institute, Geneva 2019 - 2021.
</footer>
    </div>
  </body>
</html>
